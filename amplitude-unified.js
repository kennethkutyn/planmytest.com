(()=>{var RI=Object.create;var nu=Object.defineProperty;var OI=Object.getOwnPropertyDescriptor;var PI=Object.getOwnPropertyNames;var NI=Object.getPrototypeOf,kI=Object.prototype.hasOwnProperty;var W=(n,e)=>()=>(n&&(e=n(n=0)),e);var MI=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),nn=(n,e)=>{for(var t in e)nu(n,t,{get:e[t],enumerable:!0})},LI=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of PI(e))!kI.call(n,i)&&i!==t&&nu(n,i,{get:()=>e[i],enumerable:!(r=OI(e,i))||r.enumerable});return n};var DI=(n,e,t)=>(t=n!=null?RI(NI(n)):{},LI(e||!n||!n.__esModule?nu(t,"default",{value:n,enumerable:!0}):t,n));function ee(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iu(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Xn(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function E(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(n,e||[])).next())})}function S(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function L(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function U(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Nr(n){return this instanceof Nr?(this.v=n,this):new Nr(n)}function cm(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,f)}}function l(h,p){r[h]&&(i[h]=function(v){return new Promise(function(m,y){o.push([h,v,m,y])>1||a(h,v)})},p&&(i[h]=p(i[h])))}function a(h,p){try{u(r[h](p))}catch(v){d(o[0][3],v)}}function u(h){h.value instanceof Nr?Promise.resolve(h.value.v).then(c,f):d(o[0][2],h)}function c(h){a("next",h)}function f(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function fm(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof L=="function"?L(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(l,a){s=n[o](s),i(l,a,s.done,s.value)})}}function i(o,s,l,a){Promise.resolve(a).then(function(u){o({value:u,done:l})},s)}}var iu,I,P=W(()=>{iu=function(n,e){return iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},iu(n,e)};I=function(){return I=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},I.apply(this,arguments)}});var Bt,it,Oo=W(()=>{(function(n){n.SET="$set",n.SET_ONCE="$setOnce",n.ADD="$add",n.APPEND="$append",n.PREPEND="$prepend",n.REMOVE="$remove",n.PREINSERT="$preInsert",n.POSTINSERT="$postInsert",n.UNSET="$unset",n.CLEAR_ALL="$clearAll"})(Bt||(Bt={}));(function(n){n.IDENTIFY="$identify",n.GROUP_IDENTIFY="$groupidentify",n.REVENUE="revenue_amount"})(it||(it={}))});var ou,tr,Zn,Po,su,dm,hm,pm,mm,vm,gm,ym,bm,wm,au,lu,uu,cu,fu,du,hu,pu,mu,vu,gu,kr,Mr,yu,Ot=W(()=>{ou="-",tr="AMP",Zn="".concat(tr,"_unsent"),Po="$default_instance",su="https://api2.amplitude.com/2/httpapi",dm="https://api.eu.amplitude.com/2/httpapi",hm="https://api2.amplitude.com/batch",pm="https://api.eu.amplitude.com/batch",mm="utm_campaign",vm="utm_content",gm="utm_id",ym="utm_medium",bm="utm_source",wm="utm_term",au="dclid",lu="fbclid",uu="gbraid",cu="gclid",fu="ko_click_id",du="li_fat_id",hu="msclkid",pu="rdt_cid",mu="ttclid",vu="twclid",gu="wbraid",kr={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rdt_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Mr=["access-control-allow-origin","access-control-allow-credentials","access-control-expose-headers","access-control-max-age","access-control-allow-methods","access-control-allow-headers","accept-patch","accept-ranges","age","allow","alt-svc","cache-control","connection","content-disposition","content-encoding","content-language","content-length","content-location","content-md5","content-range","content-type","date","delta-base","etag","expires","im","last-modified","link","location","permanent","p3p","pragma","proxy-authenticate","public-key-pins","retry-after","server","status","strict-transport-security","trailer","transfer-encoding","tk","upgrade","vary","via","warning","www-authenticate","x-b3-traceid","x-frame-options"],yu=["authorization","cookie","set-cookie"]});var UI,No,bu,wu=W(()=>{P();UI=1e3,No=function(n){if(Object.keys(n).length>UI)return!1;for(var e in n){var t=n[e];if(!bu(e,t))return!1}return!0},bu=function(n,e){var t,r;if(typeof n!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var o=L(e),s=o.next();!s.done;s=o.next()){var l=s.value;if(Array.isArray(l))return!1;if(typeof l=="object")i=i&&No(l);else if(!["number","string"].includes(typeof l))return!1;if(!i)return!1}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}else{if(e==null)return!1;if(typeof e=="object")return No(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0}});var vr,Re,Sm,ko=W(()=>{P();Ot();wu();vr=(function(){function n(){this._propertySet=new Set,this._properties={}}return n.prototype.getUserProperties=function(){return I({},this._properties)},n.prototype.set=function(e,t){return this._safeSet(Re.SET,e,t),this},n.prototype.setOnce=function(e,t){return this._safeSet(Re.SET_ONCE,e,t),this},n.prototype.append=function(e,t){return this._safeSet(Re.APPEND,e,t),this},n.prototype.prepend=function(e,t){return this._safeSet(Re.PREPEND,e,t),this},n.prototype.postInsert=function(e,t){return this._safeSet(Re.POSTINSERT,e,t),this},n.prototype.preInsert=function(e,t){return this._safeSet(Re.PREINSERT,e,t),this},n.prototype.remove=function(e,t){return this._safeSet(Re.REMOVE,e,t),this},n.prototype.add=function(e,t){return this._safeSet(Re.ADD,e,t),this},n.prototype.unset=function(e){return this._safeSet(Re.UNSET,e,ou),this},n.prototype.clearAll=function(){return this._properties={},this._properties[Re.CLEAR_ALL]=ou,this},n.prototype._safeSet=function(e,t,r){if(this._validate(e,t,r)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[t]=r,this._propertySet.add(t),!0}return!1},n.prototype._validate=function(e,t,r){return this._properties[Re.CLEAR_ALL]!==void 0||this._propertySet.has(t)?!1:e===Re.ADD?typeof r=="number":e!==Re.UNSET&&e!==Re.REMOVE?bu(t,r):!0},n})();(function(n){n.SET="$set",n.SET_ONCE="$setOnce",n.ADD="$add",n.APPEND="$append",n.PREPEND="$prepend",n.REMOVE="$remove",n.PREINSERT="$preInsert",n.POSTINSERT="$postInsert",n.UNSET="$unset",n.CLEAR_ALL="$clearAll"})(Re||(Re={}));Sm=[Re.CLEAR_ALL,Re.UNSET,Re.SET,Re.SET_ONCE,Re.ADD,Re.APPEND,Re.PREPEND,Re.PREINSERT,Re.POSTINSERT,Re.REMOVE]});var Em,xm,_m,Cm,Im,Am,Tm,Su=W(()=>{Em="Event tracked successfully",xm="Unexpected error occurred",_m="Event rejected due to exceeded retry count",Cm="Event skipped due to optOut config",Im="Event rejected due to missing API key",Am="Invalid API key",Tm="Client not initialized"});var Te,Jn=W(()=>{(function(n){n.Unknown="unknown",n.Skipped="skipped",n.Success="success",n.RateLimit="rate_limit",n.PayloadTooLarge="payload_too_large",n.Invalid="invalid",n.Failed="failed",n.Timeout="Timeout",n.SystemError="SystemError"})(Te||(Te={}))});var rr,Mo=W(()=>{Jn();rr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Te.Unknown),{event:n,code:e,message:t}}});var j,on=W(()=>{j=function(){var n="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[n]<"u")return globalThis[n];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global}});var $I,Rm,dt,sn=W(()=>{P();on();$I=function(n){return n?(n^Math.random()*16>>n/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,dt)},Rm=U([],O(Array(256).keys()),!1).map(function(n){return n.toString(16).padStart(2,"0")}),dt=function(n){var e,t=j();if(!(!((e=t?.crypto)===null||e===void 0)&&e.getRandomValues))return $I(n);var r=t.crypto.getRandomValues(new Uint8Array(16));return r[6]=r[6]&15|64,r[8]=r[8]&63|128,U([],O(r.entries()),!1).map(function(i){var o=O(i,2),s=o[0],l=o[1];return[4,6,8,10].includes(s)?"-".concat(Rm[l]):Rm[l]}).join("")}});var Om,Pm=W(()=>{P();Mo();sn();Om=(function(){function n(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return n.prototype.register=function(e,t){var r,i;return E(this,void 0,void 0,function(){return S(this,function(o){switch(o.label){case 0:return this.plugins.some(function(s){return s.name===e.name})?(this.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2]):(e.name===void 0&&(e.name=dt(),this.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(e.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),e.type=(r=e.type)!==null&&r!==void 0?r:"enrichment",[4,(i=e.setup)===null||i===void 0?void 0:i.call(e,t,this.client)]);case 1:return o.sent(),this.plugins.push(e),[2]}})})},n.prototype.deregister=function(e,t){var r;return E(this,void 0,void 0,function(){var i,o;return S(this,function(s){switch(s.label){case 0:return i=this.plugins.findIndex(function(l){return l.name===e}),i===-1?(t.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2]):(o=this.plugins[i],this.plugins.splice(i,1),[4,(r=o.teardown)===null||r===void 0?void 0:r.call(o)]);case 1:return s.sent(),[2]}})})},n.prototype.reset=function(e){this.applying=!1;var t=this.plugins;t.map(function(r){var i;return(i=r.teardown)===null||i===void 0?void 0:i.call(r)}),this.plugins=[],this.client=e},n.prototype.push=function(e){var t=this;return new Promise(function(r){t.queue.push([e,r]),t.scheduleApply(0)})},n.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},n.prototype.apply=function(e){return E(this,void 0,void 0,function(){var t,r,i,o,s,l,a,h,p,u,c,f,d,h,p,v,m,y,g,b,w,x;return S(this,function(_){switch(_.label){case 0:if(!e)return[2];t=O(e,1),r=t[0],i=O(e,2),o=i[1],this.loggerProvider.log("Timeline.apply: Initial event",r),s=this.plugins.filter(function(A){return A.type==="before"}),_.label=1;case 1:_.trys.push([1,6,7,8]),l=L(s),a=l.next(),_.label=2;case 2:return a.done?[3,5]:(h=a.value,h.execute?[4,h.execute(I({},r))]:[3,4]);case 3:if(p=_.sent(),p===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by before plugin '".concat(String(h.name),"', event: ").concat(JSON.stringify(r))),o({event:r,code:0,message:""}),[2];r=p,this.loggerProvider.log("Timeline.apply: Event after before plugin '".concat(String(h.name),"', event: ").concat(JSON.stringify(r))),_.label=4;case 4:return a=l.next(),[3,2];case 5:return[3,8];case 6:return u=_.sent(),g={error:u},[3,8];case 7:try{a&&!a.done&&(b=l.return)&&b.call(l)}finally{if(g)throw g.error}return[7];case 8:c=this.plugins.filter(function(A){return A.type==="enrichment"||A.type===void 0}),_.label=9;case 9:_.trys.push([9,14,15,16]),f=L(c),d=f.next(),_.label=10;case 10:return d.done?[3,13]:(h=d.value,h.execute?[4,h.execute(I({},r))]:[3,12]);case 11:if(p=_.sent(),p===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by enrichment plugin '".concat(String(h.name),"', event: ").concat(JSON.stringify(r))),o({event:r,code:0,message:""}),[2];r=p,this.loggerProvider.log("Timeline.apply: Event after enrichment plugin '".concat(String(h.name),"', event: ").concat(JSON.stringify(r))),_.label=12;case 12:return d=f.next(),[3,10];case 13:return[3,16];case 14:return v=_.sent(),w={error:v},[3,16];case 15:try{d&&!d.done&&(x=f.return)&&x.call(f)}finally{if(w)throw w.error}return[7];case 16:return m=this.plugins.filter(function(A){return A.type==="destination"}),this.loggerProvider.log("Timeline.apply: Final event before destinations, event: ".concat(JSON.stringify(r))),y=m.map(function(A){var C=I({},r);return A.execute(C).catch(function(T){return rr(C,0,String(T))})}),Promise.all(y).then(function(A){var C=O(A,1),T=C[0],R=T||rr(r,100,"Event not tracked, no destination plugins on the instance");o(R)}),[2]}})})},n.prototype.flush=function(){return E(this,void 0,void 0,function(){var e,t,r,i=this;return S(this,function(o){switch(o.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(s){return i.apply(s)}))];case 1:return o.sent(),t=this.plugins.filter(function(s){return s.type==="destination"}),r=t.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(r)];case 2:return o.sent(),[2]}})})},n.prototype.onIdentityChanged=function(e){this.plugins.forEach(function(t){var r;(r=t.onIdentityChanged)===null||r===void 0||r.call(t,e)})},n.prototype.onSessionIdChanged=function(e){this.plugins.forEach(function(t){var r;(r=t.onSessionIdChanged)===null||r===void 0||r.call(t,e)})},n.prototype.onOptOutChanged=function(e){this.plugins.forEach(function(t){var r;(r=t.onOptOutChanged)===null||r===void 0||r.call(t,e)})},n})()});var Nm,Qn,km,Mm,Lm,Eu=W(()=>{P();ko();Oo();Nm=function(n,e,t){var r=typeof n=="string"?{event_type:n}:n;return I(I(I({},r),t),e&&{event_properties:e})},Qn=function(n,e){var t=I(I({},e),{event_type:it.IDENTIFY,user_properties:n.getUserProperties()});return t},km=function(n,e,t,r){var i,o=I(I({},r),{event_type:it.GROUP_IDENTIFY,group_properties:t.getUserProperties(),groups:(i={},i[n]=e,i)});return o},Mm=function(n,e,t){var r,i=new vr;i.set(n,e);var o=I(I({},t),{event_type:it.IDENTIFY,user_properties:i.getUserProperties(),groups:(r={},r[n]=e,r)});return o},Lm=function(n,e){return I(I({},e),{event_type:it.REVENUE,event_properties:n.getEventProperties()})}});var Ze,xu=W(()=>{Ze=function(n){return{promise:n||Promise.resolve()}}});var _u,Dm=W(()=>{P();Oo();ko();Su();Pm();Eu();Mo();xu();_u=(function(){function n(e){e===void 0&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Om(this),this.name=e}return n.prototype._init=function(e){return E(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),this.timeline.loggerProvider=this.config.loggerProvider,[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}})})},n.prototype.runQueuedFunctions=function(e){return E(this,void 0,void 0,function(){var t,r,i,o,s,l,a,u;return S(this,function(c){switch(c.label){case 0:t=this[e],this[e]=[],c.label=1;case 1:c.trys.push([1,8,9,10]),r=L(t),i=r.next(),c.label=2;case 2:return i.done?[3,7]:(o=i.value,s=o(),s&&"promise"in s?[4,s.promise]:[3,4]);case 3:return c.sent(),[3,6];case 4:return[4,s];case 5:c.sent(),c.label=6;case 6:return i=r.next(),[3,2];case 7:return[3,10];case 8:return l=c.sent(),a={error:l},[3,10];case 9:try{i&&!i.done&&(u=r.return)&&u.call(r)}finally{if(a)throw a.error}return[7];case 10:return this[e].length?[4,this.runQueuedFunctions(e)]:[3,12];case 11:c.sent(),c.label=12;case 12:return[2]}})})},n.prototype.track=function(e,t,r){var i=Nm(e,t,r);return Ze(this.dispatch(i))},n.prototype.identify=function(e,t){var r=Qn(e,t);return Ze(this.dispatch(r))},n.prototype.groupIdentify=function(e,t,r,i){var o=km(e,t,r,i);return Ze(this.dispatch(o))},n.prototype.setGroup=function(e,t,r){var i=Mm(e,t,r);return Ze(this.dispatch(i))},n.prototype.revenue=function(e,t){var r=Lm(e,t);return Ze(this.dispatch(r))},n.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),Ze())},n.prototype._addPlugin=function(e){return Ze(this.timeline.register(e,this.config))},n.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),Ze())},n.prototype._removePlugin=function(e){return Ze(this.timeline.deregister(e,this.config))},n.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t(rr(e,0,Tm));this.process(e).then(t)},n.prototype.dispatch=function(e){return E(this,void 0,void 0,function(){var t=this;return S(this,function(r){return this.isReady?[2,this.process(e)]:[2,new Promise(function(i){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,i))})]})})},n.prototype.getOperationAppliedUserProperties=function(e){var t={};if(e===void 0)return t;var r={};return Object.keys(e).forEach(function(i){Object.values(Bt).includes(i)||(r[i]=e[i])}),Sm.forEach(function(i){if(Object.keys(e).includes(i)){var o=e[i];switch(i){case Bt.CLEAR_ALL:Object.keys(t).forEach(function(s){delete t[s]});break;case Bt.UNSET:Object.keys(o).forEach(function(s){delete t[s]});break;case Bt.SET:Object.assign(t,o);break}}}),Object.assign(t,r),t},n.prototype.process=function(e){return E(this,void 0,void 0,function(){var t,o,r,i,o;return S(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.config.optOut?[2,rr(e,0,Cm)]:(e.event_type===it.IDENTIFY&&(t=this.getOperationAppliedUserProperties(e.user_properties),this.timeline.onIdentityChanged({userProperties:t})),[4,this.timeline.push(e)]);case 1:return o=s.sent(),o.code===200?this.config.loggerProvider.log(o.message):o.code===100?this.config.loggerProvider.warn(o.message):this.config.loggerProvider.error(o.message),[2,o];case 2:return r=s.sent(),i=String(r),this.config.loggerProvider.error(i),o=rr(e,0,i),[2,o];case 3:return[2]}})})},n.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},n.prototype._setOptOut=function(e){this.config.optOut!==e&&(this.timeline.onOptOutChanged(e),this.config.optOut=!!e)},n.prototype.flush=function(){return Ze(this.timeline.flush())},n.prototype.plugin=function(e){var t=this.timeline.plugins.find(function(r){return r.name===e});if(t===void 0){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(e));return}return t},n.prototype.plugins=function(e){return this.timeline.plugins.filter(function(t){return t instanceof e})},n})()});var Um,$m=W(()=>{Um=(function(){function n(e,t){this.key="AMP_remote_config_".concat(e.substring(0,10)),this.logger=t}return n.prototype.fetchConfig=function(){var e=null,t={remoteConfig:null,lastFetch:new Date};try{e=localStorage.getItem(this.key)}catch(i){return this.logger.debug("Remote config localstorage failed to access: ",i),Promise.resolve(t)}if(e===null)return this.logger.debug("Remote config localstorage gets null because the key does not exist"),Promise.resolve(t);try{var r=JSON.parse(e);return this.logger.debug("Remote config localstorage parsed successfully: ".concat(JSON.stringify(r))),Promise.resolve({remoteConfig:r.remoteConfig,lastFetch:new Date(r.lastFetch)})}catch(i){return this.logger.debug("Remote config localstorage failed to parse: ",i),localStorage.removeItem(this.key),Promise.resolve(t)}},n.prototype.setConfig=function(e){try{return localStorage.setItem(this.key,JSON.stringify(e)),this.logger.debug("Remote config localstorage set successfully."),Promise.resolve(!0)}catch(t){this.logger.debug("Remote config localstorage failed to set: ",t)}return Promise.resolve(!1)},n})()});var FI,BI,GI,WI,Cu,Fm=W(()=>{P();$m();sn();FI="https://sr-client-cfg.amplitude.com/config",BI="https://sr-client-cfg.eu.amplitude.com/config",GI=3,WI=1e3,Cu=(function(){function n(e,t,r){r===void 0&&(r="US"),this.callbackInfos=[],this.apiKey=e,this.serverUrl=r==="US"?FI:BI,this.logger=t,this.storage=new Um(e,t)}return n.prototype.subscribe=function(e,t,r){var i=dt(),o={id:i,key:e,deliveryMode:t,callback:r};return this.callbackInfos.push(o),t==="all"?this.subscribeAll(o):this.subscribeWaitForRemote(o,t.timeout),i},n.prototype.unsubscribe=function(e){var t=this.callbackInfos.findIndex(function(r){return r.id===e});return t===-1?(this.logger.debug("Remote config client unsubscribe failed because callback with id ".concat(e," doesn't exist.")),!1):(this.callbackInfos.splice(t,1),this.logger.debug("Remote config client unsubscribe succeeded removing callback with id ".concat(e,".")),!0)},n.prototype.updateConfigs=function(){return E(this,void 0,void 0,function(){var e,t=this;return S(this,function(r){switch(r.label){case 0:return[4,this.fetch()];case 1:return e=r.sent(),this.storage.setConfig(e),this.callbackInfos.forEach(function(i){t.sendCallback(i,e,"remote")}),[2]}})})},n.prototype.subscribeAll=function(e){return E(this,void 0,void 0,function(){var t,r,i,o=this;return S(this,function(s){switch(s.label){case 0:return t=this.fetch().then(function(l){o.logger.debug("Remote config client subscription all mode fetched from remote: ".concat(JSON.stringify(l))),o.sendCallback(e,l,"remote"),o.storage.setConfig(l)}),r=this.storage.fetchConfig().then(function(l){return l}),[4,Promise.race([t,r])];case 1:return i=s.sent(),i!==void 0&&(this.logger.debug("Remote config client subscription all mode fetched from cache: ".concat(JSON.stringify(i))),this.sendCallback(e,i,"cache")),[4,t];case 2:return s.sent(),[2]}})})},n.prototype.subscribeWaitForRemote=function(e,t){return E(this,void 0,void 0,function(){var r,o,i,o;return S(this,function(s){switch(s.label){case 0:r=new Promise(function(l,a){setTimeout(function(){a("Timeout exceeded")},t)}),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,Promise.race([this.fetch(),r])];case 2:return o=s.sent(),this.logger.debug("Remote config client subscription wait for remote mode returns from remote."),this.sendCallback(e,o,"remote"),this.storage.setConfig(o),[3,5];case 3:return i=s.sent(),this.logger.debug("Remote config client subscription wait for remote mode exceeded timeout. Try to fetch from cache."),[4,this.storage.fetchConfig()];case 4:return o=s.sent(),o.remoteConfig!==null?(this.logger.debug("Remote config client subscription wait for remote mode returns a cached copy."),this.sendCallback(e,o,"cache")):(this.logger.debug("Remote config client subscription wait for remote mode failed to fetch cache."),this.sendCallback(e,o,"remote")),[3,5];case 5:return[2]}})})},n.prototype.sendCallback=function(e,t,r){e.lastCallback=new Date;var i;e.key?i=e.key.split(".").reduce(function(o,s){return o===null?o:s in o?o[s]:null},t.remoteConfig):i=t.remoteConfig,e.callback(i,r,t.lastFetch)},n.prototype.fetch=function(e,t){return e===void 0&&(e=GI),t===void 0&&(t=WI),E(this,void 0,void 0,function(){var r,i,o,s,l,a,u=this;return S(this,function(c){switch(c.label){case 0:r=t/e,i={remoteConfig:null,lastFetch:new Date},o=function(f){var d,h,p,v,m,y;return S(this,function(g){switch(g.label){case 0:d=new AbortController,h=setTimeout(function(){return d.abort()},t),g.label=1;case 1:return g.trys.push([1,7,8,9]),[4,fetch(s.getUrlParams(),{method:"GET",headers:{Accept:"*/*"},signal:d.signal})];case 2:return p=g.sent(),p.ok?[3,4]:[4,p.text()];case 3:return v=g.sent(),s.logger.debug("Remote config client fetch with retry time ".concat(e," failed with ").concat(p.status,": ").concat(v)),[3,6];case 4:return[4,p.json()];case 5:return m=g.sent(),[2,{value:{remoteConfig:m,lastFetch:new Date}}];case 6:return[3,9];case 7:return y=g.sent(),y instanceof Error&&y.name==="AbortError"?s.logger.debug("Remote config client fetch with retry time ".concat(e," timed out after ").concat(t,"ms")):s.logger.debug("Remote config client fetch with retry time ".concat(e," is rejected because: "),y),[3,9];case 8:return clearTimeout(h),[7];case 9:return f<e-1?[4,new Promise(function(b){return setTimeout(b,u.getJitterDelay(r))})]:[3,11];case 10:g.sent(),g.label=11;case 11:return[2]}})},s=this,l=0,c.label=1;case 1:return l<e?[5,o(l)]:[3,4];case 2:if(a=c.sent(),typeof a=="object")return[2,a.value];c.label=3;case 3:return l++,[3,1];case 4:return[2,i]}})})},n.prototype.getJitterDelay=function(e){return Math.floor(Math.random()*e)},n.prototype.getUrlParams=function(){var e=encodeURIComponent(this.apiKey),t=new URLSearchParams;return t.append("config_group",n.CONFIG_GROUP),"".concat(this.serverUrl,"/").concat(e,"?").concat(t.toString())},n.CONFIG_GROUP="browser",n})()});var He,ei=W(()=>{(function(n){n[n.None=0]="None",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Verbose=3]="Verbose",n[n.Debug=4]="Debug"})(He||(He={}))});var Lo,Gt,Iu=W(()=>{ei();Lo="Amplitude Logger ",Gt=(function(){function n(){this.logLevel=He.None}return n.prototype.disable=function(){this.logLevel=He.None},n.prototype.enable=function(e){e===void 0&&(e=He.Warn),this.logLevel=e},n.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<He.Verbose||console.log("".concat(Lo,"[Log]: ").concat(e.join(" ")))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<He.Warn||console.warn("".concat(Lo,"[Warn]: ").concat(e.join(" ")))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<He.Error||console.error("".concat(Lo,"[Error]: ").concat(e.join(" ")))},n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<He.Debug||console.log("".concat(Lo,"[Debug]: ").concat(e.join(" ")))},n})()});var Au,St,Bm=W(()=>{P();wu();Au=(function(){function n(){this.productId="",this.quantity=1,this.price=0}return n.prototype.setProductId=function(e){return this.productId=e,this},n.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},n.prototype.setPrice=function(e){return this.price=e,this},n.prototype.setRevenueType=function(e){return this.revenueType=e,this},n.prototype.setCurrency=function(e){return this.currency=e,this},n.prototype.setRevenue=function(e){return this.revenue=e,this},n.prototype.setReceipt=function(e){return this.receipt=e,this},n.prototype.setReceiptSig=function(e){return this.receiptSig=e,this},n.prototype.setEventProperties=function(e){return No(e)&&(this.properties=e),this},n.prototype.getEventProperties=function(){var e=this.properties?I({},this.properties):{};return e[St.REVENUE_PRODUCT_ID]=this.productId,e[St.REVENUE_QUANTITY]=this.quantity,e[St.REVENUE_PRICE]=this.price,e[St.REVENUE_TYPE]=this.revenueType,e[St.REVENUE_CURRENCY]=this.currency,e[St.REVENUE]=this.revenue,e[St.RECEIPT]=this.receipt,e[St.RECEIPT_SIG]=this.receiptSig,e},n})();(function(n){n.REVENUE_PRODUCT_ID="$productId",n.REVENUE_QUANTITY="$quantity",n.REVENUE_PRICE="$price",n.REVENUE_TYPE="$revenueType",n.REVENUE_CURRENCY="$currency",n.REVENUE="$revenue",n.RECEIPT="$receipt",n.RECEIPT_SIG="$receiptSig"})(St||(St={}))});var Gm,Wm=W(()=>{Gm=function(n,e){var t=Math.max(e,1);return n.reduce(function(r,i,o){var s=Math.floor(o/t);return r[s]||(r[s]=[]),r[s].push(i),r},[])}});var Do,ti,VI,Tu,Ru,Ou=W(()=>{Ot();Iu();ei();Do=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:Po,logLevel:He.Warn,loggerProvider:new Gt,offline:!1,optOut:!1,serverUrl:su,serverZone:"US",useBatch:!1}},ti=(function(){function n(e){var t,r,i,o;this._optOut=!1;var s=Do();this.apiKey=e.apiKey,this.flushIntervalMillis=(t=e.flushIntervalMillis)!==null&&t!==void 0?t:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(r=e.logLevel)!==null&&r!==void 0?r:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:s.offline,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var l=Tu(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=l.serverZone,this.serverUrl=l.serverUrl}return Object.defineProperty(n.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),n})(),VI=function(n,e){return n==="EU"?e?pm:dm:e?hm:su},Tu=function(n,e,t){if(n===void 0&&(n=""),e===void 0&&(e=Do().serverZone),t===void 0&&(t=Do().useBatch),n)return{serverUrl:n,serverZone:void 0};var r=["US","EU"].includes(e)?e:Do().serverZone;return{serverZone:r,serverUrl:VI(r,t)}},Ru=(function(){function n(){this.sdk={metrics:{histogram:{}}}}return n.prototype.recordHistogram=function(e,t){this.sdk.metrics.histogram[e]=t},n})()});function jI(n){return n instanceof Error?n.message:String(n)}function Uo(n){var e="";try{"body"in n&&(e=JSON.stringify(n.body,null,2))}catch{}return e}var Pu,Vm=W(()=>{P();Jn();Su();Ot();Wm();Mo();Ou();sn();Pu=(function(){function n(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return n.prototype.setup=function(e){var t;return E(this,void 0,void 0,function(){var r,i=this;return S(this,function(o){switch(o.label){case 0:return this.config=e,this.storageKey="".concat(Zn,"_").concat(this.config.apiKey.substring(0,10)),[4,(t=this.config.storageProvider)===null||t===void 0?void 0:t.get(this.storageKey)];case 1:return r=o.sent(),r&&r.length>0&&Promise.all(r.map(function(s){return i.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},n.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=dt()),new Promise(function(r){var i={event:e,attempts:0,callback:function(o){return r(o)},timeout:0};t.queue.push(i),t.schedule(t.config.flushIntervalMillis),t.saveEvents()})},n.prototype.removeEventsExceedFlushMaxRetries=function(e){var t=this;return e.filter(function(r){return r.attempts+=1,r.attempts<t.config.flushMaxRetries?!0:(t.fulfillRequest([r],500,_m),!1)})},n.prototype.scheduleEvents=function(e){var t=this;e.forEach(function(r){t.schedule(r.timeout===0?t.config.flushIntervalMillis:r.timeout)})},n.prototype.schedule=function(e){var t=this;if(!this.config.offline&&(this.scheduleId===null||this.scheduleId&&e>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=e,this.scheduleId=setTimeout(function(){t.queue=t.queue.map(function(r){return r.timeout=0,r}),t.flush(!0)},e);return}},n.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},n.prototype.flush=function(e){return e===void 0&&(e=!1),E(this,void 0,void 0,function(){var t,r,i,o=this;return S(this,function(s){switch(s.label){case 0:return this.config.offline?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2]):this.flushId?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2]):(this.flushId=this.scheduleId,this.resetSchedule(),t=[],r=[],this.queue.forEach(function(l){return l.timeout===0?t.push(l):r.push(l)}),i=Gm(t,this.config.flushQueueSize),[4,i.reduce(function(l,a){return E(o,void 0,void 0,function(){return S(this,function(u){switch(u.label){case 0:return[4,l];case 1:return u.sent(),[4,this.send(a,e)];case 2:return[2,u.sent()]}})})},Promise.resolve())]);case 1:return s.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},n.prototype.send=function(e,t){return t===void 0&&(t=!0),E(this,void 0,void 0,function(){var r,i,o,s,l;return S(this,function(a){switch(a.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,Im)];r={api_key:this.config.apiKey,events:e.map(function(u){var c=u.event,f=c.extra,d=Xn(c,["extra"]);return d}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new Ru,a.label=1;case 1:return a.trys.push([1,3,,4]),i=Tu(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,r)];case 2:return o=a.sent(),o===null?(this.fulfillRequest(e,0,xm),[2]):t?(this.handleResponse(o,e),[3,4]):("body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(Uo(o))):this.fulfillRequest(e,o.statusCode,o.status),[2]);case 3:return s=a.sent(),l=jI(s),this.config.loggerProvider.error(l),this.handleResponse({status:Te.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},n.prototype.handleResponse=function(e,t){var r=e.status;switch(r){case Te.Success:{this.handleSuccessResponse(e,t);break}case Te.Invalid:{this.handleInvalidResponse(e,t);break}case Te.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,t);break}case Te.RateLimit:{this.handleRateLimitResponse(e,t);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(r,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t);break}}},n.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,Em)},n.prototype.handleInvalidResponse=function(e,t){var r=this;if(e.body.missingField||e.body.error.startsWith(Am)){this.fulfillRequest(t,e.statusCode,e.body.error);return}var i=U(U(U(U([],O(Object.values(e.body.eventsWithInvalidFields)),!1),O(Object.values(e.body.eventsWithMissingFields)),!1),O(Object.values(e.body.eventsWithInvalidIdLengths)),!1),O(e.body.silencedEvents),!1).flat(),o=new Set(i),s=t.filter(function(a,u){if(o.has(u)){r.fulfillRequest([a],e.statusCode,e.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(Uo(e));var l=this.removeEventsExceedFlushMaxRetries(s);this.scheduleEvents(l)},n.prototype.handlePayloadTooLargeResponse=function(e,t){if(t.length===1){this.fulfillRequest(t,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Uo(e)),this.config.flushQueueSize/=2;var r=this.removeEventsExceedFlushMaxRetries(t);this.scheduleEvents(r)},n.prototype.handleRateLimitResponse=function(e,t){var r=this,i=Object.keys(e.body.exceededDailyQuotaUsers),o=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,l=new Set(i),a=new Set(o),u=new Set(s),c=t.filter(function(d,h){if(d.event.user_id&&l.has(d.event.user_id)||d.event.device_id&&a.has(d.event.device_id)){r.fulfillRequest([d],e.statusCode,e.body.error);return}return u.has(h)&&(d.timeout=r.throttleTimeout),!0});c.length>0&&this.config.loggerProvider.warn(Uo(e));var f=this.removeEventsExceedFlushMaxRetries(c);this.scheduleEvents(f)},n.prototype.handleOtherResponse=function(e){var t=this,r=e.map(function(o){return o.timeout=o.attempts*t.retryTimeout,o}),i=this.removeEventsExceedFlushMaxRetries(r);this.scheduleEvents(i)},n.prototype.fulfillRequest=function(e,t,r){this.removeEvents(e),e.forEach(function(i){return i.callback(rr(i.event,t,r))})},n.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(t){return t.event});this.config.storageProvider.set(this.storageKey,e)}},n.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(t){return!e.some(function(r){return r.event.insert_id===t.event.insert_id})}),this.saveEvents()},n})()});function $o(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jm(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}var zI,HI,qI,gr,Fo,KI,YI,XI,ZI,ri,an,Bo=W(()=>{zI=(function(){function n(){}return n.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:HI(),platform:"Web",os:void 0,deviceModel:void 0}},n})(),HI=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},qI=(function(){function n(){this.queue=[]}return n.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},n.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},n})(),gr=function(){return gr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},gr.apply(this,arguments)};Fo=function(n,e){var t,r,i=["string","number","boolean","undefined"],o=typeof n,s=typeof e;if(o!==s)return!1;try{for(var l=$o(i),a=l.next();!a.done;a=l.next()){var u=a.value;if(u===o)return n===e}}catch(m){t={error:m}}finally{try{a&&!a.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}if(n==null&&e==null)return!0;if(n==null||e==null||n.length!==e.length)return!1;var c=Array.isArray(n),f=Array.isArray(e);if(c!==f)return!1;if(c&&f){for(var d=0;d<n.length;d++)if(!Fo(n[d],e[d]))return!1}else{var h=Object.keys(n).sort(),p=Object.keys(e).sort();if(!Fo(h,p))return!1;var v=!0;return Object.keys(n).forEach(function(m){Fo(n[m],e[m])||(v=!1)}),v}return!0},KI="$set",YI="$unset",XI="$clearAll";Object.entries||(Object.entries=function(n){for(var e=Object.keys(n),t=e.length,r=new Array(t);t--;)r[t]=[e[t],n[e[t]]];return r});ZI=(function(){function n(){this.identity={userProperties:{}},this.listeners=new Set}return n.prototype.editIdentity=function(){var e=this,t=gr({},this.identity.userProperties),r=gr(gr({},this.identity),{userProperties:t});return{setUserId:function(i){return r.userId=i,this},setDeviceId:function(i){return r.deviceId=i,this},setUserProperties:function(i){return r.userProperties=i,this},setOptOut:function(i){return r.optOut=i,this},updateUserProperties:function(i){var o,s,l,a,u,c,f=r.userProperties||{};try{for(var d=$o(Object.entries(i)),h=d.next();!h.done;h=d.next()){var p=jm(h.value,2),v=p[0],m=p[1];switch(v){case KI:try{for(var y=(l=void 0,$o(Object.entries(m))),g=y.next();!g.done;g=y.next()){var b=jm(g.value,2),w=b[0],x=b[1];f[w]=x}}catch(C){l={error:C}}finally{try{g&&!g.done&&(a=y.return)&&a.call(y)}finally{if(l)throw l.error}}break;case YI:try{for(var _=(u=void 0,$o(Object.keys(m))),A=_.next();!A.done;A=_.next()){var w=A.value;delete f[w]}}catch(C){u={error:C}}finally{try{A&&!A.done&&(c=_.return)&&c.call(_)}finally{if(u)throw u.error}}break;case XI:f={};break}}}catch(C){o={error:C}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}return r.userProperties=f,this},commit:function(){return e.setIdentity(r),this}}},n.prototype.getIdentity=function(){return gr({},this.identity)},n.prototype.setIdentity=function(e){var t=gr({},this.identity);this.identity=gr({},e),Fo(t,this.identity)||this.listeners.forEach(function(r){r(e)})},n.prototype.addIdentityListener=function(e){this.listeners.add(e)},n.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},n})(),ri=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,an=(function(){function n(){this.identityStore=new ZI,this.eventBridge=new qI,this.applicationContextProvider=new zI}return n.getInstance=function(e){return ri.analyticsConnectorInstances||(ri.analyticsConnectorInstances={}),ri.analyticsConnectorInstances[e]||(ri.analyticsConnectorInstances[e]=new n),ri.analyticsConnectorInstances[e]},n})()});var Wt,Nu,ku,Mu=W(()=>{Bo();Ot();Wt=function(n){return n===void 0&&(n=Po),an.getInstance(n)},Nu=function(n,e){Wt(e).identityStore.editIdentity().setUserId(n).commit()},ku=function(n,e){Wt(e).identityStore.editIdentity().setDeviceId(n).commit()}});var Lu,zm=W(()=>{P();Mu();Lu=(function(){function n(){this.name="identity",this.type="before",this.identityStore=Wt().identityStore}return n.prototype.execute=function(e){return E(this,void 0,void 0,function(){var t;return S(this,function(r){return t=e.user_properties,t&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},n.prototype.setup=function(e){return E(this,void 0,void 0,function(){return S(this,function(t){return e.instanceName&&(this.identityStore=Wt(e.instanceName).identityStore),[2]})})},n})()});var ni,Hm=W(()=>{ni=function(n,e){e===void 0&&(e=Date.now());var t=Date.now(),r=t-e;return r>n}});var Go,Du,qm=W(()=>{Ot();Go=function(n,e,t){return e===void 0&&(e=""),t===void 0&&(t=10),[tr,e,n.substring(0,t)].filter(Boolean).join("_")},Du=function(n){return"".concat(tr.toLowerCase(),"_").concat(n.substring(0,6))}});var Uu,Km=W(()=>{Uu=function(){var n,e,t,r;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(r=(t=(e=(n=navigator.languages)===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:navigator.language)!==null&&t!==void 0?t:i)!==null&&r!==void 0?r:""}});var yr,Ym,$u=W(()=>{on();yr=function(){var n,e=j();if(!(!((n=e?.location)===null||n===void 0)&&n.search))return{};var t=e.location.search.substring(1).split("&").filter(Boolean),r=t.reduce(function(i,o){var s=o.split("=",2),l=Ym(s[0]),a=Ym(s[1]);return a&&(i[l]=a),i},{});return r},Ym=function(n){n===void 0&&(n="");try{return decodeURIComponent(n)}catch{return""}}});var JI,H,QI,q,V,Xm=W(()=>{P();ei();JI=function(n){n===void 0&&(n=0);var e=new Error().stack||"";return e.split(`
`).slice(2+n).map(function(t){return t.trim()})},H=function(n){return function(){var e=I({},n.config),t=e.loggerProvider,r=e.logLevel;return{logger:t,logLevel:r}}},QI=function(n,e){var t,r;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var i=L(e.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s in n)n=n[s];else return}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},q=function(n,e){return function(){var t,r,i={};try{for(var o=L(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[l]=QI(n,l)}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}},V=function(n,e,t,r,i){return i===void 0&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var l=t(),a=l.logger,u=l.logLevel;if(u&&u<He.Debug||!u||!a)return n.apply(i,o);var c={type:"invoke public method",name:e,args:o,stacktrace:JI(1),time:{start:new Date().toISOString()},states:{}};r&&c.states&&(c.states.before=r());var f=n.apply(i,o);return f&&f.promise?f.promise.then(function(){r&&c.states&&(c.states.after=r()),c.time&&(c.time.end=new Date().toISOString()),a.debug(JSON.stringify(c,null,2))}):(r&&c.states&&(c.states.after=r()),c.time&&(c.time.end=new Date().toISOString()),a.debug(JSON.stringify(c,null,2))),f}}});var ln,Zm=W(()=>{ln=function(n,e){return!e||!e.length?!0:e.some(function(t){return typeof t=="string"?n===t:n.match(t)})}});var ii,Jm=W(()=>{P();ii=(function(){function n(){this.memoryStorage=new Map}return n.prototype.isEnabled=function(){return E(this,void 0,void 0,function(){return S(this,function(e){return[2,!0]})})},n.prototype.get=function(e){return E(this,void 0,void 0,function(){return S(this,function(t){return[2,this.memoryStorage.get(e)]})})},n.prototype.getRaw=function(e){return E(this,void 0,void 0,function(){var t;return S(this,function(r){switch(r.label){case 0:return[4,this.get(e)];case 1:return t=r.sent(),[2,t?JSON.stringify(t):void 0]}})})},n.prototype.set=function(e,t){return E(this,void 0,void 0,function(){return S(this,function(r){return this.memoryStorage.set(e,t),[2]})})},n.prototype.remove=function(e){return E(this,void 0,void 0,function(){return S(this,function(t){return this.memoryStorage.delete(e),[2]})})},n.prototype.reset=function(){return E(this,void 0,void 0,function(){return S(this,function(e){return this.memoryStorage.clear(),[2]})})},n})()});var oi,eA,tA,Qm=W(()=>{P();on();oi=(function(){function n(e){this.options=I({},e)}return n.prototype.isEnabled=function(){return E(this,void 0,void 0,function(){var e,t,r,i;return S(this,function(o){switch(o.label){case 0:if(!j())return[2,!1];n.testValue=String(Date.now()),e=new n(this.options),t="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,e.set(t,n.testValue)];case 2:return o.sent(),[4,e.get(t)];case 3:return r=o.sent(),[2,r===n.testValue];case 4:return i=o.sent(),[2,!1];case 5:return[4,e.remove(t)];case 6:return o.sent(),[7];case 7:return[2]}})})},n.prototype.get=function(e){var t;return E(this,void 0,void 0,function(){var r,i;return S(this,function(o){switch(o.label){case 0:return[4,this.getRaw(e)];case 1:if(r=o.sent(),!r)return[2,void 0];try{return i=(t=eA(r))!==null&&t!==void 0?t:tA(r),i===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(r)),[2,void 0]):[2,JSON.parse(i)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(r)),[2,void 0]}return[2]}})})},n.prototype.getRaw=function(e){var t,r;return E(this,void 0,void 0,function(){var i,o,s;return S(this,function(l){return i=j(),o=(r=(t=i?.document)===null||t===void 0?void 0:t.cookie.split("; "))!==null&&r!==void 0?r:[],s=o.find(function(a){return a.indexOf(e+"=")===0}),s?[2,s.substring(e.length+1)]:[2,void 0]})})},n.prototype.set=function(e,t){var r;return E(this,void 0,void 0,function(){var i,o,s,l,a,u,c;return S(this,function(f){try{i=(r=this.options.expirationDays)!==null&&r!==void 0?r:0,o=t!==null?i:-1,s=void 0,o&&(l=new Date,l.setTime(l.getTime()+o*24*60*60*1e3),s=l),a="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),s&&(a+="; expires=".concat(s.toUTCString())),a+="; path=/",this.options.domain&&(a+="; domain=".concat(this.options.domain)),this.options.secure&&(a+="; Secure"),this.options.sameSite&&(a+="; SameSite=".concat(this.options.sameSite)),u=j(),u&&(u.document.cookie=a)}catch(d){c=d instanceof Error?d.message:String(d),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(c))}return[2]})})},n.prototype.remove=function(e){return E(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},n.prototype.reset=function(){return E(this,void 0,void 0,function(){return S(this,function(e){return[2]})})},n})(),eA=function(n){try{return decodeURIComponent(atob(n))}catch{return}},tA=function(n){try{return decodeURIComponent(atob(decodeURIComponent(n)))}catch{return}}});var Wo,ev=W(()=>{Ot();Wo=function(n,e,t){return e===void 0&&(e=""),t===void 0&&(t=10),[tr,e,n.substring(0,t)].filter(Boolean).join("_")}});var si,tv=W(()=>{P();si=(function(){function n(e){this.storage=e}return n.prototype.isEnabled=function(){return E(this,void 0,void 0,function(){var e,t,r,i,o;return S(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),t=new n(this.storage),r="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,t.set(r,e)];case 2:return s.sent(),[4,t.get(r)];case 3:return i=s.sent(),[2,i===e];case 4:return o=s.sent(),[2,!1];case 5:return[4,t.remove(r)];case 6:return s.sent(),[7];case 7:return[2]}})})},n.prototype.get=function(e){return E(this,void 0,void 0,function(){var t,r;return S(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return t=i.sent(),t?[2,JSON.parse(t)]:[2,void 0];case 2:return r=i.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},n.prototype.getRaw=function(e){var t;return E(this,void 0,void 0,function(){return S(this,function(r){return[2,((t=this.storage)===null||t===void 0?void 0:t.getItem(e))||void 0]})})},n.prototype.set=function(e,t){var r;return E(this,void 0,void 0,function(){return S(this,function(i){try{(r=this.storage)===null||r===void 0||r.setItem(e,JSON.stringify(t))}catch{}return[2]})})},n.prototype.remove=function(e){var t;return E(this,void 0,void 0,function(){return S(this,function(r){try{(t=this.storage)===null||t===void 0||t.removeItem(e)}catch{}return[2]})})},n.prototype.reset=function(){var e;return E(this,void 0,void 0,function(){return S(this,function(t){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},n})()});var nr,Fu=W(()=>{Jn();nr=(function(){function n(){}return n.prototype.send=function(e,t){return Promise.resolve(null)},n.prototype.buildResponse=function(e){var t,r,i,o,s,l,a,u,c,f,d,h,p,v,m,y,g,b,w,x,_,A;if(typeof e!="object")return null;var C=e.code||0,T=this.buildStatus(C);switch(T){case Te.Success:return{status:T,statusCode:C,body:{eventsIngested:(t=e.events_ingested)!==null&&t!==void 0?t:0,payloadSizeBytes:(r=e.payload_size_bytes)!==null&&r!==void 0?r:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case Te.Invalid:return{status:T,statusCode:C,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(l=e.events_with_invalid_fields)!==null&&l!==void 0?l:{},eventsWithMissingFields:(a=e.events_with_missing_fields)!==null&&a!==void 0?a:{},eventsWithInvalidIdLengths:(u=e.events_with_invalid_id_lengths)!==null&&u!==void 0?u:{},epsThreshold:(c=e.eps_threshold)!==null&&c!==void 0?c:0,exceededDailyQuotaDevices:(f=e.exceeded_daily_quota_devices)!==null&&f!==void 0?f:{},silencedDevices:(d=e.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(h=e.silenced_events)!==null&&h!==void 0?h:[],throttledDevices:(p=e.throttled_devices)!==null&&p!==void 0?p:{},throttledEvents:(v=e.throttled_events)!==null&&v!==void 0?v:[]}};case Te.PayloadTooLarge:return{status:T,statusCode:C,body:{error:(m=e.error)!==null&&m!==void 0?m:""}};case Te.RateLimit:return{status:T,statusCode:C,body:{error:(y=e.error)!==null&&y!==void 0?y:"",epsThreshold:(g=e.eps_threshold)!==null&&g!==void 0?g:0,throttledDevices:(b=e.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(w=e.throttled_users)!==null&&w!==void 0?w:{},exceededDailyQuotaDevices:(x=e.exceeded_daily_quota_devices)!==null&&x!==void 0?x:{},exceededDailyQuotaUsers:(_=e.exceeded_daily_quota_users)!==null&&_!==void 0?_:{},throttledEvents:(A=e.throttled_events)!==null&&A!==void 0?A:[]}};case Te.Timeout:default:return{status:T,statusCode:C}}},n.prototype.buildStatus=function(e){return e>=200&&e<300?Te.Success:e===429?Te.RateLimit:e===413?Te.PayloadTooLarge:e===408?Te.Timeout:e>=400&&e<500?Te.Invalid:e>=500?Te.Failed:Te.Unknown},n})()});var ai,rv=W(()=>{P();Fu();ai=(function(n){ee(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.send=function(t,r){return E(this,void 0,void 0,function(){var i,o,s;return S(this,function(l){switch(l.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(r),method:"POST"},[4,fetch(t,i)];case 1:return o=l.sent(),[4,o.text()];case 2:s=l.sent();try{return[2,this.buildResponse(JSON.parse(s))]}catch{return[2,this.buildResponse({code:o.status})]}return[2]}})})},e})(nr)});var Vt,nv=W(()=>{(function(n){n.US="US",n.EU="EU",n.STAGING="STAGING"})(Vt||(Vt={}))});var li,iv=W(()=>{li=null});var ui,Lr,ci,ov=W(()=>{ui=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],Lr="data-amp-track-",ci=["div","span","h1","h2","h3","h4","h5","h6"]});var rA,Bu,Gu,Wu,Vu,ju,sv=W(()=>{P();rA=["a","button",'[role="button"]','[role="link"]','[role="menuitem"]','[role="menuitemcheckbox"]','[role="menuitemradio"]','[role="option"]','[role="tab"]','[role="treeitem"]','[contenteditable="true" i]'],Bu=U(['input[type="button"]','input[type="submit"]','input[type="reset"]','input[type="image"]','input[type="file"]'],O(rA),!1),Gu=["*"],Wu=1e3,Vu=4,ju=50});function nA(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||n===null||n===void 0}function Hu(n,e,t){if(n){var r=e.map(av),i=t.map(av);uv({json:n,allowlist:r,excludelist:i,ancestors:[]})}}function uv(n){var e,t,r=n.json,i=n.targetObject,o=n.allowlist,s=n.excludelist,l=n.ancestors,a=n.parentObject,u=n.targetKey;i||(i=r);var c=Object.keys(i);try{for(var f=L(c),d=f.next();!d.done;d=f.next()){var h=d.value,p=U(U([],O(l),!1),[h],!1);nA(i[h])?(!lv(p,o)||lv(p,s))&&delete i[h]:uv({json:r,targetObject:i[h],allowlist:o,excludelist:s,ancestors:p,parentObject:i,targetKey:h})}}catch(v){e={error:v}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}Object.keys(i).length===0&&a&&u&&delete a[u]}function av(n){return n.startsWith("/")&&(n=n.slice(1)),n.split("/").map(function(e){return e.replace(/~0/g,"~").replace(/~1/g,"/")})}function zu(n,e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=0),r===e.length)return t===n.length;if(t===n.length){for(;r<e.length&&e[r]==="**";)r++;return r===e.length}var i=e[r];if(i==="**"){if(r+1===e.length)return!0;for(var o=t;o<=n.length;o++)if(zu(n,e,o,r+1))return!0;return!1}else return i==="*"||i===n[t]?zu(n,e,t+1,r+1):!1}function lv(n,e){return e.some(function(t){return zu(n,t)})}var cv=W(()=>{P()});function mv(n,e){var t,r,i,o=j(),s=o?.TextEncoder;if(s){var l;if(typeof n=="string")l=n,i=new s().encode(l).length;else if(n instanceof Blob)l=n,i=l.size;else if(n instanceof URLSearchParams)l=n,i=new s().encode(l.toString()).length;else if(ArrayBuffer.isView(n))l=n,i=l.byteLength;else if(n instanceof ArrayBuffer)l=n,i=l.byteLength;else if(n instanceof FormData){var a=n,u=0,c=0;try{for(var f=L(a.entries()),d=f.next();!d.done;d=f.next()){var h=O(d.value,2),p=h[0],v=h[1];if(u+=p.length,typeof v=="string")u+=new s().encode(v).length;else if(v instanceof Blob)u+=v.size;else return;if(++c>=e)return}}catch(m){t={error:m}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}i=u}else if(n instanceof ReadableStream){l=n;return}return i}}function qu(n,e,t){if(!n)return null;try{var r=JSON.parse(n);return Hu(r,e,t),r}catch{return null}}var iA,dv,hv,pv,vv,gv,fi,fv,Vo,yv,bv=W(()=>{P();on();cv();Z();iA=500,dv=100,hv=(function(){function n(e){this.request=e}return n.prototype.headers=function(e){var t,r;e===void 0&&(e=[]);var i=this.request.headers,o={};if(Array.isArray(i))i.forEach(function(f){var d=O(f,2),h=d[0],p=d[1];o[h]=p});else if(i instanceof Headers)i.forEach(function(f,d){o[d]=f});else if(typeof i=="object"&&i!==null)try{for(var s=L(Object.entries(i)),l=s.next();!l.done;l=s.next()){var a=O(l.value,2),u=a[0],c=a[1];o[u]=c}}catch(f){t={error:f}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return Vo(o,{allow:e})},Object.defineProperty(n.prototype,"bodySize",{get:function(){if(typeof this._bodySize=="number")return this._bodySize;var e=j();if(e?.TextEncoder){var t=this.request.body;return this._bodySize=mv(t,dv),this._bodySize}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"method",{get:function(){return this.request.method},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"body",{get:function(){return typeof this.request.body=="string"?this.request.body:null},enumerable:!1,configurable:!0}),n.prototype.json=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=[]),E(this,void 0,void 0,function(){var r;return S(this,function(i){return e.length===0?[2,null]:(r=this.body,[2,qu(r,e,t)])})})},n})(),pv=(function(){function n(e,t){this.bodyRaw=e,this.requestHeaders=t}return n.prototype.headers=function(e){return e===void 0&&(e=[]),Vo(this.requestHeaders,{allow:e})},Object.defineProperty(n.prototype,"bodySize",{get:function(){return mv(this.bodyRaw,dv)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"body",{get:function(){return typeof this.bodyRaw=="string"?this.bodyRaw:null},enumerable:!1,configurable:!0}),n.prototype.json=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=[]),E(this,void 0,void 0,function(){var r;return S(this,function(i){return e.length===0?[2,null]:(r=this.body,[2,qu(r,e,t)])})})},n})();vv=(function(){function n(e){this.response=e}return n.prototype.headers=function(e){var t;if(e===void 0&&(e=[]),this.response.headers instanceof Headers){var r=this.response.headers,i={};return(t=r?.forEach)===null||t===void 0||t.call(r,function(o,s){i[s]=o}),Vo(i,{allow:e})}},Object.defineProperty(n.prototype,"bodySize",{get:function(){var e,t;if(this._bodySize!==void 0)return this._bodySize;var r=(t=(e=this.response.headers)===null||e===void 0?void 0:e.get)===null||t===void 0?void 0:t.call(e,"content-length"),i=r?parseInt(r,10):void 0;return this._bodySize=i,i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),n.prototype.text=function(){return E(this,void 0,void 0,function(){var e,t,r,i;return S(this,function(o){switch(o.label){case 0:this.clonedResponse||(this.clonedResponse=this.response.clone()),o.label=1;case 1:return o.trys.push([1,3,,4]),e=this.clonedResponse.text(),t=new Promise(function(s){return setTimeout(function(){return s(null)},iA)}),[4,Promise.race([e,t])];case 2:return r=o.sent(),[2,r];case 3:return i=o.sent(),[2,null];case 4:return[2]}})})},n.prototype.json=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=[]),E(this,void 0,void 0,function(){var r;return S(this,function(i){switch(i.label){case 0:return e.length===0?[2,null]:[4,this.text()];case 1:return r=i.sent(),[2,qu(r,e,t)]}})})},n})(),gv=(function(){function n(e,t,r,i){this.statusCode=e,this.headersString=t,this.size=r,this.getJson=i}return Object.defineProperty(n.prototype,"bodySize",{get:function(){return this.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),n.prototype.headers=function(e){var t,r;if(e===void 0&&(e=[]),!this.headersString)return{};var i={},o=this.headersString.split(`\r
`);try{for(var s=L(o),l=s.next();!l.done;l=s.next()){var a=l.value,u=O(a.split(": "),2),c=u[0],f=u[1];c&&f&&(i[c]=f)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return Vo(i,{allow:e})},n.prototype.json=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=[]),E(this,void 0,void 0,function(){var r;return S(this,function(i){return e.length===0?[2,null]:(r=this.getJson(),r?(Hu(r,e,t),[2,r]):[2,null])})})},n})();(function(n){n.REDACT="redact",n.REMOVE="remove"})(fi||(fi={}));fv="[REDACTED]",Vo=function(n,e){var t,r,i=e.allow,o=i===void 0?[]:i,s=e.strategy,l=s===void 0?fi.REMOVE:s,a=U([],O(yu),!1),u={},c=function(p){var v=p.toLowerCase();a.find(function(m){return m.toLowerCase()===v})?l===fi.REDACT&&(u[p]=fv):o.find(function(m){return m.toLowerCase()===v})?u[p]=n[p]:l===fi.REDACT&&(u[p]=fv)};try{for(var f=L(Object.keys(n)),d=f.next();!d.done;d=f.next()){var h=d.value;c(h)}}catch(p){t={error:p}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}return u},yv=(function(){function n(e,t,r,i,o,s,l,a,u,c,f){l===void 0&&(l=0),this.type=e,this.method=t,this.timestamp=r,this.startTime=i,this.url=o,this.requestWrapper=s,this.status=l,this.duration=a,this.responseWrapper=u,this.error=c,this.endTime=f}return n.prototype.toSerializable=function(){var e,t,r,i,o={type:this.type,method:this.method,url:this.url,timestamp:this.timestamp,status:this.status,duration:this.duration,error:this.error,startTime:this.startTime,endTime:this.endTime,requestHeaders:(e=this.requestWrapper)===null||e===void 0?void 0:e.headers(U([],O(Mr),!1)),requestBodySize:(t=this.requestWrapper)===null||t===void 0?void 0:t.bodySize,responseHeaders:(r=this.responseWrapper)===null||r===void 0?void 0:r.headers(U([],O(Mr),!1)),responseBodySize:(i=this.responseWrapper)===null||i===void 0?void 0:i.bodySize};return Object.fromEntries(Object.entries(o).filter(function(s){var l=O(s,2),a=l[0],u=l[1];return u!==void 0}))},n})()});function oA(n){return typeof n=="object"&&n!==null&&"url"in n&&"method"in n}var Ku,sA,jo,wv=W(()=>{P();Z();sn();bv();Ku=(function(){function n(e,t){t===void 0&&(t=dt()),this.callback=e,this.id=t}return n})(),sA=(function(){function n(e){this.eventCallbacks=new Map,this.isObserving=!1,this.logger=e;var t=j();n.isSupported()&&(this.globalScope=t)}return n.isSupported=function(){var e=j();return!!e&&!!e.fetch},n.prototype.subscribe=function(e,t){var r,i,o,s,l,a,u,c,f,d;if(this.logger||(this.logger=t),this.eventCallbacks.set(e.id,e),!this.isObserving){var h=(o=(i=(r=this.globalScope)===null||r===void 0?void 0:r.XMLHttpRequest)===null||i===void 0?void 0:i.prototype)===null||o===void 0?void 0:o.open,p=(a=(l=(s=this.globalScope)===null||s===void 0?void 0:s.XMLHttpRequest)===null||l===void 0?void 0:l.prototype)===null||a===void 0?void 0:a.send,v=(f=(c=(u=this.globalScope)===null||u===void 0?void 0:u.XMLHttpRequest)===null||c===void 0?void 0:c.prototype)===null||f===void 0?void 0:f.setRequestHeader;h&&p&&v&&this.observeXhr(h,p,v);var m=(d=this.globalScope)===null||d===void 0?void 0:d.fetch;m&&this.observeFetch(m),this.isObserving=!0}},n.prototype.unsubscribe=function(e){this.eventCallbacks.delete(e.id)},n.prototype.triggerEventCallbacks=function(e){var t=this;this.eventCallbacks.forEach(function(r){var i;try{r.callback(e)}catch(o){(i=t.logger)===null||i===void 0||i.debug("an unexpected error occurred while triggering event callbacks",o)}})},n.prototype.handleNetworkRequestEvent=function(e,t,r,i,o,s,l){var a,u;if(!(s===void 0||l===void 0)){var c,f="GET";if(oA(t)?(c=t.url,f=t.method):c=(a=t?.toString)===null||a===void 0?void 0:a.call(t),c)try{var d=new URL(c);c="".concat(d.protocol,"//").concat(d.host).concat(d.pathname).concat(d.search).concat(d.hash)}catch(g){(u=this.logger)===null||u===void 0||u.error("an unexpected error occurred while parsing the URL",g)}f=r?.method||f;var h,p;i&&(h=i.status),o&&(p={name:o.name||"UnknownError",message:o.message||"An unknown error occurred"},h=0);var v=Math.floor(performance.now()-l),m=Math.floor(s+v),y=new yv(e,f,s,s,c,r,h,v,i,p,m);this.triggerEventCallbacks(y)}},n.prototype.getTimestamps=function(){var e,t;return{startTime:(e=Date.now)===null||e===void 0?void 0:e.call(Date),durationStart:(t=performance?.now)===null||t===void 0?void 0:t.call(performance)}},n.prototype.observeFetch=function(e){var t=this;!this.globalScope||!e||(this.globalScope.fetch=function(r,i){return E(t,void 0,void 0,function(){var o,s,l,a,u,c;return S(this,function(f){switch(f.label){case 0:try{o=this.getTimestamps()}catch(d){(u=this.logger)===null||u===void 0||u.debug("an unexpected error occurred while retrieving timestamps",d)}f.label=1;case 1:return f.trys.push([1,3,,4]),[4,e(r,i)];case 2:return s=f.sent(),[3,4];case 3:return a=f.sent(),l=a,[3,4];case 4:try{this.handleNetworkRequestEvent("fetch",r,i?new hv(i):void 0,s?new vv(s):void 0,l,o?.startTime,o?.durationStart)}catch(d){(c=this.logger)===null||c===void 0||c.debug("an unexpected error occurred while handling fetch",d)}if(s)return[2,s];throw l}})})})},n.createXhrJsonParser=function(e,t){return function(){var r,i;try{if(e.responseType==="json"){if(!((r=t.globalScope)===null||r===void 0)&&r.structuredClone)return t.globalScope.structuredClone(e.response)}else if(["text",""].includes(e.responseType))return JSON.parse(e.responseText)}catch(o){return o instanceof Error&&o.name==="InvalidStateError"&&((i=t.logger)===null||i===void 0||i.error("unexpected error when retrieving responseText. responseType='".concat(e.responseType,"'"))),null}return null}},n.prototype.observeXhr=function(e,t,r){if(!(!this.globalScope||!e||!t)){var i=this.globalScope.XMLHttpRequest.prototype,o=this;i.open=function(){for(var s,l,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=this,f=O(a,2),d=f[0],h=f[1];try{c.$$AmplitudeAnalyticsEvent=I({method:d,url:(s=h?.toString)===null||s===void 0?void 0:s.call(h),headers:{}},o.getTimestamps())}catch(p){(l=o.logger)===null||l===void 0||l.error("an unexpected error occurred while calling xhr open",p)}return e.apply(c,a)},i.send=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var a=this,u=a,c=n.createXhrJsonParser(a,o),f=s[0],d=u.$$AmplitudeAnalyticsEvent;return u.addEventListener("loadend",function(){var h;try{var p=u.getAllResponseHeaders(),v=u.getResponseHeader("content-length"),m=new gv(u.status,p,v?parseInt(v,10):void 0,c),y=u.$$AmplitudeAnalyticsEvent.headers,g=new pv(f,y);d.status=u.status,o.handleNetworkRequestEvent("xhr",{url:d.url,method:d.method},g,m,void 0,d.startTime,d.durationStart)}catch(b){(h=o.logger)===null||h===void 0||h.error("an unexpected error occurred while handling xhr send",b)}}),t.apply(u,s)},i.setRequestHeader=function(s,l){var a,u=this;try{u.$$AmplitudeAnalyticsEvent.headers[s]=l}catch(c){(a=o.logger)===null||a===void 0||a.error("an unexpected error occurred while calling xhr setRequestHeader",c)}r.apply(u,[s,l])}}},n})(),jo=new sA});var Yu,Sv=W(()=>{P();$u();Ot();Yu=(function(){function n(){}return n.prototype.parse=function(){return E(this,void 0,void 0,function(){return S(this,function(e){return[2,I(I(I(I({},kr),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},n.prototype.getUtmParam=function(){var e=yr(),t=e[mm],r=e[vm],i=e[gm],o=e[ym],s=e[bm],l=e[wm];return{utm_campaign:t,utm_content:r,utm_id:i,utm_medium:o,utm_source:s,utm_term:l}},n.prototype.getReferrer=function(){var e,t,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=(t=(e=r.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&t!==void 0?t:void 0}catch{}return r},n.prototype.getClickIds=function(){var e,t=yr();return e={},e[au]=t[au],e[lu]=t[lu],e[uu]=t[uu],e[cu]=t[cu],e[fu]=t[fu],e[du]=t[du],e[hu]=t[hu],e[pu]=t[pu],e[mu]=t[mu],e[vu]=t[vu],e[gu]=t[gu],e},n})()});var Z=W(()=>{Dm();ko();Bm();Vm();zm();Ou();Iu();on();Mu();Hm();qm();Km();$u();xu();Xm();sn();Eu();Zm();Jm();Qm();ev();tv();Fu();rv();Fm();ei();Ot();Oo();nv();iv();ov();sv();Jn();wv();Ot();Ot();Sv()});function ZT(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JT(){return rb||(rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function QT(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(zr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return Bs.set(e,n),e}function eR(n){if(Df.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Df.set(n,e)}function sb(n){Uf=n(Uf)}function tR(n){return JT().includes(n)?function(...e){return n.apply($f(this),e),zr(this.request)}:function(...e){return zr(n.apply($f(this),e))}}function rR(n){return typeof n=="function"?tR(n):(n instanceof IDBTransaction&&eR(n),Lf(n,ZT())?new Proxy(n,Uf):n)}function zr(n){if(n instanceof IDBRequest)return QT(n);if(kf.has(n))return kf.get(n);let e=rR(n);return e!==n&&(kf.set(n,e),Bs.set(e,n)),e}function Sn(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),l=zr(s);return r&&s.addEventListener("upgradeneeded",a=>{r(zr(s.result),a.oldVersion,a.newVersion,zr(s.transaction),a)}),t&&s.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function nb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=iR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nR.includes(t)))return;let o=async function(s,...l){let a=this.transaction(s,i?"readwrite":"readonly"),u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[t](...l),i&&a.done]))[0]};return Mf.set(e,o),o}async function*aR(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;let t=new Proxy(e,sR);for(ab.set(t,e),Bs.set(t,$f(e));e;)yield t,e=await(Ff.get(t)||e.continue()),Ff.delete(t)}function ob(n,e){return e===Symbol.asyncIterator&&Lf(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Lf(n,[IDBIndex,IDBObjectStore])}var Lf,tb,rb,Df,kf,Bs,Uf,$f,nR,iR,Mf,oR,ib,Ff,ab,sR,Gs=W(()=>{Lf=(n,e)=>e.some(t=>n instanceof t);Df=new WeakMap,kf=new WeakMap,Bs=new WeakMap;Uf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Df.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};$f=n=>Bs.get(n);nR=["get","getKey","getAll","getAllKeys","count"],iR=["put","add","delete","clear"],Mf=new Map;sb(n=>({...n,get:(e,t,r)=>nb(e,t)||n.get(e,t,r),has:(e,t)=>!!nb(e,t)||n.has(e,t)}));oR=["continue","continuePrimaryKey","advance"],ib={},Ff=new WeakMap,ab=new WeakMap,sR={get(n,e){if(!oR.includes(e))return n[e];let t=ib[e];return t||(t=ib[e]=function(...r){Ff.set(this,ab.get(this)[e](...r))}),t}};sb(n=>({...n,get(e,t,r){return ob(e,t)?aR:n.get(e,t,r)},has(e,t){return ob(e,t)||n.has(e,t)}}))});function LR(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Yf(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Ub(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(n,e||[])).next())})}function $b(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Xt(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function DR(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function UR(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Yf,Hr,F,$R,Js,Qs,ea,FR,BR,GR,WR,VR,jR,Li,zR,HR,Rb,qR,KR,YR,XR,ZR,Fb,Bb,JR,QR,e1,xn,Ob,Pb,t1,Mi,Zs,r1,ut,Nb,Gb,Wb,Vb,Jf,Xf,ta,n1,i1,jb,kb,En,Mb,o1,s1,zb,Hb,Qf,qb,Kb,a1,Yb,Zf,l1,Xb,Zb,Jb,u1,Lb,c1,MX,LX,Db,DX,Qb=W(()=>{Yf=function(n,e){return Yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Yf(n,e)};Hr=function(){return Hr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Hr.apply(this,arguments)};F={IS:"is",IS_NOT:"is not",CONTAINS:"contains",DOES_NOT_CONTAIN:"does not contain",LESS_THAN:"less",LESS_THAN_EQUALS:"less or equal",GREATER_THAN:"greater",GREATER_THAN_EQUALS:"greater or equal",VERSION_LESS_THAN:"version less",VERSION_LESS_THAN_EQUALS:"version less or equal",VERSION_GREATER_THAN:"version greater",VERSION_GREATER_THAN_EQUALS:"version greater or equal",SET_IS:"set is",SET_IS_NOT:"set is not",SET_CONTAINS:"set contains",SET_DOES_NOT_CONTAIN:"set does not contain",SET_CONTAINS_ANY:"set contains any",SET_DOES_NOT_CONTAIN_ANY:"set does not contain any",REGEX_MATCH:"regex match",REGEX_DOES_NOT_MATCH:"regex does not match"},$R=function(n){for(var e=[],t=0,r=0;r<n.length;r++){var i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)==55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return Uint8Array.from(e)},Js=-862048943,Qs=461845907,ea=15,FR=13,BR=5,GR=-430675100,WR=function(n,e){e===void 0&&(e=0);for(var t=$R(n),r=t.length,i=r>>2,o=e,s=0;s<i;s++){var l=s<<2,a=zR(t,l);o=VR(a,o)}var u=i<<2,c=0;switch(r-u){case 3:c^=t[u+2]<<16,c^=t[u+1]<<8,c^=t[u],c=Math.imul(c,Js),c=Li(c,ea),c=Math.imul(c,Qs),o^=c;break;case 2:c^=t[u+1]<<8,c^=t[u],c=Math.imul(c,Js),c=Li(c,ea),c=Math.imul(c,Qs),o^=c;break;case 1:c^=t[u],c=Math.imul(c,Js),c=Li(c,ea),c=Math.imul(c,Qs),o^=c;break}return o^=r,jR(o)>>>0},VR=function(n,e){var t=n,r=e;return t=Math.imul(t,Js),t=Li(t,ea),t=Math.imul(t,Qs),r^=t,r=Li(r,FR),r=Math.imul(r,BR),r+GR|0},jR=function(n){var e=n;return e^=e>>>16,e=Math.imul(e,-2048144789),e^=e>>>13,e=Math.imul(e,-1028477387),e^=e>>>16,e},Li=function(n,e,t){t===void 0&&(t=32),e>t&&(e=e%t);var r=4294967295<<t-e>>>0,i=(n&r)>>>0>>>t-e>>>0;return(n<<e|i)>>>0},zR=function(n,e){e===void 0&&(e=0);var t=n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3];return HR(t)},HR=function(n){return(n&-16777216)>>>24|(n&16711680)>>>8|(n&65280)<<8|(n&255)<<24},Rb=function(n,e){var t,r;if(!(!e||e.length===0)){try{for(var i=Xt(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(!s||!n||typeof n!="object")return;n=n[s]}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}if(n)return n}},qR="(\\d+)\\.(\\d+)",KR="(\\d+)",YR="(-(([-\\w]+\\.?)*))?",XR="^".concat(qR,"(\\.").concat(KR).concat(YR,")?$"),ZR=(function(){function n(e,t,r,i){i===void 0&&(i=void 0),this.major=e,this.minor=t,this.patch=r,this.preRelease=i}return n.parse=function(e){if(e){var t=new RegExp(XR).exec(e);if(t){var r=Number(t[1]),i=Number(t[2]);if(!(isNaN(r)||isNaN(i))){var o=Number(t[4])||0,s=t[5]||void 0;return new n(r,i,o,s)}}}},n.prototype.compareTo=function(e){return this.major>e.major?1:this.major<e.major?-1:this.minor>e.minor?1:this.minor<e.minor?-1:this.patch>e.patch?1:this.patch<e.patch||this.preRelease&&!e.preRelease?-1:!this.preRelease&&e.preRelease?1:this.preRelease&&e.preRelease?this.preRelease>e.preRelease?1:this.preRelease<e.preRelease?-1:0:0},n})(),Fb=(function(){function n(){}return n.prototype.evaluate=function(e,t){var r,i,o={},s={context:e,result:o};try{for(var l=Xt(t),a=l.next();!a.done;a=l.next()){var u=a.value,c=this.evaluateFlag(s,u);c&&(o[u.key]=c)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return o},n.prototype.evaluateFlag=function(e,t){var r,i,o;try{for(var s=Xt(t.segments),l=s.next();!l.done;l=s.next()){var a=l.value;if(o=this.evaluateSegment(e,t,a),o){var u=Hr(Hr(Hr({},t.metadata),a.metadata),o.metadata);o=Hr(Hr({},o),{metadata:u});break}}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},n.prototype.evaluateSegment=function(e,t,r){var i,o,s,l;if(!r.conditions){var a=this.bucket(e,r);return a!==void 0?t.variants[a]:void 0}try{for(var u=Xt(r.conditions),c=u.next();!c.done;c=u.next()){var f=c.value,d=!0;try{for(var h=(s=void 0,Xt(f)),p=h.next();!p.done;p=h.next()){var v=p.value;if(d=this.matchCondition(e,v),!d)break}}catch(m){s={error:m}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}if(d){var a=this.bucket(e,r);return a!==void 0?t.variants[a]:void 0}}}catch(m){i={error:m}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},n.prototype.matchCondition=function(e,t){var r=Rb(e,t.selector);if(r)if(this.isSetOperator(t.op)){var i=this.coerceStringArray(r);return i?this.matchSet(i,t.op,t.values):!1}else{var o=this.coerceString(r);return o!==void 0?this.matchString(o,t.op,t.values):!1}else return this.matchNull(t.op,t.values)},n.prototype.getHash=function(e){return WR(e)},n.prototype.bucket=function(e,t){var r,i,o,s;if(!t.bucket)return t.variant;var l=this.coerceString(Rb(e,t.bucket.selector));if(!l||l.length===0)return t.variant;var a="".concat(t.bucket.salt,"/").concat(l),u=this.getHash(a),c=u%100,f=Math.floor(u/100);try{for(var d=Xt(t.bucket.allocations),h=d.next();!h.done;h=d.next()){var p=h.value,v=p.range[0],m=p.range[1];if(c>=v&&c<m)try{for(var y=(o=void 0,Xt(p.distributions)),g=y.next();!g.done;g=y.next()){var b=g.value,w=b.range[0],x=b.range[1];if(f>=w&&f<x)return b.variant}}catch(_){o={error:_}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}}}catch(_){r={error:_}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return t.variant},n.prototype.matchNull=function(e,t){var r=this.containsNone(t);switch(e){case F.IS:case F.CONTAINS:case F.LESS_THAN:case F.LESS_THAN_EQUALS:case F.GREATER_THAN:case F.GREATER_THAN_EQUALS:case F.VERSION_LESS_THAN:case F.VERSION_LESS_THAN_EQUALS:case F.VERSION_GREATER_THAN:case F.VERSION_GREATER_THAN_EQUALS:case F.SET_IS:case F.SET_CONTAINS:case F.SET_CONTAINS_ANY:return r;case F.IS_NOT:case F.DOES_NOT_CONTAIN:case F.SET_DOES_NOT_CONTAIN:case F.SET_DOES_NOT_CONTAIN_ANY:return!r;default:return!1}},n.prototype.matchSet=function(e,t,r){switch(t){case F.SET_IS:return this.setEquals(e,r);case F.SET_IS_NOT:return!this.setEquals(e,r);case F.SET_CONTAINS:return this.matchesSetContainsAll(e,r);case F.SET_DOES_NOT_CONTAIN:return!this.matchesSetContainsAll(e,r);case F.SET_CONTAINS_ANY:return this.matchesSetContainsAny(e,r);case F.SET_DOES_NOT_CONTAIN_ANY:return!this.matchesSetContainsAny(e,r);default:return!1}},n.prototype.matchString=function(e,t,r){var i=this;switch(t){case F.IS:return this.matchesIs(e,r);case F.IS_NOT:return!this.matchesIs(e,r);case F.CONTAINS:return this.matchesContains(e,r);case F.DOES_NOT_CONTAIN:return!this.matchesContains(e,r);case F.LESS_THAN:case F.LESS_THAN_EQUALS:case F.GREATER_THAN:case F.GREATER_THAN_EQUALS:return this.matchesComparable(e,t,r,function(o){return i.parseNumber(o)},this.comparator);case F.VERSION_LESS_THAN:case F.VERSION_LESS_THAN_EQUALS:case F.VERSION_GREATER_THAN:case F.VERSION_GREATER_THAN_EQUALS:return this.matchesComparable(e,t,r,function(o){return ZR.parse(o)},this.versionComparator);case F.REGEX_MATCH:return this.matchesRegex(e,r);case F.REGEX_DOES_NOT_MATCH:return!this.matchesRegex(e,r);default:return!1}},n.prototype.matchesIs=function(e,t){if(this.containsBooleans(t)){var r=e.toLowerCase();if(r==="true"||r==="false")return t.some(function(i){return i.toLowerCase()===r})}return t.some(function(i){return e===i})},n.prototype.matchesContains=function(e,t){var r,i;try{for(var o=Xt(t),s=o.next();!s.done;s=o.next()){var l=s.value;if(e.toLowerCase().includes(l.toLowerCase()))return!0}}catch(a){r={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},n.prototype.matchesComparable=function(e,t,r,i,o){var s=this,l=i(e),a=r.map(function(u){return i(u)}).filter(function(u){return u!==void 0});return l===void 0||a.length===0?r.some(function(u){return s.comparator(e,t,u)}):a.some(function(u){return o(l,t,u)})},n.prototype.comparator=function(e,t,r){switch(t){case F.LESS_THAN:case F.VERSION_LESS_THAN:return e<r;case F.LESS_THAN_EQUALS:case F.VERSION_LESS_THAN_EQUALS:return e<=r;case F.GREATER_THAN:case F.VERSION_GREATER_THAN:return e>r;case F.GREATER_THAN_EQUALS:case F.VERSION_GREATER_THAN_EQUALS:return e>=r;default:return!1}},n.prototype.versionComparator=function(e,t,r){var i=e.compareTo(r);switch(t){case F.LESS_THAN:case F.VERSION_LESS_THAN:return i<0;case F.LESS_THAN_EQUALS:case F.VERSION_LESS_THAN_EQUALS:return i<=0;case F.GREATER_THAN:case F.VERSION_GREATER_THAN:return i>0;case F.GREATER_THAN_EQUALS:case F.VERSION_GREATER_THAN_EQUALS:return i>=0;default:return!1}},n.prototype.matchesRegex=function(e,t){return t.some(function(r){return!!new RegExp(r).exec(e)})},n.prototype.containsNone=function(e){return e.some(function(t){return t==="(none)"})},n.prototype.containsBooleans=function(e){return e.some(function(t){switch(t.toLowerCase()){case"true":case"false":return!0;default:return!1}})},n.prototype.parseNumber=function(e){var t;return(t=Number(e))!==null&&t!==void 0?t:void 0},n.prototype.coerceString=function(e){if(e)return typeof e=="object"?JSON.stringify(e):String(e)},n.prototype.coerceStringArray=function(e){var t=this;if(Array.isArray(e)){var r=e;return r.map(function(s){return t.coerceString(s)}).filter(Boolean)}var i=String(e);try{var o=JSON.parse(i);if(Array.isArray(o)){var r=e;return r.map(function(l){return t.coerceString(l)}).filter(Boolean)}else return}catch{return}},n.prototype.isSetOperator=function(e){switch(e){case F.SET_IS:case F.SET_IS_NOT:case F.SET_CONTAINS:case F.SET_DOES_NOT_CONTAIN:case F.SET_CONTAINS_ANY:case F.SET_DOES_NOT_CONTAIN_ANY:return!0;default:return!1}},n.prototype.setEquals=function(e,t){var r=new Set(e),i=new Set(t);return r.size===i.size&&UR([],DR(i),!1).every(function(o){return r.has(o)})},n.prototype.matchesSetContainsAll=function(e,t){var r,i;if(e.length<t.length)return!1;try{for(var o=Xt(t),s=o.next();!s.done;s=o.next()){var l=s.value;if(!this.matchesIs(l,e))return!1}}catch(a){r={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!0},n.prototype.matchesSetContainsAny=function(e,t){var r,i;try{for(var o=Xt(t),s=o.next();!s.done;s=o.next()){var l=s.value;if(this.matchesIs(l,e))return!0}}catch(a){r={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},n})(),Bb="3.7.5",JR=Bb,QR=typeof atob=="function",e1=typeof btoa=="function",xn=typeof Buffer=="function",Ob=typeof TextDecoder=="function"?new TextDecoder:void 0,Pb=typeof TextEncoder=="function"?new TextEncoder:void 0,t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Mi=Array.prototype.slice.call(t1),Zs=(n=>{let e={};return n.forEach((t,r)=>e[t]=r),e})(Mi),r1=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ut=String.fromCharCode.bind(String),Nb=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):n=>new Uint8Array(Array.prototype.slice.call(n,0)),Gb=n=>n.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),Wb=n=>n.replace(/[^A-Za-z0-9\+\/]/g,""),Vb=n=>{let e,t,r,i,o="",s=n.length%3;for(let l=0;l<n.length;){if((t=n.charCodeAt(l++))>255||(r=n.charCodeAt(l++))>255||(i=n.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=t<<16|r<<8|i,o+=Mi[e>>18&63]+Mi[e>>12&63]+Mi[e>>6&63]+Mi[e&63]}return s?o.slice(0,s-3)+"===".substring(s):o},Jf=e1?n=>btoa(n):xn?n=>Buffer.from(n,"binary").toString("base64"):Vb,Xf=xn?n=>Buffer.from(n).toString("base64"):n=>{let t=[];for(let r=0,i=n.length;r<i;r+=4096)t.push(ut.apply(null,n.subarray(r,r+4096)));return Jf(t.join(""))},ta=(n,e=!1)=>e?Gb(Xf(n)):Xf(n),n1=n=>{if(n.length<2){var e=n.charCodeAt(0);return e<128?n:e<2048?ut(192|e>>>6)+ut(128|e&63):ut(224|e>>>12&15)+ut(128|e>>>6&63)+ut(128|e&63)}else{var e=65536+(n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320);return ut(240|e>>>18&7)+ut(128|e>>>12&63)+ut(128|e>>>6&63)+ut(128|e&63)}},i1=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,jb=n=>n.replace(i1,n1),kb=xn?n=>Buffer.from(n,"utf8").toString("base64"):Pb?n=>Xf(Pb.encode(n)):n=>Jf(jb(n)),En=(n,e=!1)=>e?Gb(kb(n)):kb(n),Mb=n=>En(n,!0),o1=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,s1=n=>{switch(n.length){case 4:var e=(7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3),t=e-65536;return ut((t>>>10)+55296)+ut((t&1023)+56320);case 3:return ut((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return ut((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},zb=n=>n.replace(o1,s1),Hb=n=>{if(n=n.replace(/\s+/g,""),!r1.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(n.length&3));let e,t="",r,i;for(let o=0;o<n.length;)e=Zs[n.charAt(o++)]<<18|Zs[n.charAt(o++)]<<12|(r=Zs[n.charAt(o++)])<<6|(i=Zs[n.charAt(o++)]),t+=r===64?ut(e>>16&255):i===64?ut(e>>16&255,e>>8&255):ut(e>>16&255,e>>8&255,e&255);return t},Qf=QR?n=>atob(Wb(n)):xn?n=>Buffer.from(n,"base64").toString("binary"):Hb,qb=xn?n=>Nb(Buffer.from(n,"base64")):n=>Nb(Qf(n).split("").map(e=>e.charCodeAt(0))),Kb=n=>qb(Yb(n)),a1=xn?n=>Buffer.from(n,"base64").toString("utf8"):Ob?n=>Ob.decode(qb(n)):n=>zb(Qf(n)),Yb=n=>Wb(n.replace(/[-_]/g,e=>e=="-"?"+":"/")),Zf=n=>a1(Yb(n)),l1=n=>{if(typeof n!="string")return!1;let e=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},Xb=n=>({value:n,enumerable:!1,writable:!0,configurable:!0}),Zb=function(){let n=(e,t)=>Object.defineProperty(String.prototype,e,Xb(t));n("fromBase64",function(){return Zf(this)}),n("toBase64",function(e){return En(this,e)}),n("toBase64URI",function(){return En(this,!0)}),n("toBase64URL",function(){return En(this,!0)}),n("toUint8Array",function(){return Kb(this)})},Jb=function(){let n=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,Xb(t));n("toBase64",function(e){return ta(this,e)}),n("toBase64URI",function(){return ta(this,!0)}),n("toBase64URL",function(){return ta(this,!0)})},u1=()=>{Zb(),Jb()},Lb={version:Bb,VERSION:JR,atob:Qf,atobPolyfill:Hb,btoa:Jf,btoaPolyfill:Vb,fromBase64:Zf,toBase64:En,encode:En,encodeURI:Mb,encodeURL:Mb,utob:jb,btou:zb,decode:Zf,isValid:l1,fromUint8Array:ta,toUint8Array:Kb,extendString:Zb,extendUint8Array:Jb,extendBuiltins:u1},c1=(function(n){LR(e,n);function e(t,r){var i=n.call(this,r)||this;return i.statusCode=t,Object.setPrototypeOf(i,e.prototype),i}return e})(Error),MX=(function(){function n(e,t,r){this.deploymentKey=e,this.serverUrl=t,this.httpClient=r}return n.prototype.getVariants=function(e,t){return Ub(this,void 0,void 0,function(){var r,i,o;return $b(this,function(s){switch(s.label){case 0:return r=Lb.encodeURL(JSON.stringify(e)),i={Authorization:"Api-Key ".concat(this.deploymentKey),"X-Amp-Exp-User":r},t?.flagKeys&&(i["X-Amp-Exp-Flag-Keys"]=Lb.encodeURL(JSON.stringify(t.flagKeys))),t?.trackingOption&&(i["X-Amp-Exp-Track"]=t.trackingOption),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/vardata?v=0"),method:"GET",headers:i,timeoutMillis:t?.timeoutMillis})];case 1:if(o=s.sent(),o.status!=200)throw new c1(o.status,"Fetch error response: status=".concat(o.status));return[2,JSON.parse(o.body)]}})})},n})(),LX=(function(){function n(e,t,r){this.deploymentKey=e,this.serverUrl=t,this.httpClient=r}return n.prototype.getFlags=function(e){return Ub(this,void 0,void 0,function(){var t,r,i;return $b(this,function(o){switch(o.label){case 0:return t={Authorization:"Api-Key ".concat(this.deploymentKey)},e?.libraryName&&e?.libraryVersion&&(t["X-Amp-Exp-Library"]="".concat(e.libraryName,"/").concat(e.libraryVersion)),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/flags"),method:"GET",headers:t,timeoutMillis:e?.timeoutMillis})];case 1:if(r=o.sent(),r.status!=200)throw Error("Flags error response: status=".concat(r.status));return i=JSON.parse(r.body),[2,i.reduce(function(s,l){return s[l.key]=l,s},{})]}})})},n})(),Db=typeof globalThis<"u"?globalThis:global||self,DX=(function(){function n(e,t){this.poller=void 0,this.action=e,this.ms=t}return n.prototype.start=function(){this.poller||(this.poller=Db.setInterval(this.action,this.ms),this.action())},n.prototype.stop=function(){this.poller&&(Db.clearInterval(this.poller),this.poller=void 0)},n})()});var f1,d1,ew,tw=W(()=>{P();Gs();f1=1e3*60*60*24*2,d1=(function(){function n(){var e=this;this.dbs={},this.createStore=function(t){return E(e,void 0,void 0,function(){return S(this,function(r){switch(r.label){case 0:return[4,Sn(t,1,{upgrade:function(i){i.objectStoreNames.contains("eventTypesForSession")||i.createObjectStore("eventTypesForSession",{keyPath:"sessionId"})}})];case 1:return[2,r.sent()]}})})},this.openOrCreateDB=function(t){return E(e,void 0,void 0,function(){var r,i;return S(this,function(o){switch(o.label){case 0:return this.dbs&&this.dbs[t]?[2,this.dbs[t]]:(r="".concat(t.substring(0,10),"_amp_targeting"),[4,this.createStore(r)]);case 1:return i=o.sent(),this.dbs[t]=i,[2,i]}})})},this.updateEventListForSession=function(t){var r=t.sessionId,i=t.eventType,o=t.eventTime,s=t.loggerProvider,l=t.tx;return E(e,void 0,void 0,function(){var a,u,c,f,d,h,p;return S(this,function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,l.store.get(r)];case 1:return a=v.sent(),u=a?a.eventTypes:{},c=u[i]||{},f=I(I({},u),(h={},h[i]=I(I({},c),(p={},p[o]={event_type:i},p)),h)),[4,l.store.put({sessionId:r,eventTypes:f})];case 2:return v.sent(),[2,f];case 3:return d=v.sent(),s.warn("Failed to store events for targeting ".concat(r,": ").concat(d)),[3,4];case 4:return[2,void 0]}})})},this.deleteOldSessionEventTypes=function(t){var r=t.currentSessionId,i=t.loggerProvider,o=t.tx;return E(e,void 0,void 0,function(){var s,l,a,u,c;return S(this,function(f){switch(f.label){case 0:return f.trys.push([0,6,,7]),[4,o.store.getAll()];case 1:s=f.sent(),l=0,f.label=2;case 2:return l<s.length?(a=s[l],u=Date.now()-a.sessionId,a.sessionId!==r&&u>f1?[4,o.store.delete(a.sessionId)]:[3,4]):[3,5];case 3:f.sent(),f.label=4;case 4:return l++,[3,2];case 5:return[3,7];case 6:return c=f.sent(),i.warn("Failed to clear old session events for targeting: ".concat(c)),[3,7];case 7:return[2]}})})},this.storeEventTypeForSession=function(t){var r=t.loggerProvider,i=t.sessionId,o=t.eventType,s=t.eventTime,l=t.apiKey;return E(e,void 0,void 0,function(){var a,u,c,f;return S(this,function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),[4,this.openOrCreateDB(l)];case 1:return a=d.sent(),u=a.transaction("eventTypesForSession","readwrite"),u?[4,this.updateEventListForSession({sessionId:i,tx:u,loggerProvider:r,eventType:o,eventTime:s})]:[2];case 2:return c=d.sent(),[4,this.deleteOldSessionEventTypes({currentSessionId:i,tx:u,loggerProvider:r})];case 3:return d.sent(),[4,u.done];case 4:return d.sent(),[2,c];case 5:return f=d.sent(),r.warn("Failed to store events for targeting ".concat(i,": ").concat(f)),[3,6];case 6:return[2,void 0]}})})}}return n})(),ew=new d1});var rw,nw=W(()=>{P();Qb();tw();rw=(function(){function n(){var e=this;this.evaluateTargeting=function(t){var r=t.apiKey,i=t.loggerProvider,o=t.event,s=t.sessionId,l=t.userProperties,a=t.deviceId,u=t.flag;return E(e,void 0,void 0,function(){var c,f,d,h,p;return S(this,function(v){switch(v.label){case 0:return o&&o.time?[4,ew.storeEventTypeForSession({loggerProvider:i,apiKey:r,sessionId:s,eventType:o.event_type,eventTime:o.time})]:[3,2];case 1:return f=v.sent(),[3,3];case 2:f=void 0,v.label=3;case 3:return c=f,d=c&&new Set(Object.keys(c)),h={session_id:s,event:o,event_types:d&&Array.from(d),user:{device_id:a,user_properties:l}},p=this.evaluationEngine.evaluate(h,[u]),[2,p]}})})},this.evaluationEngine=new Fb}return n})()});var h1,iw,ow=W(()=>{nw();h1=function(){var n=new rw;return{evaluateTargeting:n.evaluateTargeting.bind(n)}},iw=h1()});var sw={};nn(sw,{evaluateTargeting:()=>p1});var p1,aw=W(()=>{ow();p1=iw.evaluateTargeting});var RE={};nn(RE,{PLUGIN_NAME:()=>TE,getRecordConsolePlugin:()=>rM});function S1(n){var e,t;let r=(t=(e=globalThis?.Zone)==null?void 0:e.__symbol__)==null?void 0:t.call(e,n);if(r&&globalThis[r])return globalThis[r]}function Zd(n){if(na[n])return na[n];let e=S1(n)||globalThis[n],t=e.prototype,r=n in fw?fw[n]:void 0,i=!!(r&&r.every(l=>{var a,u;return!!((u=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&u.toString().includes("[native code]"))})),o=n in dw?dw[n]:void 0,s=!!(o&&o.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(i&&s)return na[n]=e.prototype,e.prototype;try{let l=document.createElement("iframe");document.body.appendChild(l);let a=l.contentWindow;if(!a)return e.prototype;let u=a[n].prototype;return document.body.removeChild(l),u?na[n]=u:t}catch{return t}}function _r(n,e,t){var r;let i=`${n}.${String(t)}`;if(rd[i])return rd[i].call(e);let o=Zd(n),s=(r=Object.getOwnPropertyDescriptor(o,t))==null?void 0:r.get;return s?(rd[i]=s,s.call(e)):e[t]}function Zw(n,e,t){let r=`${n}.${String(t)}`;if(nd[r])return nd[r].bind(e);let o=Zd(n)[t];return typeof o!="function"?e[t]:(nd[r]=o,o.bind(e))}function E1(n){return _r("Node",n,"childNodes")}function x1(n){return _r("Node",n,"parentNode")}function _1(n){return _r("Node",n,"parentElement")}function C1(n){return _r("Node",n,"textContent")}function I1(n,e){return Zw("Node",n,"contains")(e)}function A1(n){return Zw("Node",n,"getRootNode")()}function T1(n){return!n||!("host"in n)?null:_r("ShadowRoot",n,"host")}function R1(n){return n.styleSheets}function O1(n){return!n||!("shadowRoot"in n)?null:_r("Element",n,"shadowRoot")}function P1(n,e){return _r("Element",n,"querySelector")(e)}function N1(n,e){return _r("Element",n,"querySelectorAll")(e)}function k1(){return Zd("MutationObserver").constructor}function M1(n){let e=n&&"host"in n&&"mode"in n&&Aa.host(n)||null;return!!(e&&"shadowRoot"in e&&Aa.shadowRoot(e)===n)}function L1(){return new md}function vd(n,e,t){if(!n)return!1;if(n.nodeType!==n.ELEMENT_NODE)return t?vd(Aa.parentNode(n),e,t):!1;for(let r=n.classList.length;r--;){let i=n.classList[r];if(e.test(i))return!0}return t?vd(Aa.parentNode(n),e,t):!1}function U1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $1(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}function W1(n){return n[0].toUpperCase()+n.slice(1)}function bd(n,e){new V1(e).stringify(n)}function wd(n,e){let t=new n.constructor;for(let r in n){if(!Object.prototype.hasOwnProperty.call(n,r)||r==="proxyCache")continue;let i=n[r],o=typeof i;r==="parent"&&o==="object"?e&&(t[r]=e):r==="source"?t[r]=i:Array.isArray(i)?t[r]=i.map(s=>wd(s,t)):(o==="object"&&i!==null&&(i=wd(i)),t[r]=i)}return t}function rO(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}function hS(n){return n.map(e=>(e.nodes&&(e.nodes=hS(e.nodes)),delete e.source,e))}function pS(n){if(n[aS]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)pS(e)}function MO(n){for(let e=n.length-1;e>=0;e--){let t=n[e],r=t[3]||t[2];if(r)return r}}function Pa(n,e){let t=new FO(n,e),r=new $O(t);try{r.parse()}catch(i){throw i}return r.root}function Ui(n){return typeof n=="object"&&typeof n.then=="function"}function CS(n){let e=!1,t=qO[n.type];return n.type==="decl"?e=n.prop.toLowerCase():n.type==="atrule"&&(e=n.name.toLowerCase()),e&&n.append?[t,t+"-"+e,An,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:n.append?[t,An,t+"Exit"]:[t,t+"Exit"]}function Tw(n){let e;return n.type==="document"?e=["Document",An,"DocumentExit"]:n.type==="root"?e=["Root",An,"RootExit"]:e=CS(n),{eventIndex:0,events:e,iterator:0,node:n,visitorIndex:0,visitors:[]}}function Rd(n){return n[Zt]=!1,n.nodes&&n.nodes.forEach(e=>Rd(e)),n}function ji(n,e){if(Array.isArray(n))return n.map(i=>ji(i));let{inputs:t,...r}=n;if(t){e=[];for(let i of t){let o={...i,__proto__:cP.prototype};o.map&&(o.map={...o.map,__proto__:aP.prototype}),e.push(o)}}if(r.nodes&&(r.nodes=n.nodes.map(i=>ji(i,e))),r.source){let{inputId:i,...o}=r.source;r.source=o,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new fP(r);if(r.type==="decl")return new sP(r);if(r.type==="rule")return new dP(r);if(r.type==="comment")return new lP(r);if(r.type==="atrule")return new uP(r);throw new Error("Unknown node type: "+n.type)}function Se(...n){return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new ah(n)}function TP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function RP(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}function kP(n){return n[0].toUpperCase()+n.slice(1)}function Md(n,e){new MP(e).stringify(n)}function Ld(n,e){let t=new n.constructor;for(let r in n){if(!Object.prototype.hasOwnProperty.call(n,r)||r==="proxyCache")continue;let i=n[r],o=typeof i;r==="parent"&&o==="object"?e&&(t[r]=e):r==="source"?t[r]=i:Array.isArray(i)?t[r]=i.map(s=>Ld(s,t)):(o==="object"&&i!==null&&(i=Ld(i)),t[r]=i)}return t}function qP(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}function YS(n){return n.map(e=>(e.nodes&&(e.nodes=YS(e.nodes)),delete e.source,e))}function XS(n){if(n[VS]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)XS(e)}function CN(n){for(let e=n.length-1;e>=0;e--){let t=n[e],r=t[3]||t[2];if(r)return r}}function La(n,e){let t=new ON(n,e),r=new RN(t);try{r.parse()}catch(i){throw i}return r.root}function Fi(n){return typeof n=="object"&&typeof n.then=="function"}function aE(n){let e=!1,t=$N[n.type];return n.type==="decl"?e=n.prop.toLowerCase():n.type==="atrule"&&(e=n.name.toLowerCase()),e&&n.append?[t,t+"-"+e,On,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:n.append?[t,On,t+"Exit"]:[t,t+"Exit"]}function jw(n){let e;return n.type==="document"?e=["Document",On,"DocumentExit"]:n.type==="root"?e=["Root",On,"RootExit"]:e=aE(n),{eventIndex:0,events:e,iterator:0,node:n,visitorIndex:0,visitors:[]}}function jd(n){return n[Jt]=!1,n.nodes&&n.nodes.forEach(e=>jd(e)),n}function Ki(n,e){if(Array.isArray(n))return n.map(i=>Ki(i));let{inputs:t,...r}=n;if(t){e=[];for(let i of t){let o={...i,__proto__:tk.prototype};o.map&&(o.map={...o.map,__proto__:JN.prototype}),e.push(o)}}if(r.nodes&&(r.nodes=n.nodes.map(i=>Ki(i,e))),r.source){let{inputId:i,...o}=r.source;r.source=o,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new rk(r);if(r.type==="decl")return new ZN(r);if(r.type==="rule")return new nk(r);if(r.type==="comment")return new QN(r);if(r.type==="atrule")return new ek(r);throw new Error("Unknown node type: "+n.type)}function Ee(...n){return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new gh(n)}function gk(n){var e,t;let r=(t=(e=globalThis?.Zone)==null?void 0:e.__symbol__)==null?void 0:t.call(e,n);if(r&&globalThis[r])return globalThis[r]}function yh(n){if(Ea[n])return Ea[n];let e=gk(n)||globalThis[n],t=e.prototype,r=n in zw?zw[n]:void 0,i=!!(r&&r.every(l=>{var a,u;return!!((u=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&u.toString().includes("[native code]"))})),o=n in Hw?Hw[n]:void 0,s=!!(o&&o.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(i&&s)return Ea[n]=e.prototype,e.prototype;try{let l=document.createElement("iframe");document.body.appendChild(l);let a=l.contentWindow;if(!a)return e.prototype;let u=a[n].prototype;return document.body.removeChild(l),u?Ea[n]=u:t}catch{return t}}function Cr(n,e,t){var r;let i=`${n}.${String(t)}`;if(dd[i])return dd[i].call(e);let o=yh(n),s=(r=Object.getOwnPropertyDescriptor(o,t))==null?void 0:r.get;return s?(dd[i]=s,s.call(e)):e[t]}function vE(n,e,t){let r=`${n}.${String(t)}`;if(hd[r])return hd[r].bind(e);let o=yh(n)[t];return typeof o!="function"?e[t]:(hd[r]=o,o.bind(e))}function yk(n){return Cr("Node",n,"childNodes")}function bk(n){return Cr("Node",n,"parentNode")}function wk(n){return Cr("Node",n,"parentElement")}function Sk(n){return Cr("Node",n,"textContent")}function Ek(n,e){return vE("Node",n,"contains")(e)}function xk(n){return vE("Node",n,"getRootNode")()}function _k(n){return!n||!("host"in n)?null:Cr("ShadowRoot",n,"host")}function Ck(n){return n.styleSheets}function Ik(n){return!n||!("shadowRoot"in n)?null:Cr("Element",n,"shadowRoot")}function Ak(n,e){return Cr("Element",n,"querySelector")(e)}function Tk(n,e){return Cr("Element",n,"querySelectorAll")(e)}function Rk(){return yh("MutationObserver").constructor}function Ok(n,e,t=document){let r={capture:!0,passive:!0};return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function Pk(n,e,t={}){let r=null,i=0;return function(...o){let s=Date.now();!i&&t.leading===!1&&(i=s);let l=e-(s-i),a=this;l<=0||l>e?(r&&(clearTimeout(r),r=null),i=s,n.apply(a,o)):!r&&t.trailing!==!1&&(r=setTimeout(()=>{i=t.leading===!1?0:Date.now(),r=null,n.apply(a,o)},l))}}function gE(n,e,t,r,i=window){let o=i.Object.getOwnPropertyDescriptor(n,e);return i.Object.defineProperty(n,e,r?t:{set(s){setTimeout(()=>{t.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>gE(n,e,o||{},!0)}function Nk(n,e,t){try{if(!(e in n))return()=>{};let r=n[e],i=t(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),n[e]=i,()=>{n[e]=r}}catch{return()=>{}}}function kk(n){var e,t,r,i;let o=n.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:n.pageXOffset!==void 0?n.pageXOffset:o.documentElement.scrollLeft||o?.body&&((e=At.parentElement(o.body))==null?void 0:e.scrollLeft)||((t=o?.body)==null?void 0:t.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:n.pageYOffset!==void 0?n.pageYOffset:o?.documentElement.scrollTop||o?.body&&((r=At.parentElement(o.body))==null?void 0:r.scrollTop)||((i=o?.body)==null?void 0:i.scrollTop)||0}}function Mk(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Lk(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function bE(n){return n?n.nodeType===n.ELEMENT_NODE?n:At.parentElement(n):null}function Dk(n,e,t,r){if(!n)return!1;let i=bE(n);if(!i)return!1;try{if(typeof e=="string"){if(i.classList.contains(e)||r&&i.closest("."+e)!==null)return!0}else if(vd(i,e,r))return!0}catch{}return!!(t&&(i.matches(t)||r&&i.closest(t)!==null))}function Uk(n,e){return e.getId(n)!==-1}function $k(n,e,t){return n.tagName==="TITLE"&&t.headTitleMutations?!0:e.getId(n)===D1}function wE(n,e){if(M1(n))return!1;let t=e.getId(n);if(!e.has(t))return!0;let r=At.parentNode(n);return r&&r.nodeType===n.DOCUMENT_NODE?!1:r?wE(r,e):!0}function Fk(n){return!!n.changedTouches}function Bk(n=window){"NodeList"in n&&!n.NodeList.prototype.forEach&&(n.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in n&&!n.DOMTokenList.prototype.forEach&&(n.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function Gk(n){let e={},t=(i,o)=>{let s={value:i,parent:o,children:[]};return e[i.node.id]=s,s},r=[];for(let i of n){let{nextId:o,parentId:s}=i;if(o&&o in e){let l=e[o];if(l.parent){let a=l.parent.children.indexOf(l);l.parent.children.splice(a,0,t(i,l.parent))}else{let a=r.indexOf(l);r.splice(a,0,t(i,null))}continue}if(s in e){let l=e[s];l.children.push(t(i,l));continue}r.push(t(i,null))}return r}function SE(n,e){e(n.value);for(let t=n.children.length-1;t>=0;t--)SE(n.children[t],e)}function Wk(n,e){return!!(n.nodeName==="IFRAME"&&e.getMeta(n))}function Vk(n,e){return!!(n.nodeName==="LINK"&&n.nodeType===n.ELEMENT_NODE&&n.getAttribute&&n.getAttribute("rel")==="stylesheet"&&e.getMeta(n))}function EE(n,e){var t,r;let i=(r=(t=n.ownerDocument)==null?void 0:t.defaultView)==null?void 0:r.frameElement;if(!i||i===e)return{x:0,y:0,relativeScale:1,absoluteScale:1};let o=i.getBoundingClientRect(),s=EE(i,e),l=o.height/i.clientHeight;return{x:o.x*s.relativeScale+s.x,y:o.y*s.relativeScale+s.y,relativeScale:l,absoluteScale:s.absoluteScale*l}}function jk(n){return n?n instanceof qd&&"shadowRoot"in n?!!n.shadowRoot:!!At.shadowRoot(n):!1}function xE(n,e){let t=n[e[0]];return e.length===1?t:xE(t.cssRules[e[1]].cssRules,e.slice(2))}function zk(n){let e=[...n],t=e.pop();return{positions:e,index:t}}function Hk(n){let e=new Set,t=[];for(let r=n.length;r--;){let i=n[r];e.has(i.id)||(t.push(i),e.add(i.id))}return t}function _E(n){var e;let t=null;return"getRootNode"in n&&((e=At.getRootNode(n))==null?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&At.host(At.getRootNode(n))&&(t=At.host(At.getRootNode(n))),t}function CE(n){let e=n,t;for(;t=_E(e);)e=t;return e}function IE(n){let e=n.ownerDocument;if(!e)return!1;let t=CE(n);return At.contains(e,t)}function qk(n){let e=n.ownerDocument;return e?At.contains(e,n)||IE(n):!1}function eM(n){if(!n||!n.outerHTML)return"";let e="";for(;n.parentElement;){let t=n.localName;if(!t)break;t=t.toLowerCase();let r=n.parentElement,i=[];if(r.children&&r.children.length>0)for(let o=0;o<r.children.length;o++){let s=r.children[o];s.localName&&s.localName.toLowerCase&&s.localName.toLowerCase()===t&&i.push(s)}i.length>1&&(t+=`:eq(${i.indexOf(n)})`),e=t+(e?">"+e:""),n=r}return e}function Xd(n){return Object.prototype.toString.call(n)==="[object Object]"}function AE(n,e){if(e===0)return!0;let t=Object.keys(n);for(let r of t)if(Xd(n[r])&&AE(n[r],e-1))return!0;return!1}function _n(n,e){let t={numOfKeysLimit:50,depthOfLimit:4};Object.assign(t,e);let r=[],i=[];return JSON.stringify(n,function(l,a){if(r.length>0){let u=r.indexOf(this);~u?r.splice(u+1):r.push(this),~u?i.splice(u,1/0,l):i.push(l),~r.indexOf(a)&&(r[0]===a?a="[Circular ~]":a="[Circular ~."+i.slice(0,r.indexOf(a)).join(".")+"]")}else r.push(a);if(a===null)return a;if(a===void 0)return"undefined";if(o(a))return s(a);if(typeof a=="bigint")return a.toString()+"n";if(a instanceof Event){let u={};for(let c in a){let f=a[c];Array.isArray(f)?u[c]=eM(f.length?f[0]:null):u[c]=f}return u}else{if(a instanceof Node)return a instanceof HTMLElement?a?a.outerHTML:"":a.nodeName;if(a instanceof Error)return a.stack?a.stack+`
End of stack for Error object`:a.name+": "+a.message}return a});function o(l){return!!(Xd(l)&&Object.keys(l).length>t.numOfKeysLimit||typeof l=="function"||Xd(l)&&AE(l,t.depthOfLimit))}function s(l){let a=l.toString();return t.stringLengthLimit&&a.length>t.stringLengthLimit&&(a=`${a.slice(0,t.stringLengthLimit)}...`),a}}function tM(n,e,t){let r=t?Object.assign({},Xw,t):Xw,i=r.logger;if(!i)return()=>{};let o;typeof i=="string"?o=e[i]:o=i;let s=0,l=!1,a=[];if(r.level.includes("error")){let c=d=>{let h=d.message,p=d.error,v=pd.parse(p).map(y=>y.toString()),m=[_n(h,r.stringifyOptions)];n({level:"error",trace:v,payload:m})};e.addEventListener("error",c),a.push(()=>{e.removeEventListener("error",c)});let f=d=>{let h,p;d.reason instanceof Error?(h=d.reason,p=[_n(`Uncaught (in promise) ${h.name}: ${h.message}`,r.stringifyOptions)]):(h=new Error,p=[_n("Uncaught (in promise)",r.stringifyOptions),_n(d.reason,r.stringifyOptions)]);let v=pd.parse(h).map(m=>m.toString());n({level:"error",trace:v,payload:p})};e.addEventListener("unhandledrejection",f),a.push(()=>{e.removeEventListener("unhandledrejection",f)})}for(let c of r.level)a.push(u(o,c));return()=>{a.forEach(c=>c())};function u(c,f){return c[f]?Kk.patch(c,f,d=>(...h)=>{if(d.apply(this,h),!(f==="assert"&&h[0])&&!l){l=!0;try{let p=pd.parse(new Error).map(y=>y.toString()).splice(1),m=(f==="assert"?h.slice(1):h).map(y=>_n(y,r.stringifyOptions));s++,s<r.lengthThreshold?n({level:f,trace:p,payload:m}):s===r.lengthThreshold&&n({level:"warn",trace:[],payload:[_n("The number of log records reached the threshold.")]})}catch(p){d("rrweb logger error:",p,...h)}finally{l=!1}}}):()=>{}}}var m1,v1,ra,g1,y1,td,uw,b1,w1,cw,fw,dw,na,rd,nd,Aa,md,D1,Jd,ke,Jw,F1,B1,G1,kt,hw,pw,gd,Qd,Yi,mw,yd,eS,V1,Da,ia,j1,z1,H1,q1,Sd,Ua,K1,Ed,$a,Y1,X1,Z1,J1,vw,gw,Q1,eO,id,tO,xd,tS,nO,iO,yw,oa,_d,Cd,oO,od,bw,sO,sd,aO,ww,Ta,Fa,rS,xa,_a,nS,iS,oS,Sw,lO,uO,cO,fO,sS,dO,Id,Ba,aS,lS,uS,cS,hO,fS,eh,th,dS,ur,qr,pO,vS,gS,Gi,rh,Ad,yS,mO,Td,nh,ad,Ew,sa,xw,aa,Di,la,ua,ca,vO,gO,yO,bO,wO,SO,EO,xO,_O,CO,fa,da,IO,_w,AO,bS,Ra,ih,wS,SS,ES,In,Xi,Wi,xS,_S,TO,Oa,oh,RO,OO,PO,NO,kO,Cw,Iw,LO,DO,UO,$O,FO,sh,Zt,BO,GO,WO,VO,jO,Aw,zO,HO,qO,KO,YO,An,Od,Tn,AS,XO,ZO,JO,QO,Pd,eP,tP,rP,nP,iP,Vi,oP,sP,aP,lP,uP,cP,fP,dP,hP,pP,TS,mP,vP,ah,gP,yP,RS,bP,OS,PS,wP,SP,EP,xP,NS,kS,_P,CP,$e,IP,AP,It,lh,Me,MS,OP,PP,NP,Mt,Rw,Ow,Nd,uh,Zi,Pw,kd,DS,MP,Ga,ha,LP,DP,UP,$P,Dd,Wa,FP,Ud,Va,BP,GP,WP,VP,Nw,kw,jP,zP,ld,HP,$d,US,KP,YP,Mw,pa,Fd,Bd,XP,ud,Lw,ZP,cd,JP,Dw,Na,ja,$S,Ca,Ia,FS,BS,GS,Uw,QP,eN,tN,rN,WS,nN,Gd,za,VS,jS,zS,HS,iN,qS,ch,fh,KS,cr,Kr,oN,JS,QS,zi,dh,Wd,eE,sN,Vd,hh,fd,$w,ma,Fw,va,$i,ga,ya,ba,aN,lN,uN,cN,fN,dN,hN,pN,mN,vN,wa,Sa,gN,Bw,yN,tE,ka,ph,rE,nE,iE,Rn,Ji,Hi,oE,sE,bN,Ma,mh,wN,SN,EN,xN,_N,Gw,Ww,IN,AN,TN,RN,ON,vh,Jt,PN,NN,kN,MN,LN,Vw,DN,UN,$N,FN,BN,On,zd,Pn,uE,GN,WN,VN,jN,Hd,zN,HN,qN,KN,YN,qi,XN,ZN,JN,QN,ek,tk,rk,nk,ik,ok,cE,sk,ak,gh,lk,uk,fE,ck,dE,hE,fk,dk,hk,pk,pE,mE,mk,vk,Fe,qd,zw,Hw,Ea,dd,hd,At,Cn,Kd,yE,Yd,Kk,qw,Yk,Bi,Xk,Zk,Kw,xr,Jk,Yw,Qk,pd,Xw,TE,rM,OE=W(()=>{m1=Object.defineProperty,v1=(n,e,t)=>e in n?m1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ra=(n,e,t)=>v1(n,typeof e!="symbol"?e+"":e,t),g1=Object.defineProperty,y1=(n,e,t)=>e in n?g1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,td=(n,e,t)=>y1(n,typeof e!="symbol"?e+"":e,t),b1=Object.defineProperty,w1=(n,e,t)=>e in n?b1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cw=(n,e,t)=>w1(n,typeof e!="symbol"?e+"":e,t),fw={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},dw={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},na={};rd={};nd={};Aa={childNodes:E1,parentNode:x1,parentElement:_1,textContent:C1,contains:I1,getRootNode:A1,host:T1,styleSheets:R1,shadowRoot:O1,querySelector:P1,querySelectorAll:N1,mutationObserver:k1};md=class{constructor(){cw(this,"idNodeMap",new Map),cw(this,"nodeMetaMap",new WeakMap)}getId(e){var t;return e?((t=this.getMeta(e))==null?void 0:t.id)??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){let r=this.getNode(e);if(r){let i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(t,i)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};D1=-2;Jd={exports:{}},ke=String,Jw=function(){return{isColorSupported:!1,reset:ke,bold:ke,dim:ke,italic:ke,underline:ke,inverse:ke,hidden:ke,strikethrough:ke,black:ke,red:ke,green:ke,yellow:ke,blue:ke,magenta:ke,cyan:ke,white:ke,gray:ke,bgBlack:ke,bgRed:ke,bgGreen:ke,bgYellow:ke,bgBlue:ke,bgMagenta:ke,bgCyan:ke,bgWhite:ke}};Jd.exports=Jw();Jd.exports.createColors=Jw;F1=Jd.exports,B1={},G1=Object.freeze(Object.defineProperty({__proto__:null,default:B1},Symbol.toStringTag,{value:"Module"})),kt=$1(G1),hw=F1,pw=kt,gd=class Qw extends Error{constructor(e,t,r,i,o,s){super(e),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),i&&(this.source=i),s&&(this.plugin=s),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Qw)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=hw.isColorSupported),pw&&e&&(t=pw(t));let r=t.split(/\r?\n/),i=Math.max(this.line-3,0),o=Math.min(this.line+2,r.length),s=String(o).length,l,a;if(e){let{bold:u,gray:c,red:f}=hw.createColors(!0);l=d=>u(f(d)),a=d=>c(d)}else l=a=u=>u;return r.slice(i,o).map((u,c)=>{let f=i+1+c,d=" "+(" "+f).slice(-s)+" | ";if(f===this.line){let h=a(d.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+a(d)+u+`
 `+h+l("^")}return" "+a(d)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}},Qd=gd;gd.default=gd;Yi={};Yi.isClean=Symbol("isClean");Yi.my=Symbol("my");mw={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};yd=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let o=(e.raws.between||"")+(t?";":"");this.builder(r+i+o,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,o=0;for(;i&&i.type!=="root";)o+=1,i=i.parent;if(r.includes(`
`)){let s=this.raw(e,null,"indent");if(s.length)for(let l=0;l<o;l++)r+=s}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let o=e.nodes[i],s=this.raw(o,"before");s&&this.builder(s),this.stringify(o,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&(i=e.raws[t],typeof i<"u"))return i;let o=e.parent;if(r==="before"&&(!o||o.type==="root"&&o.first===e||o&&o.type==="document"))return"";if(!o)return mw[r];let s=e.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[r]<"u")return s.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let l="raw"+W1(r);this[l]?i=this[l](s,e):s.walk(a=>{if(i=a.raws[t],typeof i<"u")return!1})}return typeof i>"u"&&(i=mw[r]),s.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let o=r.raws.before.split(`
`);return t=o[o.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}},eS=yd;yd.default=yd;V1=eS;Da=bd;bd.default=bd;({isClean:ia,my:j1}=Yi),z1=Qd,H1=eS,q1=Da;Sd=class{constructor(e={}){this.raws={},this[ia]=!1,this[j1]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=wd(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new z1(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[ia]){this[ia]=!1;let e=this;for(;e=e.parent;)e[ia]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){t=this.toString();let i=t.indexOf(e.word);i!==-1&&(r=this.positionInside(i,t))}return r}positionInside(e,t){let r=t||this.toString(),i=this.source.start.column,o=this.source.start.line;for(let s=0;s<e;s++)r[s]===`
`?(i=1,o+=1):i+=1;return{column:i,line:o}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),o=i.indexOf(e.word);o!==-1&&(t=this.positionInside(o,i),r=this.positionInside(o+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new H1().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},i=t==null;t=t||new Map;let o=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let l=this[s];if(Array.isArray(l))r[s]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)r[s]=l.toJSON(null,t);else if(s==="source"){let a=t.get(l.input);a==null&&(a=o,t.set(l.input,o),o++),r[s]={end:l.end,inputId:a,start:l.start}}else r[s]=l}return i&&(r.inputs=[...t.keys()].map(s=>s.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=q1){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let i={node:this};for(let o in r)i[o]=r[o];return e.warn(t,i)}get proxyOf(){return this}},Ua=Sd;Sd.default=Sd;K1=Ua,Ed=class extends K1{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}},$a=Ed;Ed.default=Ed;Y1="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",X1=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},Z1=(n=21)=>{let e="",t=n;for(;t--;)e+=Y1[Math.random()*64|0];return e},J1={nanoid:Z1,customAlphabet:X1},{SourceMapConsumer:vw,SourceMapGenerator:gw}=kt,{existsSync:Q1,readFileSync:eO}=kt,{dirname:id,join:tO}=kt;xd=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=id(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new vw(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,o=/^data:application\/json,/;if(i.test(e)||o.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return rO(e.substr(RegExp.lastMatch.length));let s=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=id(e),Q1(e))return this.mapFile=e,eO(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(t instanceof vw)return gw.fromSourceMap(t).toString();if(t instanceof gw)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=tO(id(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}},tS=xd;xd.default=xd;({SourceMapConsumer:nO,SourceMapGenerator:iO}=kt),{fileURLToPath:yw,pathToFileURL:oa}=kt,{isAbsolute:_d,resolve:Cd}=kt,{nanoid:oO}=J1,od=kt,bw=Qd,sO=tS,sd=Symbol("fromOffsetCache"),aO=!!(nO&&iO),ww=!!(Cd&&_d),Ta=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!ww||/^\w+:\/\//.test(t.from)||_d(t.from)?this.file=t.from:this.file=Cd(t.from)),ww&&aO){let r=new sO(this.css,t);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+oO(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let o,s,l;if(t&&typeof t=="object"){let u=t,c=r;if(typeof u.offset=="number"){let f=this.fromOffset(u.offset);t=f.line,r=f.col}else t=u.line,r=u.column;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);s=f.line,l=f.col}else s=c.line,l=c.column}else if(!r){let u=this.fromOffset(t);t=u.line,r=u.col}let a=this.origin(t,r,s,l);return a?o=new bw(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,i.plugin):o=new bw(e,s===void 0?t:{column:r,line:t},s===void 0?r:{column:l,line:s},this.css,this.file,i.plugin),o.input={column:r,endColumn:l,endLine:s,line:t,source:this.css},this.file&&(oa&&(o.input.url=oa(this.file).toString()),o.input.file=this.file),o}fromOffset(e){let t,r;if(this[sd])r=this[sd];else{let o=this.css.split(`
`);r=new Array(o.length);let s=0;for(let l=0,a=o.length;l<a;l++)r[l]=s,s+=o[l].length+1;this[sd]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let o=r.length-2,s;for(;i<o;)if(s=i+(o-i>>1),e<r[s])o=s-1;else if(e>=r[s+1])i=s+1;else{i=s;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Cd(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){if(!this.map)return!1;let o=this.map.consumer(),s=o.originalPositionFor({column:t,line:e});if(!s.source)return!1;let l;typeof r=="number"&&(l=o.originalPositionFor({column:i,line:r}));let a;_d(s.source)?a=oa(s.source):a=new URL(s.source,this.map.consumer().sourceRoot||oa(this.map.mapFile));let u={column:s.column,endColumn:l&&l.column,endLine:l&&l.line,line:s.line,url:a.toString()};if(a.protocol==="file:")if(yw)u.file=yw(a);else throw new Error("file: protocol is not available in this PostCSS build");let c=o.sourceContentFor(s.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}},Fa=Ta;Ta.default=Ta;od&&od.registerInput&&od.registerInput(Ta);({SourceMapConsumer:rS,SourceMapGenerator:xa}=kt),{dirname:_a,relative:nS,resolve:iS,sep:oS}=kt,{pathToFileURL:Sw}=kt,lO=Fa,uO=!!(rS&&xa),cO=!!(_a&&iS&&nS&&oS),fO=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||_a(e.file),i;this.mapOpts.sourcesContent===!1?(i=new rS(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),cO&&uO&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=xa.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new xa({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new xa({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},o,s;this.stringify(this.root,(l,a,u)=>{if(this.css+=l,a&&u!=="end"&&(i.generated.line=e,i.generated.column=t-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),o=l.match(/\n/g),o?(e+=o.length,s=l.lastIndexOf(`
`),t=l.length-s):t+=l.length,a&&u!=="start"){let c=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==c.last||c.raws.semicolon)&&(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?_a(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=_a(iS(r,this.mapOpts.annotation)));let i=nS(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new lO(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Sw){let r=Sw(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;oS==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}},sS=fO,dO=Ua,Id=class extends dO{constructor(e){super(e),this.type="comment"}},Ba=Id;Id.default=Id;({isClean:aS,my:lS}=Yi),uS=$a,cS=Ba,hO=Ua;ur=class mS extends hO{append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(i=>typeof i=="function"?(o,s)=>i(o.toProxy(),s):i)):t==="every"||t==="some"?r=>e[t]((i,...o)=>r(i.toProxy(),...o)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let s of i)this.proxyOf.nodes.splice(r+1,0,s);let o;for(let s in this.indexes)o=this.indexes[s],r<o&&(this.indexes[s]=o+i.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),i=r===0?"prepend":!1,o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let l of o)this.proxyOf.nodes.splice(r,0,l);let s;for(let l in this.indexes)s=this.indexes[l],r<=s&&(this.indexes[l]=s+o.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=hS(fS(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new uS(e)]}else if(e.selector)e=[new eh(e)];else if(e.name)e=[new th(e)];else if(e.text)e=[new cS(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[lS]||mS.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[aS]&&pS(i),typeof i.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(o){throw t.addToError(o)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="atrule")return t(r,i)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="decl")return t(r,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="rule")return t(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};ur.registerParse=n=>{fS=n};ur.registerRule=n=>{eh=n};ur.registerAtRule=n=>{th=n};ur.registerRoot=n=>{dS=n};qr=ur;ur.default=ur;ur.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,th.prototype):n.type==="rule"?Object.setPrototypeOf(n,eh.prototype):n.type==="decl"?Object.setPrototypeOf(n,uS.prototype):n.type==="comment"?Object.setPrototypeOf(n,cS.prototype):n.type==="root"&&Object.setPrototypeOf(n,dS.prototype),n[lS]=!0,n.nodes&&n.nodes.forEach(e=>{ur.rebuild(e)})};pO=qr,Gi=class extends pO{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new vS(new gS,this,e).stringify()}};Gi.registerLazyResult=n=>{vS=n};Gi.registerProcessor=n=>{gS=n};rh=Gi;Gi.default=Gi;Ad=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}},yS=Ad;Ad.default=Ad;mO=yS,Td=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new mO(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}},nh=Td;Td.default=Td;ad=39,Ew=34,sa=92,xw=47,aa=10,Di=32,la=12,ua=9,ca=13,vO=91,gO=93,yO=40,bO=41,wO=123,SO=125,EO=59,xO=42,_O=58,CO=64,fa=/[\t\n\f\r "#'()/;[\\\]{}]/g,da=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,IO=/.[\r\n"'(/\\]/,_w=/[\da-f]/i,AO=function(e,t={}){let r=e.css.valueOf(),i=t.ignoreErrors,o,s,l,a,u,c,f,d,h,p,v=r.length,m=0,y=[],g=[];function b(){return m}function w(C){throw e.error("Unclosed "+C,m)}function x(){return g.length===0&&m>=v}function _(C){if(g.length)return g.pop();if(m>=v)return;let T=C?C.ignoreUnclosed:!1;switch(o=r.charCodeAt(m),o){case aa:case Di:case ua:case ca:case la:{s=m;do s+=1,o=r.charCodeAt(s);while(o===Di||o===aa||o===ua||o===ca||o===la);p=["space",r.slice(m,s)],m=s-1;break}case vO:case gO:case wO:case SO:case _O:case EO:case bO:{let R=String.fromCharCode(o);p=[R,R,m];break}case yO:{if(d=y.length?y.pop()[1]:"",h=r.charCodeAt(m+1),d==="url"&&h!==ad&&h!==Ew&&h!==Di&&h!==aa&&h!==ua&&h!==la&&h!==ca){s=m;do{if(c=!1,s=r.indexOf(")",s+1),s===-1)if(i||T){s=m;break}else w("bracket");for(f=s;r.charCodeAt(f-1)===sa;)f-=1,c=!c}while(c);p=["brackets",r.slice(m,s+1),m,s],m=s}else s=r.indexOf(")",m+1),a=r.slice(m,s+1),s===-1||IO.test(a)?p=["(","(",m]:(p=["brackets",a,m,s],m=s);break}case ad:case Ew:{l=o===ad?"'":'"',s=m;do{if(c=!1,s=r.indexOf(l,s+1),s===-1)if(i||T){s=m+1;break}else w("string");for(f=s;r.charCodeAt(f-1)===sa;)f-=1,c=!c}while(c);p=["string",r.slice(m,s+1),m,s],m=s;break}case CO:{fa.lastIndex=m+1,fa.test(r),fa.lastIndex===0?s=r.length-1:s=fa.lastIndex-2,p=["at-word",r.slice(m,s+1),m,s],m=s;break}case sa:{for(s=m,u=!0;r.charCodeAt(s+1)===sa;)s+=1,u=!u;if(o=r.charCodeAt(s+1),u&&o!==xw&&o!==Di&&o!==aa&&o!==ua&&o!==ca&&o!==la&&(s+=1,_w.test(r.charAt(s)))){for(;_w.test(r.charAt(s+1));)s+=1;r.charCodeAt(s+1)===Di&&(s+=1)}p=["word",r.slice(m,s+1),m,s],m=s;break}default:{o===xw&&r.charCodeAt(m+1)===xO?(s=r.indexOf("*/",m+2)+1,s===0&&(i||T?s=r.length:w("comment")),p=["comment",r.slice(m,s+1),m,s],m=s):(da.lastIndex=m+1,da.test(r),da.lastIndex===0?s=r.length-1:s=da.lastIndex-2,p=["word",r.slice(m,s+1),m,s],y.push(p),m=s);break}}return m++,p}function A(C){g.push(C)}return{back:A,endOfFile:x,nextToken:_,position:b}},bS=qr,Ra=class extends bS{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}},ih=Ra;Ra.default=Ra;bS.registerAtRule(Ra);wS=qr,In=class extends wS{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let o of i)o.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new SS(new ES,this,e).stringify()}};In.registerLazyResult=n=>{SS=n};In.registerProcessor=n=>{ES=n};Xi=In;In.default=In;wS.registerRoot(In);Wi={comma(n){return Wi.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return Wi.split(n,e)},split(n,e,t){let r=[],i="",o=!1,s=0,l=!1,a="",u=!1;for(let c of n)u?u=!1:c==="\\"?u=!0:l?c===a&&(l=!1):c==='"'||c==="'"?(l=!0,a=c):c==="("?s+=1:c===")"?s>0&&(s-=1):s===0&&e.includes(c)&&(o=!0),o?(i!==""&&r.push(i.trim()),i="",o=!1):i+=c;return(t||i!=="")&&r.push(i.trim()),r}},xS=Wi;Wi.default=Wi;_S=qr,TO=xS,Oa=class extends _S{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return TO.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}},oh=Oa;Oa.default=Oa;_S.registerRule(Oa);RO=$a,OO=AO,PO=Ba,NO=ih,kO=Xi,Cw=oh,Iw={empty:!0,space:!0};LO=class{constructor(e){this.input=e,this.root=new kO,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new NO;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,i,o,s=!1,l=!1,a=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){l=!0;break}else if(r==="}"){if(a.length>0){for(o=a.length-1,i=a[o];i&&i[0]==="space";)i=a[--o];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),s&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,i;for(let o=t-1;o>=0&&(i=e[o],!(i[0]!=="space"&&(r+=1,r===2)));o--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,r,i,o;for(let[s,l]of e.entries()){if(r=l,i=r[0],i==="("&&(t+=1),i===")"&&(t-=1),t===0&&i===":")if(!o)this.doubleColon(r);else{if(o[0]==="word"&&o[1]==="progid")continue;return s}o=r}return!1}comment(e){let t=new PO;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=OO(this.input)}decl(e,t){let r=new RO;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||MO(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let o;for(;e.length;)if(o=e.shift(),o[0]===":"){r.raws.between+=o[1];break}else o[0]==="word"&&/\w/.test(o[1])&&this.unknownWord([o]),r.raws.between+=o[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)s.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(o=e[u],o[1].toLowerCase()==="!important"){r.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(r.raws.important=c);break}else if(o[1].toLowerCase()==="important"){let c=e.slice(0),f="";for(let d=u;d>0;d--){let h=c[d][0];if(f.trim().indexOf("!")===0&&h!=="space")break;f=c.pop()[1]+f}f.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=f,e=c)}if(o[0]!=="space"&&o[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=s.map(u=>u[1]).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new Cw;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,o=null,s=[],l=e[1].startsWith("--"),a=[],u=e;for(;u;){if(r=u[0],a.push(u),r==="("||r==="[")o||(o=u),s.push(r==="("?")":"]");else if(l&&i&&r==="{")o||(o=u),s.push("}");else if(s.length===0)if(r===";")if(i){this.decl(a,l);return}else break;else if(r==="{"){this.rule(a);return}else if(r==="}"){this.tokenizer.back(a.pop()),t=!0;break}else r===":"&&(i=!0);else r===s[s.length-1]&&(s.pop(),s.length===0&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),s.length>0&&this.unclosedBracket(o),t&&i){if(!l)for(;a.length&&(u=a[a.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let o,s,l=r.length,a="",u=!0,c,f;for(let d=0;d<l;d+=1)o=r[d],s=o[0],s==="space"&&d===l-1&&!i?u=!1:s==="comment"?(f=r[d-1]?r[d-1][0]:"empty",c=r[d+1]?r[d+1][0]:"empty",!Iw[f]&&!Iw[c]?a.slice(-1)===","?u=!1:a+=o[1]:u=!1):a+=o[1];if(!u){let d=r.reduce((h,p)=>h+p[1],"");e.raws[t]={raw:d,value:a}}e[t]=a}rule(e){e.pop();let t=new Cw;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}},DO=LO,UO=qr,$O=DO,FO=Fa;sh=Pa;Pa.default=Pa;UO.registerParse(Pa);({isClean:Zt,my:BO}=Yi),GO=sS,WO=Da,VO=qr,jO=rh,Aw=nh,zO=sh,HO=Xi,qO={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},KO={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},YO={Once:!0,postcssPlugin:!0,prepare:!0},An=0;Od={},Tn=class IS{constructor(e,t,r){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=Rd(t);else if(t instanceof IS||t instanceof Aw)i=Rd(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let o=zO;r.syntax&&(o=r.syntax.parse),r.parser&&(o=r.parser),o.parse&&(o=o.parse);try{i=o(t,r)}catch(s){this.processed=!0,this.error=s}i&&!i[BO]&&VO.rebuild(i)}this.result=new Aw(e,i,r),this.helpers={...Od,postcss:Od,result:this.result},this.plugins=this.processor.plugins.map(o=>typeof o=="object"&&o.prepare?{...o,...o.prepare(this.result)}:o)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!KO[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!YO[r])if(typeof t[r]=="object")for(let i in t[r])i==="*"?e(t,r,t[r][i]):e(t,r+"-"+i.toLowerCase(),t[r][i]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(Ui(r))try{await r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Zt];){e[Zt]=!0;let t=[Tw(e)];for(;t.length>0;){let r=this.visitTick(t);if(Ui(r))try{await r}catch(i){let o=t[t.length-1].node;throw this.handleError(i,o)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(o=>r(o,this.helpers));await Promise.all(i)}else await r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return Ui(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=WO;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new GO(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(Ui(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Zt];)e[Zt]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){this.result.lastPlugin=r;let o;try{o=i(t,this.helpers)}catch(s){throw this.handleError(s,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(Ui(o))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[s,l]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=s;try{return l(r.toProxy(),this.helpers)}catch(a){throw this.handleError(a,r)}}if(t.iterator!==0){let s=t.iterator,l;for(;l=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!l[Zt]){l[Zt]=!0,e.push(Tw(l));return}t.iterator=0,delete r.indexes[s]}let o=t.events;for(;t.eventIndex<o.length;){let s=o[t.eventIndex];if(t.eventIndex+=1,s===An){r.nodes&&r.nodes.length&&(r[Zt]=!0,t.iterator=r.getIterator());return}else if(this.listeners[s]){t.visitors=this.listeners[s];return}}e.pop()}walkSync(e){e[Zt]=!0;let t=CS(e);for(let r of t)if(r===An)e.nodes&&e.each(i=>{i[Zt]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Tn.registerPostcss=n=>{Od=n};AS=Tn;Tn.default=Tn;HO.registerLazyResult(Tn);jO.registerLazyResult(Tn);XO=sS,ZO=Da,JO=sh,QO=nh,Pd=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i,o=ZO;this.result=new QO(this._processor,i,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let l=new XO(o,i,this._opts,t);if(l.isMap()){let[a,u]=l.generate();a&&(this.result.css=a),u&&(this.result.map=u)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=JO;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}},eP=Pd;Pd.default=Pd;tP=eP,rP=AS,nP=rh,iP=Xi,Vi=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new tP(this,e,t):new rP(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}},oP=Vi;Vi.default=Vi;iP.registerProcessor(Vi);nP.registerProcessor(Vi);sP=$a,aP=tS,lP=Ba,uP=ih,cP=Fa,fP=Xi,dP=oh;hP=ji;ji.default=ji;pP=Qd,TS=$a,mP=AS,vP=qr,ah=oP,gP=Da,yP=hP,RS=rh,bP=yS,OS=Ba,PS=ih,wP=nh,SP=Fa,EP=sh,xP=xS,NS=oh,kS=Xi,_P=Ua;Se.plugin=function(e,t){let r=!1;function i(...s){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let l=t(...s);return l.postcssPlugin=e,l.postcssVersion=new ah().version,l}let o;return Object.defineProperty(i,"postcss",{get(){return o||(o=i()),o}}),i.process=function(s,l,a){return Se([i(a)]).process(s,l)},i};Se.stringify=gP;Se.parse=EP;Se.fromJSON=yP;Se.list=xP;Se.comment=n=>new OS(n);Se.atRule=n=>new PS(n);Se.decl=n=>new TS(n);Se.rule=n=>new NS(n);Se.root=n=>new kS(n);Se.document=n=>new RS(n);Se.CssSyntaxError=pP;Se.Declaration=TS;Se.Container=vP;Se.Processor=ah;Se.Document=RS;Se.Comment=OS;Se.Warning=bP;Se.AtRule=PS;Se.Result=wP;Se.Input=SP;Se.Rule=NS;Se.Root=kS;Se.Node=_P;mP.registerPostcss(Se);CP=Se;Se.default=Se;$e=U1(CP);$e.stringify;$e.fromJSON;$e.plugin;$e.parse;$e.list;$e.document;$e.comment;$e.atRule;$e.rule;$e.decl;$e.root;$e.CssSyntaxError;$e.Declaration;$e.Container;$e.Processor;$e.Document;$e.Comment;$e.Warning;$e.AtRule;$e.Result;$e.Input;$e.Rule;$e.Root;$e.Node;IP=Object.defineProperty,AP=(n,e,t)=>e in n?IP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,It=(n,e,t)=>AP(n,typeof e!="symbol"?e+"":e,t);lh={exports:{}},Me=String,MS=function(){return{isColorSupported:!1,reset:Me,bold:Me,dim:Me,italic:Me,underline:Me,inverse:Me,hidden:Me,strikethrough:Me,black:Me,red:Me,green:Me,yellow:Me,blue:Me,magenta:Me,cyan:Me,white:Me,gray:Me,bgBlack:Me,bgRed:Me,bgGreen:Me,bgYellow:Me,bgBlue:Me,bgMagenta:Me,bgCyan:Me,bgWhite:Me}};lh.exports=MS();lh.exports.createColors=MS;OP=lh.exports,PP={},NP=Object.freeze(Object.defineProperty({__proto__:null,default:PP},Symbol.toStringTag,{value:"Module"})),Mt=RP(NP),Rw=OP,Ow=Mt,Nd=class LS extends Error{constructor(e,t,r,i,o,s){super(e),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),i&&(this.source=i),s&&(this.plugin=s),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,LS)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Rw.isColorSupported),Ow&&e&&(t=Ow(t));let r=t.split(/\r?\n/),i=Math.max(this.line-3,0),o=Math.min(this.line+2,r.length),s=String(o).length,l,a;if(e){let{bold:u,gray:c,red:f}=Rw.createColors(!0);l=d=>u(f(d)),a=d=>c(d)}else l=a=u=>u;return r.slice(i,o).map((u,c)=>{let f=i+1+c,d=" "+(" "+f).slice(-s)+" | ";if(f===this.line){let h=a(d.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+a(d)+u+`
 `+h+l("^")}return" "+a(d)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}},uh=Nd;Nd.default=Nd;Zi={};Zi.isClean=Symbol("isClean");Zi.my=Symbol("my");Pw={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};kd=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let o=(e.raws.between||"")+(t?";":"");this.builder(r+i+o,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,o=0;for(;i&&i.type!=="root";)o+=1,i=i.parent;if(r.includes(`
`)){let s=this.raw(e,null,"indent");if(s.length)for(let l=0;l<o;l++)r+=s}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let o=e.nodes[i],s=this.raw(o,"before");s&&this.builder(s),this.stringify(o,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&(i=e.raws[t],typeof i<"u"))return i;let o=e.parent;if(r==="before"&&(!o||o.type==="root"&&o.first===e||o&&o.type==="document"))return"";if(!o)return Pw[r];let s=e.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[r]<"u")return s.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let l="raw"+kP(r);this[l]?i=this[l](s,e):s.walk(a=>{if(i=a.raws[t],typeof i<"u")return!1})}return typeof i>"u"&&(i=Pw[r]),s.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let o=r.raws.before.split(`
`);return t=o[o.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}},DS=kd;kd.default=kd;MP=DS;Ga=Md;Md.default=Md;({isClean:ha,my:LP}=Zi),DP=uh,UP=DS,$P=Ga;Dd=class{constructor(e={}){this.raws={},this[ha]=!1,this[LP]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Ld(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new DP(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[ha]){this[ha]=!1;let e=this;for(;e=e.parent;)e[ha]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){t=this.toString();let i=t.indexOf(e.word);i!==-1&&(r=this.positionInside(i,t))}return r}positionInside(e,t){let r=t||this.toString(),i=this.source.start.column,o=this.source.start.line;for(let s=0;s<e;s++)r[s]===`
`?(i=1,o+=1):i+=1;return{column:i,line:o}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),o=i.indexOf(e.word);o!==-1&&(t=this.positionInside(o,i),r=this.positionInside(o+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new UP().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},i=t==null;t=t||new Map;let o=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let l=this[s];if(Array.isArray(l))r[s]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)r[s]=l.toJSON(null,t);else if(s==="source"){let a=t.get(l.input);a==null&&(a=o,t.set(l.input,o),o++),r[s]={end:l.end,inputId:a,start:l.start}}else r[s]=l}return i&&(r.inputs=[...t.keys()].map(s=>s.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=$P){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let i={node:this};for(let o in r)i[o]=r[o];return e.warn(t,i)}get proxyOf(){return this}},Wa=Dd;Dd.default=Dd;FP=Wa,Ud=class extends FP{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}},Va=Ud;Ud.default=Ud;BP="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",GP=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},WP=(n=21)=>{let e="",t=n;for(;t--;)e+=BP[Math.random()*64|0];return e},VP={nanoid:WP,customAlphabet:GP},{SourceMapConsumer:Nw,SourceMapGenerator:kw}=Mt,{existsSync:jP,readFileSync:zP}=Mt,{dirname:ld,join:HP}=Mt;$d=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=ld(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new Nw(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,o=/^data:application\/json,/;if(i.test(e)||o.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return qP(e.substr(RegExp.lastMatch.length));let s=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=ld(e),jP(e))return this.mapFile=e,zP(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(t instanceof Nw)return kw.fromSourceMap(t).toString();if(t instanceof kw)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=HP(ld(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}},US=$d;$d.default=$d;({SourceMapConsumer:KP,SourceMapGenerator:YP}=Mt),{fileURLToPath:Mw,pathToFileURL:pa}=Mt,{isAbsolute:Fd,resolve:Bd}=Mt,{nanoid:XP}=VP,ud=Mt,Lw=uh,ZP=US,cd=Symbol("fromOffsetCache"),JP=!!(KP&&YP),Dw=!!(Bd&&Fd),Na=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Dw||/^\w+:\/\//.test(t.from)||Fd(t.from)?this.file=t.from:this.file=Bd(t.from)),Dw&&JP){let r=new ZP(this.css,t);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+XP(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let o,s,l;if(t&&typeof t=="object"){let u=t,c=r;if(typeof u.offset=="number"){let f=this.fromOffset(u.offset);t=f.line,r=f.col}else t=u.line,r=u.column;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);s=f.line,l=f.col}else s=c.line,l=c.column}else if(!r){let u=this.fromOffset(t);t=u.line,r=u.col}let a=this.origin(t,r,s,l);return a?o=new Lw(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,i.plugin):o=new Lw(e,s===void 0?t:{column:r,line:t},s===void 0?r:{column:l,line:s},this.css,this.file,i.plugin),o.input={column:r,endColumn:l,endLine:s,line:t,source:this.css},this.file&&(pa&&(o.input.url=pa(this.file).toString()),o.input.file=this.file),o}fromOffset(e){let t,r;if(this[cd])r=this[cd];else{let o=this.css.split(`
`);r=new Array(o.length);let s=0;for(let l=0,a=o.length;l<a;l++)r[l]=s,s+=o[l].length+1;this[cd]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let o=r.length-2,s;for(;i<o;)if(s=i+(o-i>>1),e<r[s])o=s-1;else if(e>=r[s+1])i=s+1;else{i=s;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Bd(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){if(!this.map)return!1;let o=this.map.consumer(),s=o.originalPositionFor({column:t,line:e});if(!s.source)return!1;let l;typeof r=="number"&&(l=o.originalPositionFor({column:i,line:r}));let a;Fd(s.source)?a=pa(s.source):a=new URL(s.source,this.map.consumer().sourceRoot||pa(this.map.mapFile));let u={column:s.column,endColumn:l&&l.column,endLine:l&&l.line,line:s.line,url:a.toString()};if(a.protocol==="file:")if(Mw)u.file=Mw(a);else throw new Error("file: protocol is not available in this PostCSS build");let c=o.sourceContentFor(s.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}},ja=Na;Na.default=Na;ud&&ud.registerInput&&ud.registerInput(Na);({SourceMapConsumer:$S,SourceMapGenerator:Ca}=Mt),{dirname:Ia,relative:FS,resolve:BS,sep:GS}=Mt,{pathToFileURL:Uw}=Mt,QP=ja,eN=!!($S&&Ca),tN=!!(Ia&&BS&&FS&&GS),rN=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||Ia(e.file),i;this.mapOpts.sourcesContent===!1?(i=new $S(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),tN&&eN&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Ca.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Ca({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Ca({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},o,s;this.stringify(this.root,(l,a,u)=>{if(this.css+=l,a&&u!=="end"&&(i.generated.line=e,i.generated.column=t-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),o=l.match(/\n/g),o?(e+=o.length,s=l.lastIndexOf(`
`),t=l.length-s):t+=l.length,a&&u!=="start"){let c=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==c.last||c.raws.semicolon)&&(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?Ia(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=Ia(BS(r,this.mapOpts.annotation)));let i=FS(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new QP(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Uw){let r=Uw(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;GS==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}},WS=rN,nN=Wa,Gd=class extends nN{constructor(e){super(e),this.type="comment"}},za=Gd;Gd.default=Gd;({isClean:VS,my:jS}=Zi),zS=Va,HS=za,iN=Wa;cr=class ZS extends iN{append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(i=>typeof i=="function"?(o,s)=>i(o.toProxy(),s):i)):t==="every"||t==="some"?r=>e[t]((i,...o)=>r(i.toProxy(),...o)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let s of i)this.proxyOf.nodes.splice(r+1,0,s);let o;for(let s in this.indexes)o=this.indexes[s],r<o&&(this.indexes[s]=o+i.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),i=r===0?"prepend":!1,o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let l of o)this.proxyOf.nodes.splice(r,0,l);let s;for(let l in this.indexes)s=this.indexes[l],r<=s&&(this.indexes[l]=s+o.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=YS(qS(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new zS(e)]}else if(e.selector)e=[new ch(e)];else if(e.name)e=[new fh(e)];else if(e.text)e=[new HS(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[jS]||ZS.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[VS]&&XS(i),typeof i.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(o){throw t.addToError(o)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="atrule")return t(r,i)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="decl")return t(r,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="rule")return t(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};cr.registerParse=n=>{qS=n};cr.registerRule=n=>{ch=n};cr.registerAtRule=n=>{fh=n};cr.registerRoot=n=>{KS=n};Kr=cr;cr.default=cr;cr.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,fh.prototype):n.type==="rule"?Object.setPrototypeOf(n,ch.prototype):n.type==="decl"?Object.setPrototypeOf(n,zS.prototype):n.type==="comment"?Object.setPrototypeOf(n,HS.prototype):n.type==="root"&&Object.setPrototypeOf(n,KS.prototype),n[jS]=!0,n.nodes&&n.nodes.forEach(e=>{cr.rebuild(e)})};oN=Kr,zi=class extends oN{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new JS(new QS,this,e).stringify()}};zi.registerLazyResult=n=>{JS=n};zi.registerProcessor=n=>{QS=n};dh=zi;zi.default=zi;Wd=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}},eE=Wd;Wd.default=Wd;sN=eE,Vd=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new sN(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}},hh=Vd;Vd.default=Vd;fd=39,$w=34,ma=92,Fw=47,va=10,$i=32,ga=12,ya=9,ba=13,aN=91,lN=93,uN=40,cN=41,fN=123,dN=125,hN=59,pN=42,mN=58,vN=64,wa=/[\t\n\f\r "#'()/;[\\\]{}]/g,Sa=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,gN=/.[\r\n"'(/\\]/,Bw=/[\da-f]/i,yN=function(e,t={}){let r=e.css.valueOf(),i=t.ignoreErrors,o,s,l,a,u,c,f,d,h,p,v=r.length,m=0,y=[],g=[];function b(){return m}function w(C){throw e.error("Unclosed "+C,m)}function x(){return g.length===0&&m>=v}function _(C){if(g.length)return g.pop();if(m>=v)return;let T=C?C.ignoreUnclosed:!1;switch(o=r.charCodeAt(m),o){case va:case $i:case ya:case ba:case ga:{s=m;do s+=1,o=r.charCodeAt(s);while(o===$i||o===va||o===ya||o===ba||o===ga);p=["space",r.slice(m,s)],m=s-1;break}case aN:case lN:case fN:case dN:case mN:case hN:case cN:{let R=String.fromCharCode(o);p=[R,R,m];break}case uN:{if(d=y.length?y.pop()[1]:"",h=r.charCodeAt(m+1),d==="url"&&h!==fd&&h!==$w&&h!==$i&&h!==va&&h!==ya&&h!==ga&&h!==ba){s=m;do{if(c=!1,s=r.indexOf(")",s+1),s===-1)if(i||T){s=m;break}else w("bracket");for(f=s;r.charCodeAt(f-1)===ma;)f-=1,c=!c}while(c);p=["brackets",r.slice(m,s+1),m,s],m=s}else s=r.indexOf(")",m+1),a=r.slice(m,s+1),s===-1||gN.test(a)?p=["(","(",m]:(p=["brackets",a,m,s],m=s);break}case fd:case $w:{l=o===fd?"'":'"',s=m;do{if(c=!1,s=r.indexOf(l,s+1),s===-1)if(i||T){s=m+1;break}else w("string");for(f=s;r.charCodeAt(f-1)===ma;)f-=1,c=!c}while(c);p=["string",r.slice(m,s+1),m,s],m=s;break}case vN:{wa.lastIndex=m+1,wa.test(r),wa.lastIndex===0?s=r.length-1:s=wa.lastIndex-2,p=["at-word",r.slice(m,s+1),m,s],m=s;break}case ma:{for(s=m,u=!0;r.charCodeAt(s+1)===ma;)s+=1,u=!u;if(o=r.charCodeAt(s+1),u&&o!==Fw&&o!==$i&&o!==va&&o!==ya&&o!==ba&&o!==ga&&(s+=1,Bw.test(r.charAt(s)))){for(;Bw.test(r.charAt(s+1));)s+=1;r.charCodeAt(s+1)===$i&&(s+=1)}p=["word",r.slice(m,s+1),m,s],m=s;break}default:{o===Fw&&r.charCodeAt(m+1)===pN?(s=r.indexOf("*/",m+2)+1,s===0&&(i||T?s=r.length:w("comment")),p=["comment",r.slice(m,s+1),m,s],m=s):(Sa.lastIndex=m+1,Sa.test(r),Sa.lastIndex===0?s=r.length-1:s=Sa.lastIndex-2,p=["word",r.slice(m,s+1),m,s],y.push(p),m=s);break}}return m++,p}function A(C){g.push(C)}return{back:A,endOfFile:x,nextToken:_,position:b}},tE=Kr,ka=class extends tE{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}},ph=ka;ka.default=ka;tE.registerAtRule(ka);rE=Kr,Rn=class extends rE{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let o of i)o.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new nE(new iE,this,e).stringify()}};Rn.registerLazyResult=n=>{nE=n};Rn.registerProcessor=n=>{iE=n};Ji=Rn;Rn.default=Rn;rE.registerRoot(Rn);Hi={comma(n){return Hi.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return Hi.split(n,e)},split(n,e,t){let r=[],i="",o=!1,s=0,l=!1,a="",u=!1;for(let c of n)u?u=!1:c==="\\"?u=!0:l?c===a&&(l=!1):c==='"'||c==="'"?(l=!0,a=c):c==="("?s+=1:c===")"?s>0&&(s-=1):s===0&&e.includes(c)&&(o=!0),o?(i!==""&&r.push(i.trim()),i="",o=!1):i+=c;return(t||i!=="")&&r.push(i.trim()),r}},oE=Hi;Hi.default=Hi;sE=Kr,bN=oE,Ma=class extends sE{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return bN.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}},mh=Ma;Ma.default=Ma;sE.registerRule(Ma);wN=Va,SN=yN,EN=za,xN=ph,_N=Ji,Gw=mh,Ww={empty:!0,space:!0};IN=class{constructor(e){this.input=e,this.root=new _N,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new xN;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,i,o,s=!1,l=!1,a=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){l=!0;break}else if(r==="}"){if(a.length>0){for(o=a.length-1,i=a[o];i&&i[0]==="space";)i=a[--o];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),s&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,i;for(let o=t-1;o>=0&&(i=e[o],!(i[0]!=="space"&&(r+=1,r===2)));o--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,r,i,o;for(let[s,l]of e.entries()){if(r=l,i=r[0],i==="("&&(t+=1),i===")"&&(t-=1),t===0&&i===":")if(!o)this.doubleColon(r);else{if(o[0]==="word"&&o[1]==="progid")continue;return s}o=r}return!1}comment(e){let t=new EN;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=SN(this.input)}decl(e,t){let r=new wN;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||CN(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let o;for(;e.length;)if(o=e.shift(),o[0]===":"){r.raws.between+=o[1];break}else o[0]==="word"&&/\w/.test(o[1])&&this.unknownWord([o]),r.raws.between+=o[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)s.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(o=e[u],o[1].toLowerCase()==="!important"){r.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(r.raws.important=c);break}else if(o[1].toLowerCase()==="important"){let c=e.slice(0),f="";for(let d=u;d>0;d--){let h=c[d][0];if(f.trim().indexOf("!")===0&&h!=="space")break;f=c.pop()[1]+f}f.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=f,e=c)}if(o[0]!=="space"&&o[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=s.map(u=>u[1]).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new Gw;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,o=null,s=[],l=e[1].startsWith("--"),a=[],u=e;for(;u;){if(r=u[0],a.push(u),r==="("||r==="[")o||(o=u),s.push(r==="("?")":"]");else if(l&&i&&r==="{")o||(o=u),s.push("}");else if(s.length===0)if(r===";")if(i){this.decl(a,l);return}else break;else if(r==="{"){this.rule(a);return}else if(r==="}"){this.tokenizer.back(a.pop()),t=!0;break}else r===":"&&(i=!0);else r===s[s.length-1]&&(s.pop(),s.length===0&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),s.length>0&&this.unclosedBracket(o),t&&i){if(!l)for(;a.length&&(u=a[a.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let o,s,l=r.length,a="",u=!0,c,f;for(let d=0;d<l;d+=1)o=r[d],s=o[0],s==="space"&&d===l-1&&!i?u=!1:s==="comment"?(f=r[d-1]?r[d-1][0]:"empty",c=r[d+1]?r[d+1][0]:"empty",!Ww[f]&&!Ww[c]?a.slice(-1)===","?u=!1:a+=o[1]:u=!1):a+=o[1];if(!u){let d=r.reduce((h,p)=>h+p[1],"");e.raws[t]={raw:d,value:a}}e[t]=a}rule(e){e.pop();let t=new Gw;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}},AN=IN,TN=Kr,RN=AN,ON=ja;vh=La;La.default=La;TN.registerParse(La);({isClean:Jt,my:PN}=Zi),NN=WS,kN=Ga,MN=Kr,LN=dh,Vw=hh,DN=vh,UN=Ji,$N={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},FN={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},BN={Once:!0,postcssPlugin:!0,prepare:!0},On=0;zd={},Pn=class lE{constructor(e,t,r){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=jd(t);else if(t instanceof lE||t instanceof Vw)i=jd(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let o=DN;r.syntax&&(o=r.syntax.parse),r.parser&&(o=r.parser),o.parse&&(o=o.parse);try{i=o(t,r)}catch(s){this.processed=!0,this.error=s}i&&!i[PN]&&MN.rebuild(i)}this.result=new Vw(e,i,r),this.helpers={...zd,postcss:zd,result:this.result},this.plugins=this.processor.plugins.map(o=>typeof o=="object"&&o.prepare?{...o,...o.prepare(this.result)}:o)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!FN[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!BN[r])if(typeof t[r]=="object")for(let i in t[r])i==="*"?e(t,r,t[r][i]):e(t,r+"-"+i.toLowerCase(),t[r][i]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(Fi(r))try{await r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Jt];){e[Jt]=!0;let t=[jw(e)];for(;t.length>0;){let r=this.visitTick(t);if(Fi(r))try{await r}catch(i){let o=t[t.length-1].node;throw this.handleError(i,o)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(o=>r(o,this.helpers));await Promise.all(i)}else await r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return Fi(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=kN;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new NN(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(Fi(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Jt];)e[Jt]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){this.result.lastPlugin=r;let o;try{o=i(t,this.helpers)}catch(s){throw this.handleError(s,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(Fi(o))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[s,l]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=s;try{return l(r.toProxy(),this.helpers)}catch(a){throw this.handleError(a,r)}}if(t.iterator!==0){let s=t.iterator,l;for(;l=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!l[Jt]){l[Jt]=!0,e.push(jw(l));return}t.iterator=0,delete r.indexes[s]}let o=t.events;for(;t.eventIndex<o.length;){let s=o[t.eventIndex];if(t.eventIndex+=1,s===On){r.nodes&&r.nodes.length&&(r[Jt]=!0,t.iterator=r.getIterator());return}else if(this.listeners[s]){t.visitors=this.listeners[s];return}}e.pop()}walkSync(e){e[Jt]=!0;let t=aE(e);for(let r of t)if(r===On)e.nodes&&e.each(i=>{i[Jt]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Pn.registerPostcss=n=>{zd=n};uE=Pn;Pn.default=Pn;UN.registerLazyResult(Pn);LN.registerLazyResult(Pn);GN=WS,WN=Ga,VN=vh,jN=hh,Hd=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i,o=WN;this.result=new jN(this._processor,i,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let l=new GN(o,i,this._opts,t);if(l.isMap()){let[a,u]=l.generate();a&&(this.result.css=a),u&&(this.result.map=u)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=VN;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}},zN=Hd;Hd.default=Hd;HN=zN,qN=uE,KN=dh,YN=Ji,qi=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new HN(this,e,t):new qN(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}},XN=qi;qi.default=qi;YN.registerProcessor(qi);KN.registerProcessor(qi);ZN=Va,JN=US,QN=za,ek=ph,tk=ja,rk=Ji,nk=mh;ik=Ki;Ki.default=Ki;ok=uh,cE=Va,sk=uE,ak=Kr,gh=XN,lk=Ga,uk=ik,fE=dh,ck=eE,dE=za,hE=ph,fk=hh,dk=ja,hk=vh,pk=oE,pE=mh,mE=Ji,mk=Wa;Ee.plugin=function(e,t){let r=!1;function i(...s){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let l=t(...s);return l.postcssPlugin=e,l.postcssVersion=new gh().version,l}let o;return Object.defineProperty(i,"postcss",{get(){return o||(o=i()),o}}),i.process=function(s,l,a){return Ee([i(a)]).process(s,l)},i};Ee.stringify=lk;Ee.parse=hk;Ee.fromJSON=uk;Ee.list=pk;Ee.comment=n=>new dE(n);Ee.atRule=n=>new hE(n);Ee.decl=n=>new cE(n);Ee.rule=n=>new pE(n);Ee.root=n=>new mE(n);Ee.document=n=>new fE(n);Ee.CssSyntaxError=ok;Ee.Declaration=cE;Ee.Container=ak;Ee.Processor=gh;Ee.Document=fE;Ee.Comment=dE;Ee.Warning=ck;Ee.AtRule=hE;Ee.Result=fk;Ee.Input=dk;Ee.Rule=pE;Ee.Root=mE;Ee.Node=mk;sk.registerPostcss(Ee);vk=Ee;Ee.default=Ee;Fe=TP(vk);Fe.stringify;Fe.fromJSON;Fe.plugin;Fe.parse;Fe.list;Fe.document;Fe.comment;Fe.atRule;Fe.rule;Fe.decl;Fe.root;Fe.CssSyntaxError;Fe.Declaration;Fe.Container;Fe.Processor;Fe.Document;Fe.Comment;Fe.Warning;Fe.AtRule;Fe.Result;Fe.Input;Fe.Rule;Fe.Root;Fe.Node;qd=class n{constructor(...e){It(this,"parentElement",null),It(this,"parentNode",null),It(this,"ownerDocument"),It(this,"firstChild",null),It(this,"lastChild",null),It(this,"previousSibling",null),It(this,"nextSibling",null),It(this,"ELEMENT_NODE",1),It(this,"TEXT_NODE",3),It(this,"nodeType"),It(this,"nodeName"),It(this,"RRNodeType")}get childNodes(){let e=[],t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(e instanceof n){if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0}else return!1;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}},zw={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Hw={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Ea={};dd={};hd={};At={childNodes:yk,parentNode:bk,parentElement:wk,textContent:Sk,contains:Ek,getRootNode:xk,host:_k,styleSheets:Ck,shadowRoot:Ik,querySelector:Ak,querySelectorAll:Tk,mutationObserver:Rk};Cn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Kd={map:{},getId(){return console.error(Cn),-1},getNode(){return console.error(Cn),null},removeNodeFromMap(){console.error(Cn)},has(){return console.error(Cn),!1},reset(){console.error(Cn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Kd=new Proxy(Kd,{get(n,e,t){return e==="map"&&console.error(Cn),Reflect.get(n,e,t)}}));yE=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(yE=()=>new Date().getTime());Yd=class{constructor(){td(this,"id",1),td(this,"styleIDMap",new WeakMap),td(this,"idStyleMap",new Map)}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;return t===void 0?r=this.id++:r=t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};Kk=Object.freeze(Object.defineProperty({__proto__:null,StyleSheetMirror:Yd,get _mirror(){return Kd},closestElementOfNode:bE,getBaseDimension:EE,getNestedRule:xE,getPositionsAndIndex:zk,getRootShadowHost:CE,getShadowHost:_E,getWindowHeight:Mk,getWindowScroll:kk,getWindowWidth:Lk,hasShadowRoot:jk,hookSetter:gE,inDom:qk,isAncestorRemoved:wE,isBlocked:Dk,isIgnored:$k,isSerialized:Uk,isSerializedIframe:Wk,isSerializedStylesheet:Vk,iterateResolveTree:SE,legacy_isTouchEvent:Fk,get nowTimestamp(){return yE},on:Ok,patch:Nk,polyfill:Bk,queueToResolveTrees:Gk,shadowHostInDom:IE,throttle:Pk,uniqueTextMutations:Hk},Symbol.toStringTag,{value:"Module"})),qw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yk=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Bi=0;Bi<qw.length;Bi++)Yk[qw.charCodeAt(Bi)]=Bi;Xk="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",Zk=n=>Uint8Array.from(atob(n),e=>e.charCodeAt(0));typeof window<"u"&&window.Blob&&new Blob([Zk(Xk)],{type:"text/javascript;charset=utf-8"});try{if(Array.from([1],n=>n*2)[0]!==2){let n=document.createElement("iframe");document.body.appendChild(n),Array.from=((uw=n.contentWindow)==null?void 0:uw.Array.from)||Array.from,document.body.removeChild(n)}}catch(n){console.debug("Unable to override Array.from",n)}L1();(function(n){n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped"})(Kw||(Kw={}));xr=class{constructor(e){ra(this,"fileName"),ra(this,"functionName"),ra(this,"lineNumber"),ra(this,"columnNumber"),this.fileName=e.fileName||"",this.functionName=e.functionName||"",this.lineNumber=e.lineNumber,this.columnNumber=e.columnNumber}toString(){let e=this.lineNumber||"",t=this.columnNumber||"";return this.functionName?`${this.functionName} (${this.fileName}:${e}:${t})`:`${this.fileName}:${e}:${t}`}},Jk=/(^|@)\S+:\d+/,Yw=/^\s*at .*(\S+:\d+|\(native\))/m,Qk=/^(eval@)?(\[native code])?$/,pd={parse:function(n){return n?typeof n.stacktrace<"u"||typeof n["opera#sourceloc"]<"u"?this.parseOpera(n):n.stack&&n.stack.match(Yw)?this.parseV8OrIE(n):n.stack?this.parseFFOrSafari(n):(console.warn("[console-record-plugin]: Failed to parse error object:",n),[]):[]},extractLocation:function(n){if(n.indexOf(":")===-1)return[n];let t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(n.replace(/[()]/g,""));if(!t)throw new Error(`Cannot parse given url: ${n}`);return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(n){return n.stack.split(`
`).filter(function(t){return!!t.match(Yw)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let r=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),i=r.match(/ (\((.+):(\d+):(\d+)\)$)/);r=i?r.replace(i[0],""):r;let o=r.split(/\s+/).slice(1),s=this.extractLocation(i?i[1]:o.pop()),l=o.join(" ")||void 0,a=["eval","<anonymous>"].indexOf(s[0])>-1?void 0:s[0];return new xr({functionName:l,fileName:a,lineNumber:s[1],columnNumber:s[2]})},this)},parseFFOrSafari:function(n){return n.stack.split(`
`).filter(function(t){return!t.match(Qk)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new xr({functionName:t});{let r=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(r),o=i&&i[1]?i[1]:void 0,s=this.extractLocation(t.replace(r,""));return new xr({functionName:o,fileName:s[0],lineNumber:s[1],columnNumber:s[2]})}},this)},parseOpera:function(n){return!n.stacktrace||n.message.indexOf(`
`)>-1&&n.message.split(`
`).length>n.stacktrace.split(`
`).length?this.parseOpera9(n):n.stack?this.parseOpera11(n):this.parseOpera10(n)},parseOpera9:function(n){let e=/Line (\d+).*script (?:in )?(\S+)/i,t=n.message.split(`
`),r=[];for(let i=2,o=t.length;i<o;i+=2){let s=e.exec(t[i]);s&&r.push(new xr({fileName:s[2],lineNumber:parseFloat(s[1])}))}return r},parseOpera10:function(n){let e=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,t=n.stacktrace.split(`
`),r=[];for(let i=0,o=t.length;i<o;i+=2){let s=e.exec(t[i]);s&&r.push(new xr({functionName:s[3]||void 0,fileName:s[2],lineNumber:parseFloat(s[1])}))}return r},parseOpera11:function(n){return n.stack.split(`
`).filter(function(t){return!!t.match(Jk)&&!t.match(/^Error created at/)},this).map(function(t){let r=t.split("@"),i=this.extractLocation(r.pop()),s=(r.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new xr({functionName:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2]})},this)}};Xw={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};TE="rrweb/console@1",rM=n=>({name:TE,observer:tM,options:n})});var EC={};nn(EC,{record:()=>xo});function aM(n){var e,t;let r=(t=(e=globalThis?.Zone)==null?void 0:e.__symbol__)==null?void 0:t.call(e,n);if(r&&globalThis[r])return globalThis[r]}function Ep(n){if(Ha[n])return Ha[n];let e=aM(n)||globalThis[n],t=e.prototype,r=n in kE?kE[n]:void 0,i=!!(r&&r.every(l=>{var a,u;return!!((u=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&u.toString().includes("[native code]"))})),o=n in ME?ME[n]:void 0,s=!!(o&&o.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(i&&s)return Ha[n]=e.prototype,e.prototype;try{let l=document.createElement("iframe");document.body.appendChild(l);let a=l.contentWindow;if(!a)return e.prototype;let u=a[n].prototype;return document.body.removeChild(l),u?Ha[n]=u:t}catch{return t}}function Ar(n,e,t){var r;let i=`${n}.${String(t)}`;if(bh[i])return bh[i].call(e);let o=Ep(n),s=(r=Object.getOwnPropertyDescriptor(o,t))==null?void 0:r.get;return s?(bh[i]=s,s.call(e)):e[t]}function Ox(n,e,t){let r=`${n}.${String(t)}`;if(wh[r])return wh[r].bind(e);let o=Ep(n)[t];return typeof o!="function"?e[t]:(wh[r]=o,o.bind(e))}function lM(n){return Ar("Node",n,"childNodes")}function uM(n){return Ar("Node",n,"parentNode")}function cM(n){return Ar("Node",n,"parentElement")}function fM(n){return Ar("Node",n,"textContent")}function dM(n,e){return Ox("Node",n,"contains")(e)}function hM(n){return Ox("Node",n,"getRootNode")()}function pM(n){return!n||!("host"in n)?null:Ar("ShadowRoot",n,"host")}function mM(n){return n.styleSheets}function vM(n){return!n||!("shadowRoot"in n)?null:Ar("Element",n,"shadowRoot")}function gM(n,e){return Ar("Element",n,"querySelector")(e)}function yM(n,e){return Ar("Element",n,"querySelectorAll")(e)}function bM(){return Ep("MutationObserver").constructor}function Px(n){return n.nodeType===n.ELEMENT_NODE}function io(n){let e=n&&"host"in n&&"mode"in n&&ht.host(n)||null;return!!(e&&"shadowRoot"in e&&ht.shadowRoot(e)===n)}function oo(n){return Object.prototype.toString.call(n)==="[object ShadowRoot]"}function wM(n){return n.includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),n}function SM(n){let{cssText:e}=n;if(e.split('"').length<3)return e;let t=["@import",`url(${JSON.stringify(n.href)})`];return n.layerName===""?t.push("layer"):n.layerName&&t.push(`layer(${n.layerName})`),n.supportsText&&t.push(`supports(${n.supportsText})`),n.media.length&&t.push(n.media.mediaText),t.join(" ")+";"}function kh(n){try{let e=n.rules||n.cssRules;if(!e)return null;let t=n.href;!t&&n.ownerNode&&n.ownerNode.ownerDocument&&(t=n.ownerNode.ownerDocument.location.href);let r=Array.from(e,i=>Nx(i,t)).join("");return wM(r)}catch{return null}}function Nx(n,e){if(xM(n)){let t;try{t=kh(n.styleSheet)||SM(n)}catch{t=n.cssText}return n.styleSheet.href?_l(t,n.styleSheet.href):t}else{let t=n.cssText;return _M(n)&&n.selectorText.includes(":")&&(t=EM(t)),e?_l(t,e):t}}function EM(n){let e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return n.replace(e,"$1\\$2")}function xM(n){return"styleSheet"in n}function _M(n){return"selectorText"in n}function CM(){return new Sl}function El({element:n,maskInputOptions:e,tagName:t,type:r,value:i,maskInputFn:o}){let s=i||"",l=r&&Xr(r);return(e[t.toLowerCase()]||l&&e[l])&&(o?s=o(s,n):s="*".repeat(s.length)),s}function Xr(n){return n.toLowerCase()}function IM(n){let e=n.getContext("2d");if(!e)return!0;let t=50;for(let r=0;r<n.width;r+=t)for(let i=0;i<n.height;i+=t){let o=e.getImageData,s=LE in o?o[LE]:o;if(new Uint32Array(s.call(e,r,i,Math.min(t,n.width-r),Math.min(t,n.height-i)).data.buffer).some(a=>a!==0))return!1}return!0}function xl(n){let e=n.type;return n.hasAttribute("data-rr-is-password")?"password":e?Xr(e):null}function kx(n,e){let t;try{t=new URL(n,e??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i,i=t.pathname.match(r);return i?.[1]??null}function AM(n){let e="";return n.indexOf("//")>-1?e=n.split("/").slice(0,3).join("/"):e=n.split("/")[0],e=e.split("?")[0],e}function _l(n,e){return(n||"").replace(TM,(t,r,i,o,s,l)=>{let a=i||s||l,u=r||o||"";if(!a)return t;if(RM.test(a)||OM.test(a))return`url(${u}${a}${u})`;if(PM.test(a))return`url(${u}${a}${u})`;if(a[0]==="/")return`url(${u}${AM(e)+a}${u})`;let c=e.split("/"),f=a.split("/");c.pop();for(let d of f)d!=="."&&(d===".."?c.pop():c.push(d));return`url(${u}${c.join("/")}${u})`})}function qa(n,e=!1){return e?n.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):n.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function NM(n,e,t=!1){let r=Array.from(e.childNodes),i=[],o=0;if(r.length>1&&n&&typeof n=="string"){let s=qa(n,t),l=s.length/n.length;for(let a=1;a<r.length;a++)if(r[a].textContent&&typeof r[a].textContent=="string"){let u=qa(r[a].textContent,t),c=100,f=3;for(;f<u.length&&(u[f].match(/[a-zA-Z0-9]/)||u.indexOf(u.substring(0,f),1)!==-1);f++);for(;f<u.length;f++){let d=u.substring(0,f),h=s.split(d),p=-1;if(h.length===2)p=h[0].length;else if(h.length>2&&h[0]===""&&r[a-1].textContent!=="")p=s.indexOf(d,1);else if(h.length===1){if(d=d.substring(0,d.length-1),h=s.split(d),h.length<=1)return i.push(n),i;f=c+1}else f===u.length-1&&(p=s.indexOf(d));if(h.length>=2&&f>c){let v=r[a-1].textContent;if(v&&typeof v=="string"){let m=qa(v).length;p=s.indexOf(d,m)}p===-1&&(p=h[0].length)}if(p!==-1){let v=Math.floor(p/l);for(;v>0&&v<n.length;){if(o+=1,o>50*r.length)return i.push(n),i;let m=qa(n.substring(0,v),t);if(m.length===p){i.push(n.substring(0,v)),n=n.substring(v),s=s.substring(p);break}else m.length<p?v+=Math.max(1,Math.floor((p-m.length)/l)):v-=Math.max(1,Math.floor((m.length-p)*l))}break}}}}return i.push(n),i}function kM(n,e){return NM(n,e).join("/* rr_split */")}function Mx(){return LM++}function UM(n){if(n instanceof HTMLFormElement)return"form";let e=Xr(n.tagName);return DM.test(e)?"div":e}function BM(n,e){if(e.trim()==="")return e;let t=0;function r(o){let s,l=o.exec(e.substring(t));return l?(s=l[0],t+=s.length,s):""}let i=[];for(;r(FM),!(t>=e.length);){let o=r($M);if(o.slice(-1)===",")o=Ln(n,o.substring(0,o.length-1)),i.push(o);else{let s="";o=Ln(n,o);let l=!1;for(;;){let a=e.charAt(t);if(a===""){i.push((o+s).trim());break}else if(l)a===")"&&(l=!1);else if(a===","){t+=1,i.push((o+s).trim());break}else a==="("&&(l=!0);s+=a,t+=1}}}return i.join(", ")}function Ln(n,e){return!e||e.trim()===""?e:xp(n,e)}function GM(n){return!!(n.tagName==="svg"||n.ownerSVGElement)}function xp(n,e){let t=UE.get(n);if(t||(t=n.createElement("a"),UE.set(n,t)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return t.setAttribute("href",e),t.href}function Lx(n,e,t,r){return r&&(t==="src"||t==="href"&&!(e==="use"&&r[0]==="#")||t==="xlink:href"&&r[0]!=="#"||t==="background"&&(e==="table"||e==="td"||e==="th")?Ln(n,r):t==="srcset"?BM(n,r):t==="style"?_l(r,xp(n)):e==="object"&&t==="data"?Ln(n,r):r)}function Dx(n,e,t){return(n==="video"||n==="audio")&&e==="autoplay"}function WM(n,e,t){try{if(typeof e=="string"){if(n.classList.contains(e))return!0}else for(let r=n.classList.length;r--;){let i=n.classList[r];if(e.test(i))return!0}if(t)return n.matches(t)}catch{}return!1}function Cl(n,e,t){if(!n)return!1;if(n.nodeType!==n.ELEMENT_NODE)return t?Cl(ht.parentNode(n),e,t):!1;for(let r=n.classList.length;r--;){let i=n.classList[r];if(e.test(i))return!0}return t?Cl(ht.parentNode(n),e,t):!1}function Ux(n,e,t,r){let i;if(Px(n)){if(i=n,!ht.childNodes(i).length)return!1}else{if(ht.parentElement(n)===null)return!1;i=ht.parentElement(n)}try{if(typeof e=="string"){if(r){if(i.closest(`.${e}`))return!0}else if(i.classList.contains(e))return!0}else if(Cl(i,e,r))return!0;if(t){if(r){if(i.closest(t))return!0}else if(i.matches(t))return!0}}catch{}return!1}function VM(n,e,t){let r=n.contentWindow;if(!r)return;let i=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){let l=setTimeout(()=>{i||(e(),i=!0)},t);n.addEventListener("load",()=>{clearTimeout(l),i=!0,e()});return}let s="about:blank";if(r.location.href!==s||n.src===s||n.src==="")return setTimeout(e,0),n.addEventListener("load",e);n.addEventListener("load",e)}function jM(n,e,t){let r=!1,i;try{i=n.sheet}catch{return}if(i)return;let o=setTimeout(()=>{r||(e(),r=!0)},t);n.addEventListener("load",()=>{clearTimeout(o),r=!0,e()})}function zM(n,e){let{doc:t,mirror:r,blockClass:i,blockSelector:o,needsMask:s,inlineStylesheet:l,maskInputOptions:a={},maskTextFn:u,maskInputFn:c,dataURLOptions:f={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:v=!1,cssCaptured:m=!1,applyBackgroundColorToBlockedElements:y=!1}=e,g=HM(t,r);switch(n.nodeType){case n.DOCUMENT_NODE:return n.compatMode!=="CSS1Compat"?{type:tt.Document,childNodes:[],compatMode:n.compatMode}:{type:tt.Document,childNodes:[]};case n.DOCUMENT_TYPE_NODE:return{type:tt.DocumentType,name:n.name,publicId:n.publicId,systemId:n.systemId,rootId:g};case n.ELEMENT_NODE:return KM(n,{doc:t,blockClass:i,blockSelector:o,inlineStylesheet:l,maskInputOptions:a,maskInputFn:c,dataURLOptions:f,inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:v,rootId:g,applyBackgroundColorToBlockedElements:y});case n.TEXT_NODE:return qM(n,{doc:t,needsMask:s,maskTextFn:u,rootId:g,cssCaptured:m});case n.CDATA_SECTION_NODE:return{type:tt.CDATA,textContent:"",rootId:g};case n.COMMENT_NODE:return{type:tt.Comment,textContent:ht.textContent(n)||"",rootId:g};default:return!1}}function HM(n,e){if(!e.hasNode(n))return;let t=e.getId(n);return t===1?void 0:t}function qM(n,e){let{needsMask:t,maskTextFn:r,rootId:i,cssCaptured:o}=e,s=ht.parentNode(n),l=s&&s.tagName,a="",u=l==="STYLE"?!0:void 0,c=l==="SCRIPT"?!0:void 0;return c?a="SCRIPT_PLACEHOLDER":o||(a=ht.textContent(n),u&&a&&(a=_l(a,xp(e.doc)))),!u&&!c&&a&&t&&(a=r?r(a,ht.parentElement(n)):a.replace(/[\S]/g,"*")),{type:tt.Text,textContent:a||"",rootId:i}}function KM(n,e){let{doc:t,blockClass:r,blockSelector:i,inlineStylesheet:o,maskInputOptions:s={},maskInputFn:l,dataURLOptions:a={},inlineImages:u,recordCanvas:c,keepIframeSrcFn:f,newlyAddedElement:d=!1,rootId:h,applyBackgroundColorToBlockedElements:p=!1}=e,v=WM(n,r,i),m=UM(n),y={},g=n.attributes.length;for(let w=0;w<g;w++){let x=n.attributes[w];Dx(m,x.name,x.value)||(y[x.name]=Lx(t,m,Xr(x.name),x.value))}if(m==="link"&&o){let w=Array.from(t.styleSheets).find(_=>_.href===n.href),x=null;w&&(x=kh(w)),x&&(delete y.rel,delete y.href,y._cssText=x)}if(m==="style"&&n.sheet){let w=kh(n.sheet);w&&(n.childNodes.length>1&&(w=kM(w,n)),y._cssText=w)}if(m==="input"||m==="textarea"||m==="select"){let w=n.value,x=n.checked;y.type!=="radio"&&y.type!=="checkbox"&&y.type!=="submit"&&y.type!=="button"&&w?y.value=El({element:n,type:xl(n),tagName:m,value:w,maskInputOptions:s,maskInputFn:l}):x&&(y.checked=x)}if(m==="option"&&(n.selected&&!s.select?y.selected=!0:delete y.selected),m==="dialog"&&n.open&&(y.rr_open_mode=n.matches("dialog:modal")?"modal":"non-modal"),m==="canvas"&&c){if(n.__context==="2d")IM(n)||(y.rr_dataURL=n.toDataURL(a.type,a.quality));else if(!("__context"in n)){let w=n.toDataURL(a.type,a.quality),x=t.createElement("canvas");x.width=n.width,x.height=n.height;let _=x.toDataURL(a.type,a.quality);w!==_&&(y.rr_dataURL=w)}}if(m==="img"&&u){Nn||(Nn=t.createElement("canvas"),DE=Nn.getContext("2d"));let w=n,x=w.currentSrc||w.getAttribute("src")||"<unknown-src>",_=w.crossOrigin,A=()=>{w.removeEventListener("load",A);try{Nn.width=w.naturalWidth,Nn.height=w.naturalHeight,DE.drawImage(w,0,0),y.rr_dataURL=Nn.toDataURL(a.type,a.quality)}catch(C){if(w.crossOrigin!=="anonymous"){w.crossOrigin="anonymous",w.complete&&w.naturalWidth!==0?A():w.addEventListener("load",A);return}else console.warn(`Cannot inline img src=${x}! Error: ${C}`)}w.crossOrigin==="anonymous"&&(_?y.crossOrigin=_:w.removeAttribute("crossorigin"))};w.complete&&w.naturalWidth!==0?A():w.addEventListener("load",A)}if(m==="audio"||m==="video"){let w=y;w.rr_mediaState=n.paused?"paused":"played",w.rr_mediaCurrentTime=n.currentTime,w.rr_mediaPlaybackRate=n.playbackRate,w.rr_mediaMuted=n.muted,w.rr_mediaLoop=n.loop,w.rr_mediaVolume=n.volume}if(d||(n.scrollLeft&&(y.rr_scrollLeft=n.scrollLeft),n.scrollTop&&(y.rr_scrollTop=n.scrollTop)),v){let{width:w,height:x}=n.getBoundingClientRect();y={class:y.class,rr_width:`${w}px`,rr_height:`${x}px`,...p?{rr_background_color:MM}:{}}}m==="iframe"&&!f(y.src)&&(n.contentDocument||(y.rr_src=y.src),delete y.src);let b;try{customElements.get(m)&&(b=!0)}catch{}return{type:tt.Element,tagName:m,attributes:y,childNodes:[],isSVG:GM(n)||void 0,needBlock:v,rootId:h,isCustom:b}}function Oe(n){return n==null?"":n.toLowerCase()}function YM(n,e){if(e.comment&&n.type===tt.Comment)return!0;if(n.type===tt.Element){if(e.script&&(n.tagName==="script"||n.tagName==="link"&&(n.attributes.rel==="preload"||n.attributes.rel==="modulepreload")&&n.attributes.as==="script"||n.tagName==="link"&&n.attributes.rel==="prefetch"&&typeof n.attributes.href=="string"&&kx(n.attributes.href)==="js"))return!0;if(e.headFavicon&&(n.tagName==="link"&&n.attributes.rel==="shortcut icon"||n.tagName==="meta"&&(Oe(n.attributes.name).match(/^msapplication-tile(image|color)$/)||Oe(n.attributes.name)==="application-name"||Oe(n.attributes.rel)==="icon"||Oe(n.attributes.rel)==="apple-touch-icon"||Oe(n.attributes.rel)==="shortcut icon")))return!0;if(n.tagName==="meta"){if(e.headMetaDescKeywords&&Oe(n.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Oe(n.attributes.property).match(/^(og|twitter|fb):/)||Oe(n.attributes.name).match(/^(og|twitter):/)||Oe(n.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(Oe(n.attributes.name)==="robots"||Oe(n.attributes.name)==="googlebot"||Oe(n.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&n.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(Oe(n.attributes.name)==="author"||Oe(n.attributes.name)==="generator"||Oe(n.attributes.name)==="framework"||Oe(n.attributes.name)==="publisher"||Oe(n.attributes.name)==="progid"||Oe(n.attributes.property).match(/^article:/)||Oe(n.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(Oe(n.attributes.name)==="google-site-verification"||Oe(n.attributes.name)==="yandex-verification"||Oe(n.attributes.name)==="csrf-token"||Oe(n.attributes.name)==="p:domain_verify"||Oe(n.attributes.name)==="verify-v1"||Oe(n.attributes.name)==="verification"||Oe(n.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Dn(n,e){let{doc:t,mirror:r,blockClass:i,blockSelector:o,maskTextClass:s,maskTextSelector:l,skipChild:a=!1,inlineStylesheet:u=!0,maskInputOptions:c={},maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p={},inlineImages:v=!1,recordCanvas:m=!1,onSerialize:y,onIframeLoad:g,iframeLoadTimeout:b=5e3,onStylesheetLoad:w,stylesheetLoadTimeout:x=5e3,keepIframeSrcFn:_=()=>!1,newlyAddedElement:A=!1,cssCaptured:C=!1,applyBackgroundColorToBlockedElements:T=!1}=e,{needsMask:R}=e,{preserveWhiteSpace:M=!0}=e;R||(R=Ux(n,s,l,R===void 0));let $=zM(n,{doc:t,mirror:r,blockClass:i,blockSelector:o,needsMask:R,inlineStylesheet:u,maskInputOptions:c,maskTextFn:f,maskInputFn:d,dataURLOptions:p,inlineImages:v,recordCanvas:m,keepIframeSrcFn:_,newlyAddedElement:A,cssCaptured:C,applyBackgroundColorToBlockedElements:T});if(!$)return console.warn(n,"not serialized"),null;let K;r.hasNode(n)?K=r.getId(n):YM($,h)||!M&&$.type===tt.Text&&!$.textContent.replace(/^\s+|\s+$/gm,"").length?K=ao:K=Mx();let N=Object.assign($,{id:K});if(r.add(n,N),K===ao)return null;y&&y(n);let Y=!a;if(N.type===tt.Element){Y=Y&&!N.needBlock,delete N.needBlock;let G=ht.shadowRoot(n);G&&oo(G)&&(N.isShadowHost=!0)}if((N.type===tt.Document||N.type===tt.Element)&&Y){h.headWhitespace&&N.type===tt.Element&&N.tagName==="head"&&(M=!1);let G={doc:t,mirror:r,blockClass:i,blockSelector:o,needsMask:R,maskTextClass:s,maskTextSelector:l,skipChild:a,inlineStylesheet:u,maskInputOptions:c,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:v,recordCanvas:m,preserveWhiteSpace:M,onSerialize:y,onIframeLoad:g,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:x,keepIframeSrcFn:_,cssCaptured:!1,applyBackgroundColorToBlockedElements:T};if(!(N.type===tt.Element&&N.tagName==="textarea"&&N.attributes.value!==void 0)){N.type===tt.Element&&N.attributes._cssText!==void 0&&typeof N.attributes._cssText=="string"&&(G.cssCaptured=!0);for(let oe of Array.from(ht.childNodes(n))){let ue=Dn(oe,G);ue&&N.childNodes.push(ue)}}let X=null;if(Px(n)&&(X=ht.shadowRoot(n)))for(let oe of Array.from(ht.childNodes(X))){let ue=Dn(oe,G);ue&&(oo(X)&&(ue.isShadow=!0),N.childNodes.push(ue))}}let le=ht.parentNode(n);return le&&io(le)&&oo(le)&&(N.isShadow=!0),N.type===tt.Element&&N.tagName==="iframe"&&VM(n,()=>{let G=n.contentDocument;if(G&&g){let X=Dn(G,{doc:G,mirror:r,blockClass:i,blockSelector:o,needsMask:R,maskTextClass:s,maskTextSelector:l,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:v,recordCanvas:m,preserveWhiteSpace:M,onSerialize:y,onIframeLoad:g,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:x,keepIframeSrcFn:_});X&&g(n,X)}},b),N.type===tt.Element&&N.tagName==="link"&&typeof N.attributes.rel=="string"&&(N.attributes.rel==="stylesheet"||N.attributes.rel==="preload"&&typeof N.attributes.href=="string"&&kx(N.attributes.href)==="css")&&jM(n,()=>{if(w){let G=Dn(n,{doc:t,mirror:r,blockClass:i,blockSelector:o,needsMask:R,maskTextClass:s,maskTextSelector:l,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:v,recordCanvas:m,preserveWhiteSpace:M,onSerialize:y,onIframeLoad:g,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:x,keepIframeSrcFn:_});G&&w(n,G)}},x),N}function XM(n,e){let{mirror:t=new Sl,blockClass:r="rr-block",blockSelector:i=null,maskTextClass:o="rr-mask",maskTextSelector:s=null,inlineStylesheet:l=!0,inlineImages:a=!1,recordCanvas:u=!1,maskAllInputs:c=!1,maskTextFn:f,maskInputFn:d,slimDOM:h=!1,dataURLOptions:p,preserveWhiteSpace:v,onSerialize:m,onIframeLoad:y,iframeLoadTimeout:g,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:x=()=>!1,applyBackgroundColorToBlockedElements:_=!1}=e||{};return Dn(n,{doc:n,mirror:t,blockClass:r,blockSelector:i,maskTextClass:o,maskTextSelector:s,skipChild:!1,inlineStylesheet:l,maskInputOptions:c===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:c===!1?{password:!0}:c,maskTextFn:f,maskInputFn:d,slimDOMOptions:h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:h==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:h===!1?{}:h,dataURLOptions:p,inlineImages:a,recordCanvas:u,preserveWhiteSpace:v,onSerialize:m,onIframeLoad:y,iframeLoadTimeout:g,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:x,newlyAddedElement:!1,applyBackgroundColorToBlockedElements:_})}function ZM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function JM(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}function rL(n){return n[0].toUpperCase()+n.slice(1)}function Dh(n,e){new nL(e).stringify(n)}function Uh(n,e){let t=new n.constructor;for(let r in n){if(!Object.prototype.hasOwnProperty.call(n,r)||r==="proxyCache")continue;let i=n[r],o=typeof i;r==="parent"&&o==="object"?e&&(t[r]=e):r==="source"?t[r]=i:Array.isArray(i)?t[r]=i.map(s=>Uh(s,t)):(o==="object"&&i!==null&&(i=Uh(i)),t[r]=i)}return t}function vL(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}function Qx(n){return n.map(e=>(e.nodes&&(e.nodes=Qx(e.nodes)),delete e.source,e))}function e_(n){if(n[qx]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)e_(e)}function KL(n){for(let e=n.length-1;e>=0;e--){let t=n[e],r=t[3]||t[2];if(r)return r}}function Rl(n,e){let t=new QL(n,e),r=new JL(t);try{r.parse()}catch(i){throw i}return r.root}function eo(n){return typeof n=="object"&&typeof n.then=="function"}function f_(n){let e=!1,t=aD[n.type];return n.type==="decl"?e=n.prop.toLowerCase():n.type==="atrule"&&(e=n.name.toLowerCase()),e&&n.append?[t,t+"-"+e,Fn,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:n.append?[t,Fn,t+"Exit"]:[t,t+"Exit"]}function QE(n){let e;return n.type==="document"?e=["Document",Fn,"DocumentExit"]:n.type==="root"?e=["Root",Fn,"RootExit"]:e=f_(n),{eventIndex:0,events:e,iterator:0,node:n,visitorIndex:0,visitors:[]}}function Hh(n){return n[Qt]=!1,n.nodes&&n.nodes.forEach(e=>Hh(e)),n}function fo(n,e){if(Array.isArray(n))return n.map(i=>fo(i));let{inputs:t,...r}=n;if(t){e=[];for(let i of t){let o={...i,__proto__:_D.prototype};o.map&&(o.map={...o.map,__proto__:SD.prototype}),e.push(o)}}if(r.nodes&&(r.nodes=n.nodes.map(i=>fo(i,e))),r.source){let{inputId:i,...o}=r.source;r.source=o,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new CD(r);if(r.type==="decl")return new wD(r);if(r.type==="rule")return new ID(r);if(r.type==="comment")return new ED(r);if(r.type==="atrule")return new xD(r);throw new Error("Unknown node type: "+n.type)}function xe(...n){return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new kp(n)}function WD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function VD(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}function qD(n){return n[0].toUpperCase()+n.slice(1)}function Zh(n,e){new KD(e).stringify(n)}function Jh(n,e){let t=new n.constructor;for(let r in n){if(!Object.prototype.hasOwnProperty.call(n,r)||r==="proxyCache")continue;let i=n[r],o=typeof i;r==="parent"&&o==="object"?e&&(t[r]=e):r==="source"?t[r]=i:Array.isArray(i)?t[r]=i.map(s=>Jh(s,t)):(o==="object"&&i!==null&&(i=Jh(i)),t[r]=i)}return t}function aU(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}function L_(n){return n.map(e=>(e.nodes&&(e.nodes=L_(e.nodes)),delete e.source,e))}function D_(n){if(n[R_]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)D_(e)}function FU(n){for(let e=n.length-1;e>=0;e--){let t=n[e],r=t[3]||t[2];if(r)return r}}function kl(n,e){let t=new jU(n,e),r=new VU(t);try{r.parse()}catch(i){throw i}return r.root}function ro(n){return typeof n=="object"&&typeof n.then=="function"}function q_(n){let e=!1,t=JU[n.type];return n.type==="decl"?e=n.prop.toLowerCase():n.type==="atrule"&&(e=n.name.toLowerCase()),e&&n.append?[t,t+"-"+e,Wn,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:n.append?[t,Wn,t+"Exit"]:[t,t+"Exit"]}function mx(n){let e;return n.type==="document"?e=["Document",Wn,"DocumentExit"]:n.type==="root"?e=["Root",Wn,"RootExit"]:e=q_(n),{eventIndex:0,events:e,iterator:0,node:n,visitorIndex:0,visitors:[]}}function ap(n){return n[er]=!1,n.nodes&&n.nodes.forEach(e=>ap(e)),n}function vo(n,e){if(Array.isArray(n))return n.map(i=>vo(i));let{inputs:t,...r}=n;if(t){e=[];for(let i of t){let o={...i,__proto__:m$.prototype};o.map&&(o.map={...o.map,__proto__:d$.prototype}),e.push(o)}}if(r.nodes&&(r.nodes=n.nodes.map(i=>vo(i,e))),r.source){let{inputId:i,...o}=r.source;r.source=o,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new v$(r);if(r.type==="decl")return new f$(r);if(r.type==="rule")return new g$(r);if(r.type==="comment")return new h$(r);if(r.type==="atrule")return new p$(r);throw new Error("Unknown node type: "+n.type)}function _e(...n){return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new Vp(n)}function P$(n){var e,t;let r=(t=(e=globalThis?.Zone)==null?void 0:e.__symbol__)==null?void 0:t.call(e,n);if(r&&globalThis[r])return globalThis[r]}function jp(n){if(dl[n])return dl[n];let e=P$(n)||globalThis[n],t=e.prototype,r=n in vx?vx[n]:void 0,i=!!(r&&r.every(l=>{var a,u;return!!((u=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&u.toString().includes("[native code]"))})),o=n in gx?gx[n]:void 0,s=!!(o&&o.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(i&&s)return dl[n]=e.prototype,e.prototype;try{let l=document.createElement("iframe");document.body.appendChild(l);let a=l.contentWindow;if(!a)return e.prototype;let u=a[n].prototype;return document.body.removeChild(l),u?dl[n]=u:t}catch{return t}}function Tr(n,e,t){var r;let i=`${n}.${String(t)}`;if(Rh[i])return Rh[i].call(e);let o=jp(n),s=(r=Object.getOwnPropertyDescriptor(o,t))==null?void 0:r.get;return s?(Rh[i]=s,s.call(e)):e[t]}function rC(n,e,t){let r=`${n}.${String(t)}`;if(Oh[r])return Oh[r].bind(e);let o=jp(n)[t];return typeof o!="function"?e[t]:(Oh[r]=o,o.bind(e))}function N$(n){return Tr("Node",n,"childNodes")}function k$(n){return Tr("Node",n,"parentNode")}function M$(n){return Tr("Node",n,"parentElement")}function L$(n){return Tr("Node",n,"textContent")}function D$(n,e){return rC("Node",n,"contains")(e)}function U$(n){return rC("Node",n,"getRootNode")()}function $$(n){return!n||!("host"in n)?null:Tr("ShadowRoot",n,"host")}function F$(n){return n.styleSheets}function B$(n){return!n||!("shadowRoot"in n)?null:Tr("Element",n,"shadowRoot")}function G$(n,e){return Tr("Element",n,"querySelector")(e)}function W$(n,e){return Tr("Element",n,"querySelectorAll")(e)}function nC(){return jp("MutationObserver").constructor}function mt(n,e,t=document){let r={capture:!0,passive:!0};return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function go(n,e,t={}){let r=null,i=0;return function(...o){let s=Date.now();!i&&t.leading===!1&&(i=s);let l=e-(s-i),a=this;l<=0||l>e?(r&&(clearTimeout(r),r=null),i=s,n.apply(a,o)):!r&&t.trailing!==!1&&(r=setTimeout(()=>{i=t.leading===!1?0:Date.now(),r=null,n.apply(a,o)},l))}}function Kl(n,e,t,r,i=window){let o=i.Object.getOwnPropertyDescriptor(n,e);return i.Object.defineProperty(n,e,r?t:{set(s){setTimeout(()=>{t.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>Kl(n,e,o||{},!0)}function zn(n,e,t){try{if(!(e in n))return()=>{};let r=n[e],i=t(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),n[e]=i,()=>{n[e]=r}}catch{return()=>{}}}function iC(n){var e,t,r,i;let o=n.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:n.pageXOffset!==void 0?n.pageXOffset:o.documentElement.scrollLeft||o?.body&&((e=te.parentElement(o.body))==null?void 0:e.scrollLeft)||((t=o?.body)==null?void 0:t.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:n.pageYOffset!==void 0?n.pageYOffset:o?.documentElement.scrollTop||o?.body&&((r=te.parentElement(o.body))==null?void 0:r.scrollTop)||((i=o?.body)==null?void 0:i.scrollTop)||0}}function oC(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function sC(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function aC(n){return n?n.nodeType===n.ELEMENT_NODE?n:te.parentElement(n):null}function vt(n,e,t,r){if(!n)return!1;let i=aC(n);if(!i)return!1;try{if(typeof e=="string"){if(i.classList.contains(e)||r&&i.closest("."+e)!==null)return!0}else if(Cl(i,e,r))return!0}catch{}return!!(t&&(i.matches(t)||r&&i.closest(t)!==null))}function V$(n,e){return e.getId(n)!==-1}function Ph(n,e,t){return n.tagName==="TITLE"&&t.headTitleMutations?!0:e.getId(n)===ao}function lC(n,e){if(io(n))return!1;let t=e.getId(n);if(!e.has(t))return!0;let r=te.parentNode(n);return r&&r.nodeType===n.DOCUMENT_NODE?!1:r?lC(r,e):!0}function fp(n){return!!n.changedTouches}function j$(n=window){"NodeList"in n&&!n.NodeList.prototype.forEach&&(n.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in n&&!n.DOMTokenList.prototype.forEach&&(n.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function uC(n,e){return!!(n.nodeName==="IFRAME"&&e.getMeta(n))}function cC(n,e){return!!(n.nodeName==="LINK"&&n.nodeType===n.ELEMENT_NODE&&n.getAttribute&&n.getAttribute("rel")==="stylesheet"&&e.getMeta(n))}function dp(n){return n?n instanceof cp&&"shadowRoot"in n?!!n.shadowRoot:!!te.shadowRoot(n):!1}function fC(n){var e;let t=null;return"getRootNode"in n&&((e=te.getRootNode(n))==null?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&te.host(te.getRootNode(n))&&(t=te.host(te.getRootNode(n))),t}function z$(n){let e=n,t;for(;t=fC(e);)e=t;return e}function H$(n){let e=n.ownerDocument;if(!e)return!1;let t=z$(n);return te.contains(e,t)}function dC(n){let e=n.ownerDocument;return e?te.contains(e,n)||H$(n):!1}function bx(n){return"__ln"in n}function vp(n,e){n.delete(e),te.childNodes(e).forEach(t=>vp(n,t))}function q$(n,e){let t=[n];for(;t.length;){let r=t.pop();e.has(r)||(e.add(r),te.childNodes(r).forEach(i=>t.push(i)))}}function Sx(n,e,t){return n.size===0?!1:K$(n,e)}function K$(n,e,t){let r=te.parentNode(e);return r?n.has(r):!1}function Ex(n,e){return n.size===0?!1:pC(n,e)}function pC(n,e){let t=te.parentNode(e);return t?n.has(t)?!0:pC(n,t):!1}function Y$(n){so=n}function X$(){so=void 0}function xx(n){return(...e)=>{try{return n(...e)}catch(t){try{t._external_=!0}catch{}throw t}}}function Eo(n){try{if("composedPath"in n){let e=n.composedPath();if(e.length)return e[0]}else if("path"in n&&n.path.length)return n.path[0]}catch{}return n&&n.target}function mC(n,e){let t=new mp;Yr.push(t),t.init(n);let r=new(nC())(ae(t.processMutations.bind(t)));return r.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),r}function Z$({mousemoveCb:n,sampling:e,doc:t,mirror:r}){if(e.mousemove===!1)return()=>{};let i=typeof e.mousemove=="number"?e.mousemove:50,o=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500,s=[],l,a=go(ae(f=>{let d=Date.now()-l;n(s.map(h=>(h.timeOffset-=d,h)),f),s=[],l=null}),o),u=ae(go(ae(f=>{let d=Eo(f),{clientX:h,clientY:p}=fp(f)?f.changedTouches[0]:f;l||(l=Ml()),s.push({x:h,y:p,id:r.getId(d),timeOffset:Ml()-l}),a(typeof DragEvent<"u"&&f instanceof DragEvent?ie.Drag:f instanceof MouseEvent?ie.MouseMove:ie.TouchMove)}),i,{trailing:!1})),c=[mt("mousemove",u,t),mt("touchmove",u,t),mt("drag",u,t)];return ae(()=>{c.forEach(f=>f())})}function J$({mouseInteractionCb:n,doc:e,mirror:t,blockClass:r,blockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};let s=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[],a=null,u=c=>f=>{let d=Eo(f);if(vt(d,r,i,!0))return;let h=null,p=c;if("pointerType"in f){switch(f.pointerType){case"mouse":h=fr.Mouse;break;case"touch":h=fr.Touch;break;case"pen":h=fr.Pen;break}h===fr.Touch?bt[c]===bt.MouseDown?p="TouchStart":bt[c]===bt.MouseUp&&(p="TouchEnd"):fr.Pen}else fp(f)&&(h=fr.Touch);h!==null?(a=h,(p.startsWith("Touch")&&h===fr.Touch||p.startsWith("Mouse")&&h===fr.Mouse)&&(h=null)):bt[c]===bt.Click&&(h=a,a=null);let v=fp(f)?f.changedTouches[0]:f;if(!v)return;let m=t.getId(d),{clientX:y,clientY:g}=v;ae(n)({type:bt[p],id:m,x:y,y:g,...h!==null&&{pointerType:h}})};return Object.keys(bt).filter(c=>Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&s[c]!==!1).forEach(c=>{let f=Xr(c),d=u(c);if(window.PointerEvent)switch(bt[c]){case bt.MouseDown:case bt.MouseUp:f=f.replace("mouse","pointer");break;case bt.TouchStart:case bt.TouchEnd:return}l.push(mt(f,d,e))}),ae(()=>{l.forEach(c=>c())})}function vC({scrollCb:n,doc:e,mirror:t,blockClass:r,blockSelector:i,sampling:o}){let s=ae(go(ae(l=>{let a=Eo(l);if(!a||vt(a,r,i,!0))return;let u=t.getId(a);if(a===e&&e.defaultView){let c=iC(e.defaultView);n({id:u,x:c.left,y:c.top})}else n({id:u,x:a.scrollLeft,y:a.scrollTop})}),o.scroll||100));return mt("scroll",s,e)}function Q$({viewportResizeCb:n},{win:e}){let t=-1,r=-1,i=ae(go(ae(()=>{let o=oC(),s=sC();(t!==o||r!==s)&&(n({width:Number(s),height:Number(o)}),t=o,r=s)}),200));return mt("resize",i,e)}function tF({inputCb:n,doc:e,mirror:t,blockClass:r,blockSelector:i,ignoreClass:o,ignoreSelector:s,maskInputOptions:l,maskInputFn:a,sampling:u,userTriggeredOnInput:c}){function f(g){let b=Eo(g),w=g.isTrusted,x=b&&b.tagName;if(b&&x==="OPTION"&&(b=te.parentElement(b)),!b||!x||eF.indexOf(x)<0||vt(b,r,i,!0)||b.classList.contains(o)||s&&b.matches(s))return;let _=b.value,A=!1,C=xl(b)||"";C==="radio"||C==="checkbox"?A=b.checked:(l[x.toLowerCase()]||l[C])&&(_=El({element:b,maskInputOptions:l,tagName:x,type:C,value:_,maskInputFn:a})),d(b,c?{text:_,isChecked:A,userTriggered:w}:{text:_,isChecked:A});let T=b.name;C==="radio"&&T&&A&&e.querySelectorAll(`input[type="radio"][name="${T}"]`).forEach(R=>{if(R!==b){let M=R.value;d(R,c?{text:M,isChecked:!A,userTriggered:!1}:{text:M,isChecked:!A})}})}function d(g,b){let w=_x.get(g);if(!w||w.text!==b.text||w.isChecked!==b.isChecked){_x.set(g,b);let x=t.getId(g);ae(n)({...b,id:x})}}let p=(u.input==="last"?["change"]:["input","change"]).map(g=>mt(g,ae(f),e)),v=e.defaultView;if(!v)return()=>{p.forEach(g=>g())};let m=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),y=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return m&&m.set&&p.push(...y.map(g=>Kl(g[0],g[1],{set(){ae(f)({target:this,isTrusted:!1})}},!1,v))),ae(()=>{p.forEach(g=>g())})}function Ll(n){let e=[];function t(r,i){if(hl("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||hl("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||hl("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||hl("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(s)}return i}return t(n,e)}function Ir(n,e,t){let r,i;return n?(n.ownerNode?r=e.getId(n.ownerNode):i=t.getId(n),{styleId:i,id:r}):{}}function rF({styleSheetRuleCb:n,mirror:e,stylesheetManager:t},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:ae((c,f,d)=>{let[h,p]=d,{id:v,styleId:m}=Ir(f,e,t.styleMirror);return(v&&v!==-1||m&&m!==-1)&&n({id:v,styleId:m,adds:[{rule:h,index:p}]}),xx(()=>c.apply(f,d))()})}),r.CSSStyleSheet.prototype.addRule=function(c,f,d=this.cssRules.length){let h=`${c} { ${f} }`;return r.CSSStyleSheet.prototype.insertRule.apply(this,[h,d])};let o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:ae((c,f,d)=>{let[h]=d,{id:p,styleId:v}=Ir(f,e,t.styleMirror);return(p&&p!==-1||v&&v!==-1)&&n({id:p,styleId:v,removes:[{index:h}]}),xx(()=>c.apply(f,d))()})}),r.CSSStyleSheet.prototype.removeRule=function(c){return r.CSSStyleSheet.prototype.deleteRule.apply(this,[c])};let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:ae((c,f,d)=>{let[h]=d,{id:p,styleId:v}=Ir(f,e,t.styleMirror);return(p&&p!==-1||v&&v!==-1)&&n({id:p,styleId:v,replace:h}),c.apply(f,d)})}));let l;r.CSSStyleSheet.prototype.replaceSync&&(l=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:ae((c,f,d)=>{let[h]=d,{id:p,styleId:v}=Ir(f,e,t.styleMirror);return(p&&p!==-1||v&&v!==-1)&&n({id:p,styleId:v,replaceSync:h}),c.apply(f,d)})}));let a={};pl("CSSGroupingRule")?a.CSSGroupingRule=r.CSSGroupingRule:(pl("CSSMediaRule")&&(a.CSSMediaRule=r.CSSMediaRule),pl("CSSConditionRule")&&(a.CSSConditionRule=r.CSSConditionRule),pl("CSSSupportsRule")&&(a.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(a).forEach(([c,f])=>{u[c]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(u[c].insertRule,{apply:ae((d,h,p)=>{let[v,m]=p,{id:y,styleId:g}=Ir(h.parentStyleSheet,e,t.styleMirror);return(y&&y!==-1||g&&g!==-1)&&n({id:y,styleId:g,adds:[{rule:v,index:[...Ll(h),m||0]}]}),d.apply(h,p)})}),f.prototype.deleteRule=new Proxy(u[c].deleteRule,{apply:ae((d,h,p)=>{let[v]=p,{id:m,styleId:y}=Ir(h.parentStyleSheet,e,t.styleMirror);return(m&&m!==-1||y&&y!==-1)&&n({id:m,styleId:y,removes:[{index:[...Ll(h),v]}]}),d.apply(h,p)})})}),ae(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),l&&(r.CSSStyleSheet.prototype.replaceSync=l),Object.entries(a).forEach(([c,f])=>{f.prototype.insertRule=u[c].insertRule,f.prototype.deleteRule=u[c].deleteRule})})}function gC({mirror:n,stylesheetManager:e},t){var r,i,o;let s=null;t.nodeName==="#document"?s=n.getId(t):s=n.getId(te.host(t));let l=t.nodeName==="#document"?(r=t.defaultView)==null?void 0:r.Document:(o=(i=t.ownerDocument)==null?void 0:i.defaultView)==null?void 0:o.ShadowRoot,a=l?.prototype?Object.getOwnPropertyDescriptor(l?.prototype,"adoptedStyleSheets"):void 0;return s===null||s===-1||!l||!a?()=>{}:(Object.defineProperty(t,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){var u;return(u=a.get)==null?void 0:u.call(this)},set(u){var c;let f=(c=a.set)==null?void 0:c.call(this,u);if(s!==null&&s!==-1)try{e.adoptStyleSheets(u,s)}catch{}return f}}),ae(()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})}))}function nF({styleDeclarationCb:n,mirror:e,ignoreCSSAttributes:t,stylesheetManager:r},{win:i}){let o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:ae((l,a,u)=>{var c;let[f,d,h]=u;if(t.has(f))return o.apply(a,[f,d,h]);let{id:p,styleId:v}=Ir((c=a.parentRule)==null?void 0:c.parentStyleSheet,e,r.styleMirror);return(p&&p!==-1||v&&v!==-1)&&n({id:p,styleId:v,set:{property:f,value:d,priority:h},index:Ll(a.parentRule)}),l.apply(a,u)})});let s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:ae((l,a,u)=>{var c;let[f]=u;if(t.has(f))return s.apply(a,[f]);let{id:d,styleId:h}=Ir((c=a.parentRule)==null?void 0:c.parentStyleSheet,e,r.styleMirror);return(d&&d!==-1||h&&h!==-1)&&n({id:d,styleId:h,remove:{property:f},index:Ll(a.parentRule)}),l.apply(a,u)})}),ae(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s})}function iF({mediaInteractionCb:n,blockClass:e,blockSelector:t,mirror:r,sampling:i,doc:o}){let s=ae(a=>go(ae(u=>{let c=Eo(u);if(!c||vt(c,e,t,!0))return;let{currentTime:f,volume:d,muted:h,playbackRate:p,loop:v}=c;n({type:a,id:r.getId(c),currentTime:f,volume:d,muted:h,playbackRate:p,loop:v})}),i.media||500)),l=[mt("play",s(Mn.Play),o),mt("pause",s(Mn.Pause),o),mt("seeked",s(Mn.Seeked),o),mt("volumechange",s(Mn.VolumeChange),o),mt("ratechange",s(Mn.RateChange),o)];return ae(()=>{l.forEach(a=>a())})}function oF({fontCb:n,doc:e}){let t=e.defaultView;if(!t)return()=>{};let r=[],i=new WeakMap,o=t.FontFace;t.FontFace=function(a,u,c){let f=new o(a,u,c);return i.set(f,{family:a,buffer:typeof u!="string",descriptors:c,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),f};let s=zn(e.fonts,"add",function(l){return function(a){return setTimeout(ae(()=>{let u=i.get(a);u&&(n(u),i.delete(a))}),0),l.apply(this,[a])}});return r.push(()=>{t.FontFace=o}),r.push(s),ae(()=>{r.forEach(l=>l())})}function sF(n){let{doc:e,mirror:t,blockClass:r,blockSelector:i,selectionCb:o}=n,s=!0,l=ae(()=>{let a=e.getSelection();if(!a||s&&a?.isCollapsed)return;s=a.isCollapsed||!1;let u=[],c=a.rangeCount||0;for(let f=0;f<c;f++){let d=a.getRangeAt(f),{startContainer:h,startOffset:p,endContainer:v,endOffset:m}=d;vt(h,r,i,!0)||vt(v,r,i,!0)||u.push({start:t.getId(h),startOffset:p,end:t.getId(v),endOffset:m})}o({ranges:u})});return l(),mt("selectionchange",l)}function aF({doc:n,customElementCb:e}){let t=n.defaultView;return!t||!t.customElements?()=>{}:zn(t.customElements,"define",function(i){return function(o,s,l){try{e({define:{name:o}})}catch{console.warn(`Custom element callback failed for ${o}`)}return i.apply(this,[o,s,l])}})}function lF(n,e){let{mutationCb:t,mousemoveCb:r,mouseInteractionCb:i,scrollCb:o,viewportResizeCb:s,inputCb:l,mediaInteractionCb:a,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:f,fontCb:d,selectionCb:h,customElementCb:p}=n;n.mutationCb=(...v)=>{e.mutation&&e.mutation(...v),t(...v)},n.mousemoveCb=(...v)=>{e.mousemove&&e.mousemove(...v),r(...v)},n.mouseInteractionCb=(...v)=>{e.mouseInteraction&&e.mouseInteraction(...v),i(...v)},n.scrollCb=(...v)=>{e.scroll&&e.scroll(...v),o(...v)},n.viewportResizeCb=(...v)=>{e.viewportResize&&e.viewportResize(...v),s(...v)},n.inputCb=(...v)=>{e.input&&e.input(...v),l(...v)},n.mediaInteractionCb=(...v)=>{e.mediaInteaction&&e.mediaInteaction(...v),a(...v)},n.styleSheetRuleCb=(...v)=>{e.styleSheetRule&&e.styleSheetRule(...v),u(...v)},n.styleDeclarationCb=(...v)=>{e.styleDeclaration&&e.styleDeclaration(...v),c(...v)},n.canvasMutationCb=(...v)=>{e.canvasMutation&&e.canvasMutation(...v),f(...v)},n.fontCb=(...v)=>{e.font&&e.font(...v),d(...v)},n.selectionCb=(...v)=>{e.selection&&e.selection(...v),h(...v)},n.customElementCb=(...v)=>{e.customElement&&e.customElement(...v),p(...v)}}function uF(n,e={}){let t=n.doc.defaultView;if(!t)return()=>{};lF(n,e);let r;n.recordDOM&&(r=mC(n,n.doc));let i=Z$(n),o=J$(n),s=vC(n),l=Q$(n,{win:t}),a=tF(n),u=iF(n),c=()=>{},f=()=>{},d=()=>{},h=()=>{};n.recordDOM&&(c=rF(n,{win:t}),f=gC(n,n.doc),d=nF(n,{win:t}),n.collectFonts&&(h=oF(n)));let p=sF(n),v=aF(n),m=[];for(let y of n.plugins)m.push(y.observer(y.callback,t,y.options));return ae(()=>{Yr.forEach(y=>y.reset()),r?.disconnect(),i(),o(),s(),l(),a(),u(),c(),f(),d(),h(),p(),v(),m.forEach(y=>y())})}function hl(n){return typeof window[n]<"u"}function pl(n){return!!(typeof window[n]<"u"&&window[n].prototype&&"insertRule"in window[n].prototype&&"deleteRule"in window[n].prototype)}function dF(n,e){let t=Cx.get(n);return t||(t=new Map,Cx.set(n,t)),t.has(e)||t.set(e,[]),t.get(e)}function bl(n,e,t){if(n instanceof Array)return n.map(r=>bl(r,e,t));if(n===null)return n;if(n instanceof Float32Array||n instanceof Float64Array||n instanceof Int32Array||n instanceof Uint32Array||n instanceof Uint8Array||n instanceof Uint16Array||n instanceof Int16Array||n instanceof Int8Array||n instanceof Uint8ClampedArray)return{rr_type:n.constructor.name,args:[Object.values(n)]};if(n instanceof ArrayBuffer){let r=n.constructor.name,i=fF(n);return{rr_type:r,base64:i}}else{if(n instanceof DataView)return{rr_type:n.constructor.name,args:[bl(n.buffer,e,t),n.byteOffset,n.byteLength]};if(n instanceof HTMLImageElement){let r=n.constructor.name,{src:i}=n;return{rr_type:r,src:i}}else if(n instanceof HTMLCanvasElement){let r="HTMLImageElement",i=n.toDataURL();return{rr_type:r,src:i}}else{if(n instanceof ImageData)return{rr_type:n.constructor.name,args:[bl(n.data,e,t),n.width,n.height]};if(wC(n,e)||typeof n=="object"){let r=n.constructor.name,i=yC(n,e,t);return{rr_type:r,index:i}}}}return n}function hF(n,e,t,r){let i=[],o=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(let s of o)try{if(typeof e.CanvasRenderingContext2D.prototype[s]!="function")continue;let l=zn(e.CanvasRenderingContext2D.prototype,s,function(a){return function(...u){return vt(this.canvas,t,r,!0)||setTimeout(()=>{let c=bC(u,e,this);n(this.canvas,{type:jn["2D"],property:s,args:c})},0),a.apply(this,u)}});i.push(l)}catch{let l=Kl(e.CanvasRenderingContext2D.prototype,s,{set(a){n(this.canvas,{type:jn["2D"],property:s,args:[a],setter:!0})}});i.push(l)}return()=>{i.forEach(s=>s())}}function pF(n){return n==="experimental-webgl"?"webgl":n}function Ix(n,e,t,r){let i=[];try{let o=zn(n.HTMLCanvasElement.prototype,"getContext",function(s){return function(l,...a){if(!vt(this,e,t,!0)){let u=pF(l);if("__context"in this||(this.__context=u),r&&["webgl","webgl2"].includes(u))if(a[0]&&typeof a[0]=="object"){let c=a[0];c.preserveDrawingBuffer||(c.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return s.apply(this,[l,...a])}});i.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(o=>o())}}function Ax(n,e,t,r,i,o){let s=[],l=Object.getOwnPropertyNames(n);for(let a of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if(typeof n[a]!="function")continue;let u=zn(n,a,function(c){return function(...f){let d=c.apply(this,f);if(yC(d,o,this),"tagName"in this.canvas&&!vt(this.canvas,r,i,!0)){let h=bC(f,o,this),p={type:e,property:a,args:h};t(this.canvas,p)}return d}});s.push(u)}catch{let u=Kl(n,a,{set(c){t(this.canvas,{type:e,property:a,args:[c],setter:!0})}});s.push(u)}return s}function mF(n,e,t,r){let i=[];return i.push(...Ax(e.WebGLRenderingContext.prototype,jn.WebGL,n,t,r,e)),typeof e.WebGL2RenderingContext<"u"&&i.push(...Ax(e.WebGL2RenderingContext.prototype,jn.WebGL2,n,t,r,e)),()=>{i.forEach(o=>o())}}function gF(n){let e;try{if(e=Tx&&(window.URL||window.webkitURL).createObjectURL(Tx),!e)throw"";let t=new Worker(e,{name:n?.name});return t.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;base64,"+SC,{name:n?.name})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}function xo(n={}){let{emit:e,checkoutEveryNms:t,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,ignoreClass:s="rr-ignore",ignoreSelector:l=null,maskTextClass:a="rr-mask",maskTextSelector:u=null,inlineStylesheet:c=!0,maskAllInputs:f,maskInputOptions:d,slimDOMOptions:h,maskInputFn:p,maskTextFn:v,hooks:m,packFn:y,sampling:g={},dataURLOptions:b={},mousemoveWait:w,recordDOM:x=!0,recordCanvas:_=!1,recordCrossOriginIframes:A=!1,recordAfter:C=n.recordAfter==="DOMContentLoaded"?n.recordAfter:"load",userTriggeredOnInput:T=!1,collectFonts:R=!1,inlineImages:M=!1,plugins:$,keepIframeSrcFn:K=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:Y,applyBackgroundColorToBlockedElements:le=!1}=n;Y$(Y);let G=A?window.parent===window:!0,X=!1;if(!G)try{window.parent.document&&(X=!1)}catch{X=!0}if(G&&!e)throw new Error("emit function is required");if(!G&&!X)return()=>{};w!==void 0&&g.mousemove===void 0&&(g.mousemove=w),Lt.reset();let oe=f===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:d!==void 0?d:{password:!0},ue=h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:h==="all",headMetaDescKeywords:h==="all",headTitleMutations:h==="all"}:h||{};j$();let D,me=0,Q=z=>{for(let at of $||[])at.eventProcessor&&(z=at.eventProcessor(z));return y&&!X&&(z=y(z)),z};Ke=(z,at)=>{var ve;let Ue=z;if(Ue.timestamp=Ml(),(ve=Yr[0])!=null&&ve.isFrozen()&&Ue.type!==de.FullSnapshot&&!(Ue.type===de.IncrementalSnapshot&&Ue.data.source===ie.Mutation)&&Yr.forEach(wt=>wt.unfreeze()),G)e?.(Q(Ue),at);else if(X){let wt={type:"rrweb",event:Q(Ue),origin:window.location.origin,isCheckout:at};window.parent.postMessage(wt,"*")}if(Ue.type===de.FullSnapshot)D=Ue,me=0;else if(Ue.type===de.IncrementalSnapshot){if(Ue.data.source===ie.Mutation&&Ue.data.isAttachIframe)return;me++;let wt=r&&me>=r,ge=t&&Ue.timestamp-D.timestamp>t;(wt||ge)&&wl(!0)}};let he=z=>{Ke({type:de.IncrementalSnapshot,data:{source:ie.Mutation,...z}})},ce=z=>Ke({type:de.IncrementalSnapshot,data:{source:ie.Scroll,...z}}),je=z=>Ke({type:de.IncrementalSnapshot,data:{source:ie.CanvasMutation,...z}}),ft=z=>Ke({type:de.IncrementalSnapshot,data:{source:ie.AdoptedStyleSheet,...z}}),Pe=new wp({mutationCb:he,adoptedStyleSheetCb:ft}),ze=new gp({mirror:Lt,mutationCb:he,stylesheetManager:Pe,recordCrossOriginIframes:A,wrappedEmit:Ke});for(let z of $||[])z.getMirror&&z.getMirror({nodeMirror:Lt,crossOriginIframeMirror:ze.crossOriginIframeMirror,crossOriginIframeStyleMirror:ze.crossOriginIframeStyleMirror});let Ye=new Sp;Nh=new bp({recordCanvas:_,mutationCb:je,win:window,blockClass:i,blockSelector:o,mirror:Lt,sampling:g.canvas,dataURLOptions:b});let Je=new yp({mutationCb:he,scrollCb:ce,bypassOptions:{blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:u,inlineStylesheet:c,maskInputOptions:oe,dataURLOptions:b,maskTextFn:v,maskInputFn:p,recordCanvas:_,inlineImages:M,sampling:g,slimDOMOptions:ue,iframeManager:ze,stylesheetManager:Pe,canvasManager:Nh,keepIframeSrcFn:K,processedNodeManager:Ye},mirror:Lt});wl=(z=!1)=>{if(!x)return;Ke({type:de.Meta,data:{href:window.location.href,width:sC(),height:oC()}},z),Pe.reset(),Je.init(),Yr.forEach(ve=>ve.lock());let at=XM(document,{mirror:Lt,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:u,inlineStylesheet:c,maskAllInputs:oe,maskTextFn:v,maskInputFn:p,slimDOM:ue,dataURLOptions:b,recordCanvas:_,inlineImages:M,applyBackgroundColorToBlockedElements:le,onSerialize:ve=>{uC(ve,Lt)&&ze.addIframe(ve),cC(ve,Lt)&&Pe.trackLinkElement(ve),dp(ve)&&Je.addShadowRoot(te.shadowRoot(ve),document)},onIframeLoad:(ve,Ue)=>{ze.attachIframe(ve,Ue),Je.observeAttachShadow(ve)},onStylesheetLoad:(ve,Ue)=>{Pe.attachLinkElement(ve,Ue)},keepIframeSrcFn:K});if(!at)return console.warn("Failed to snapshot the document");Ke({type:de.FullSnapshot,data:{node:at,initialOffset:iC(window)}},z),Yr.forEach(ve=>ve.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Pe.adoptStyleSheets(document.adoptedStyleSheets,Lt.getId(document))};try{let z=[],at=Ue=>{var wt;return ae(uF)({mutationCb:he,mousemoveCb:(ge,lt)=>Ke({type:de.IncrementalSnapshot,data:{source:lt,positions:ge}}),mouseInteractionCb:ge=>Ke({type:de.IncrementalSnapshot,data:{source:ie.MouseInteraction,...ge}}),scrollCb:ce,viewportResizeCb:ge=>Ke({type:de.IncrementalSnapshot,data:{source:ie.ViewportResize,...ge}}),inputCb:ge=>Ke({type:de.IncrementalSnapshot,data:{source:ie.Input,...ge}}),mediaInteractionCb:ge=>Ke({type:de.IncrementalSnapshot,data:{source:ie.MediaInteraction,...ge}}),styleSheetRuleCb:ge=>Ke({type:de.IncrementalSnapshot,data:{source:ie.StyleSheetRule,...ge}}),styleDeclarationCb:ge=>Ke({type:de.IncrementalSnapshot,data:{source:ie.StyleDeclaration,...ge}}),canvasMutationCb:je,fontCb:ge=>Ke({type:de.IncrementalSnapshot,data:{source:ie.Font,...ge}}),selectionCb:ge=>{Ke({type:de.IncrementalSnapshot,data:{source:ie.Selection,...ge}})},customElementCb:ge=>{Ke({type:de.IncrementalSnapshot,data:{source:ie.CustomElement,...ge}})},blockClass:i,ignoreClass:s,ignoreSelector:l,maskTextClass:a,maskTextSelector:u,maskInputOptions:oe,inlineStylesheet:c,sampling:g,recordDOM:x,recordCanvas:_,inlineImages:M,userTriggeredOnInput:T,collectFonts:R,doc:Ue,maskInputFn:p,maskTextFn:v,keepIframeSrcFn:K,blockSelector:o,slimDOMOptions:ue,dataURLOptions:b,mirror:Lt,iframeManager:ze,stylesheetManager:Pe,shadowDomManager:Je,processedNodeManager:Ye,canvasManager:Nh,ignoreCSSAttributes:N,plugins:((wt=$?.filter(ge=>ge.observer))==null?void 0:wt.map(ge=>({observer:ge.observer,options:ge.options,callback:lt=>Ke({type:de.Plugin,data:{plugin:ge.name,payload:lt}})})))||[]},m)};ze.addLoadListener(Ue=>{try{z.push(at(Ue.contentDocument))}catch(wt){console.warn(wt)}});let ve=()=>{wl(),z.push(at(document)),Ul=!0};return document.readyState==="interactive"||document.readyState==="complete"?ve():(z.push(mt("DOMContentLoaded",()=>{Ke({type:de.DomContentLoaded,data:{}}),C==="DOMContentLoaded"&&ve()})),z.push(mt("load",()=>{Ke({type:de.Load,data:{}}),C==="load"&&ve()},window))),()=>{z.forEach(Ue=>Ue()),Ye.destroy(),Ul=!1,X$()}}catch(z){console.warn(z)}}var nM,iM,k,PE,oM,sM,NE,tt,kE,ME,Ha,bh,wh,ht,Sl,LE,TM,RM,OM,PM,MM,LM,DM,ao,Nn,DE,$M,FM,UE,_p,Le,$x,QM,eL,tL,Dt,$E,FE,Mh,Cp,yo,BE,Lh,Bx,nL,$l,Ka,iL,oL,sL,aL,$h,Fl,lL,Fh,Bl,uL,cL,fL,dL,GE,WE,hL,pL,Sh,mL,Bh,Gx,gL,yL,VE,Ya,Gh,Wh,bL,Eh,jE,wL,xh,SL,zE,Il,Gl,Wx,ml,vl,Vx,jx,zx,HE,EL,xL,_L,CL,Hx,IL,Vh,Wl,qx,Kx,Yx,Xx,AL,Zx,Ip,Ap,Jx,dr,Zr,TL,r_,n_,lo,Tp,jh,i_,RL,zh,Rp,_h,qE,Xa,KE,Za,Qi,Ja,Qa,el,OL,PL,NL,kL,ML,LL,DL,UL,$L,FL,tl,rl,BL,YE,GL,o_,Al,Op,s_,a_,l_,$n,bo,uo,u_,c_,WL,Tl,Pp,VL,jL,zL,HL,qL,XE,ZE,YL,XL,ZL,JL,QL,Np,Qt,eD,tD,rD,nD,iD,JE,oD,sD,aD,lD,uD,Fn,qh,Bn,h_,cD,fD,dD,hD,Kh,pD,mD,vD,gD,yD,co,bD,wD,SD,ED,xD,_D,CD,ID,AD,TD,p_,RD,OD,kp,PD,ND,m_,kD,v_,g_,MD,LD,DD,UD,y_,b_,$D,FD,Be,BD,GD,Tt,Mp,De,w_,jD,zD,HD,Ut,ex,tx,Yh,Lp,wo,rx,Xh,E_,KD,Vl,nl,YD,XD,ZD,JD,Qh,jl,QD,ep,zl,eU,tU,rU,nU,nx,ix,iU,oU,Ch,sU,tp,x_,lU,uU,ox,il,rp,np,cU,Ih,sx,fU,Ah,dU,ax,Ol,Hl,__,gl,yl,C_,I_,A_,lx,hU,pU,mU,vU,T_,gU,ip,ql,R_,O_,P_,N_,yU,k_,Dp,Up,M_,hr,Jr,bU,$_,F_,ho,$p,op,B_,wU,sp,Fp,Th,ux,ol,cx,sl,to,al,ll,ul,SU,EU,xU,_U,CU,IU,AU,TU,RU,OU,cl,fl,PU,fx,NU,G_,Pl,Bp,W_,V_,j_,Gn,So,po,z_,H_,kU,Nl,Gp,MU,LU,DU,UU,$U,dx,hx,BU,GU,WU,VU,jU,Wp,er,zU,HU,qU,KU,YU,px,XU,ZU,JU,QU,e$,Wn,lp,Vn,Y_,t$,r$,n$,i$,up,o$,s$,a$,l$,u$,mo,c$,f$,d$,h$,p$,m$,v$,g$,y$,b$,X_,w$,S$,Vp,E$,x$,Z_,_$,J_,Q_,C$,I$,A$,T$,eC,tC,R$,O$,Ge,cp,vx,gx,dl,Rh,Oh,te,kn,yx,Ml,hp,de,ie,bt,fr,jn,Mn,hC,pp,wx,mp,so,ae,Yr,eF,_x,Dl,gp,yp,Un,cF,no,fF,Cx,yC,bC,wC,SC,vF,Tx,bp,wp,Sp,Ke,wl,Nh,Ul,Lt,Rx,xC=W(()=>{nM=Object.defineProperty,iM=(n,e,t)=>e in n?nM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e,t)=>iM(n,typeof e!="symbol"?e+"":e,t),oM=Object.defineProperty,sM=(n,e,t)=>e in n?oM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,NE=(n,e,t)=>sM(n,typeof e!="symbol"?e+"":e,t),tt=(n=>(n[n.Document=0]="Document",n[n.DocumentType=1]="DocumentType",n[n.Element=2]="Element",n[n.Text=3]="Text",n[n.CDATA=4]="CDATA",n[n.Comment=5]="Comment",n))(tt||{}),kE={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},ME={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Ha={};bh={};wh={};ht={childNodes:lM,parentNode:uM,parentElement:cM,textContent:fM,contains:dM,getRootNode:hM,host:pM,styleSheets:mM,shadowRoot:vM,querySelector:gM,querySelectorAll:yM,mutationObserver:bM};Sl=class{constructor(){NE(this,"idNodeMap",new Map),NE(this,"nodeMetaMap",new WeakMap)}getId(e){var t;return e?((t=this.getMeta(e))==null?void 0:t.id)??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){let r=this.getNode(e);if(r){let i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(t,i)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};LE="__rrweb_original__";TM=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,RM=/^(?:[a-z+]+:)?\/\//i,OM=/^www\..*/i,PM=/^(data:)([^,]*),(.*)/i;MM="lightgrey",LM=1,DM=new RegExp("[^a-z0-9-_:]"),ao=-2;$M=/^[^ \t\n\r\u000c]+/,FM=/^[, \t\n\r\u000c]+/;UE=new WeakMap;_p={exports:{}},Le=String,$x=function(){return{isColorSupported:!1,reset:Le,bold:Le,dim:Le,italic:Le,underline:Le,inverse:Le,hidden:Le,strikethrough:Le,black:Le,red:Le,green:Le,yellow:Le,blue:Le,magenta:Le,cyan:Le,white:Le,gray:Le,bgBlack:Le,bgRed:Le,bgGreen:Le,bgYellow:Le,bgBlue:Le,bgMagenta:Le,bgCyan:Le,bgWhite:Le}};_p.exports=$x();_p.exports.createColors=$x;QM=_p.exports,eL={},tL=Object.freeze(Object.defineProperty({__proto__:null,default:eL},Symbol.toStringTag,{value:"Module"})),Dt=JM(tL),$E=QM,FE=Dt,Mh=class Fx extends Error{constructor(e,t,r,i,o,s){super(e),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),i&&(this.source=i),s&&(this.plugin=s),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Fx)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=$E.isColorSupported),FE&&e&&(t=FE(t));let r=t.split(/\r?\n/),i=Math.max(this.line-3,0),o=Math.min(this.line+2,r.length),s=String(o).length,l,a;if(e){let{bold:u,gray:c,red:f}=$E.createColors(!0);l=d=>u(f(d)),a=d=>c(d)}else l=a=u=>u;return r.slice(i,o).map((u,c)=>{let f=i+1+c,d=" "+(" "+f).slice(-s)+" | ";if(f===this.line){let h=a(d.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+a(d)+u+`
 `+h+l("^")}return" "+a(d)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}},Cp=Mh;Mh.default=Mh;yo={};yo.isClean=Symbol("isClean");yo.my=Symbol("my");BE={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};Lh=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let o=(e.raws.between||"")+(t?";":"");this.builder(r+i+o,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,o=0;for(;i&&i.type!=="root";)o+=1,i=i.parent;if(r.includes(`
`)){let s=this.raw(e,null,"indent");if(s.length)for(let l=0;l<o;l++)r+=s}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let o=e.nodes[i],s=this.raw(o,"before");s&&this.builder(s),this.stringify(o,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&(i=e.raws[t],typeof i<"u"))return i;let o=e.parent;if(r==="before"&&(!o||o.type==="root"&&o.first===e||o&&o.type==="document"))return"";if(!o)return BE[r];let s=e.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[r]<"u")return s.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let l="raw"+rL(r);this[l]?i=this[l](s,e):s.walk(a=>{if(i=a.raws[t],typeof i<"u")return!1})}return typeof i>"u"&&(i=BE[r]),s.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let o=r.raws.before.split(`
`);return t=o[o.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}},Bx=Lh;Lh.default=Lh;nL=Bx;$l=Dh;Dh.default=Dh;({isClean:Ka,my:iL}=yo),oL=Cp,sL=Bx,aL=$l;$h=class{constructor(e={}){this.raws={},this[Ka]=!1,this[iL]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Uh(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new oL(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[Ka]){this[Ka]=!1;let e=this;for(;e=e.parent;)e[Ka]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){t=this.toString();let i=t.indexOf(e.word);i!==-1&&(r=this.positionInside(i,t))}return r}positionInside(e,t){let r=t||this.toString(),i=this.source.start.column,o=this.source.start.line;for(let s=0;s<e;s++)r[s]===`
`?(i=1,o+=1):i+=1;return{column:i,line:o}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),o=i.indexOf(e.word);o!==-1&&(t=this.positionInside(o,i),r=this.positionInside(o+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new sL().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},i=t==null;t=t||new Map;let o=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let l=this[s];if(Array.isArray(l))r[s]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)r[s]=l.toJSON(null,t);else if(s==="source"){let a=t.get(l.input);a==null&&(a=o,t.set(l.input,o),o++),r[s]={end:l.end,inputId:a,start:l.start}}else r[s]=l}return i&&(r.inputs=[...t.keys()].map(s=>s.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=aL){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let i={node:this};for(let o in r)i[o]=r[o];return e.warn(t,i)}get proxyOf(){return this}},Fl=$h;$h.default=$h;lL=Fl,Fh=class extends lL{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}},Bl=Fh;Fh.default=Fh;uL="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",cL=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},fL=(n=21)=>{let e="",t=n;for(;t--;)e+=uL[Math.random()*64|0];return e},dL={nanoid:fL,customAlphabet:cL},{SourceMapConsumer:GE,SourceMapGenerator:WE}=Dt,{existsSync:hL,readFileSync:pL}=Dt,{dirname:Sh,join:mL}=Dt;Bh=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Sh(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new GE(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,o=/^data:application\/json,/;if(i.test(e)||o.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return vL(e.substr(RegExp.lastMatch.length));let s=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=Sh(e),hL(e))return this.mapFile=e,pL(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(t instanceof GE)return WE.fromSourceMap(t).toString();if(t instanceof WE)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=mL(Sh(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}},Gx=Bh;Bh.default=Bh;({SourceMapConsumer:gL,SourceMapGenerator:yL}=Dt),{fileURLToPath:VE,pathToFileURL:Ya}=Dt,{isAbsolute:Gh,resolve:Wh}=Dt,{nanoid:bL}=dL,Eh=Dt,jE=Cp,wL=Gx,xh=Symbol("fromOffsetCache"),SL=!!(gL&&yL),zE=!!(Wh&&Gh),Il=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!zE||/^\w+:\/\//.test(t.from)||Gh(t.from)?this.file=t.from:this.file=Wh(t.from)),zE&&SL){let r=new wL(this.css,t);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+bL(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let o,s,l;if(t&&typeof t=="object"){let u=t,c=r;if(typeof u.offset=="number"){let f=this.fromOffset(u.offset);t=f.line,r=f.col}else t=u.line,r=u.column;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);s=f.line,l=f.col}else s=c.line,l=c.column}else if(!r){let u=this.fromOffset(t);t=u.line,r=u.col}let a=this.origin(t,r,s,l);return a?o=new jE(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,i.plugin):o=new jE(e,s===void 0?t:{column:r,line:t},s===void 0?r:{column:l,line:s},this.css,this.file,i.plugin),o.input={column:r,endColumn:l,endLine:s,line:t,source:this.css},this.file&&(Ya&&(o.input.url=Ya(this.file).toString()),o.input.file=this.file),o}fromOffset(e){let t,r;if(this[xh])r=this[xh];else{let o=this.css.split(`
`);r=new Array(o.length);let s=0;for(let l=0,a=o.length;l<a;l++)r[l]=s,s+=o[l].length+1;this[xh]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let o=r.length-2,s;for(;i<o;)if(s=i+(o-i>>1),e<r[s])o=s-1;else if(e>=r[s+1])i=s+1;else{i=s;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Wh(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){if(!this.map)return!1;let o=this.map.consumer(),s=o.originalPositionFor({column:t,line:e});if(!s.source)return!1;let l;typeof r=="number"&&(l=o.originalPositionFor({column:i,line:r}));let a;Gh(s.source)?a=Ya(s.source):a=new URL(s.source,this.map.consumer().sourceRoot||Ya(this.map.mapFile));let u={column:s.column,endColumn:l&&l.column,endLine:l&&l.line,line:s.line,url:a.toString()};if(a.protocol==="file:")if(VE)u.file=VE(a);else throw new Error("file: protocol is not available in this PostCSS build");let c=o.sourceContentFor(s.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}},Gl=Il;Il.default=Il;Eh&&Eh.registerInput&&Eh.registerInput(Il);({SourceMapConsumer:Wx,SourceMapGenerator:ml}=Dt),{dirname:vl,relative:Vx,resolve:jx,sep:zx}=Dt,{pathToFileURL:HE}=Dt,EL=Gl,xL=!!(Wx&&ml),_L=!!(vl&&jx&&Vx&&zx),CL=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||vl(e.file),i;this.mapOpts.sourcesContent===!1?(i=new Wx(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),_L&&xL&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=ml.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new ml({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new ml({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},o,s;this.stringify(this.root,(l,a,u)=>{if(this.css+=l,a&&u!=="end"&&(i.generated.line=e,i.generated.column=t-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),o=l.match(/\n/g),o?(e+=o.length,s=l.lastIndexOf(`
`),t=l.length-s):t+=l.length,a&&u!=="start"){let c=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==c.last||c.raws.semicolon)&&(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?vl(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=vl(jx(r,this.mapOpts.annotation)));let i=Vx(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new EL(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(HE){let r=HE(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;zx==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}},Hx=CL,IL=Fl,Vh=class extends IL{constructor(e){super(e),this.type="comment"}},Wl=Vh;Vh.default=Vh;({isClean:qx,my:Kx}=yo),Yx=Bl,Xx=Wl,AL=Fl;dr=class t_ extends AL{append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(i=>typeof i=="function"?(o,s)=>i(o.toProxy(),s):i)):t==="every"||t==="some"?r=>e[t]((i,...o)=>r(i.toProxy(),...o)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let s of i)this.proxyOf.nodes.splice(r+1,0,s);let o;for(let s in this.indexes)o=this.indexes[s],r<o&&(this.indexes[s]=o+i.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),i=r===0?"prepend":!1,o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let l of o)this.proxyOf.nodes.splice(r,0,l);let s;for(let l in this.indexes)s=this.indexes[l],r<=s&&(this.indexes[l]=s+o.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=Qx(Zx(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new Yx(e)]}else if(e.selector)e=[new Ip(e)];else if(e.name)e=[new Ap(e)];else if(e.text)e=[new Xx(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[Kx]||t_.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[qx]&&e_(i),typeof i.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(o){throw t.addToError(o)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="atrule")return t(r,i)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="decl")return t(r,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="rule")return t(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};dr.registerParse=n=>{Zx=n};dr.registerRule=n=>{Ip=n};dr.registerAtRule=n=>{Ap=n};dr.registerRoot=n=>{Jx=n};Zr=dr;dr.default=dr;dr.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,Ap.prototype):n.type==="rule"?Object.setPrototypeOf(n,Ip.prototype):n.type==="decl"?Object.setPrototypeOf(n,Yx.prototype):n.type==="comment"?Object.setPrototypeOf(n,Xx.prototype):n.type==="root"&&Object.setPrototypeOf(n,Jx.prototype),n[Kx]=!0,n.nodes&&n.nodes.forEach(e=>{dr.rebuild(e)})};TL=Zr,lo=class extends TL{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new r_(new n_,this,e).stringify()}};lo.registerLazyResult=n=>{r_=n};lo.registerProcessor=n=>{n_=n};Tp=lo;lo.default=lo;jh=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}},i_=jh;jh.default=jh;RL=i_,zh=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new RL(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}},Rp=zh;zh.default=zh;_h=39,qE=34,Xa=92,KE=47,Za=10,Qi=32,Ja=12,Qa=9,el=13,OL=91,PL=93,NL=40,kL=41,ML=123,LL=125,DL=59,UL=42,$L=58,FL=64,tl=/[\t\n\f\r "#'()/;[\\\]{}]/g,rl=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,BL=/.[\r\n"'(/\\]/,YE=/[\da-f]/i,GL=function(e,t={}){let r=e.css.valueOf(),i=t.ignoreErrors,o,s,l,a,u,c,f,d,h,p,v=r.length,m=0,y=[],g=[];function b(){return m}function w(C){throw e.error("Unclosed "+C,m)}function x(){return g.length===0&&m>=v}function _(C){if(g.length)return g.pop();if(m>=v)return;let T=C?C.ignoreUnclosed:!1;switch(o=r.charCodeAt(m),o){case Za:case Qi:case Qa:case el:case Ja:{s=m;do s+=1,o=r.charCodeAt(s);while(o===Qi||o===Za||o===Qa||o===el||o===Ja);p=["space",r.slice(m,s)],m=s-1;break}case OL:case PL:case ML:case LL:case $L:case DL:case kL:{let R=String.fromCharCode(o);p=[R,R,m];break}case NL:{if(d=y.length?y.pop()[1]:"",h=r.charCodeAt(m+1),d==="url"&&h!==_h&&h!==qE&&h!==Qi&&h!==Za&&h!==Qa&&h!==Ja&&h!==el){s=m;do{if(c=!1,s=r.indexOf(")",s+1),s===-1)if(i||T){s=m;break}else w("bracket");for(f=s;r.charCodeAt(f-1)===Xa;)f-=1,c=!c}while(c);p=["brackets",r.slice(m,s+1),m,s],m=s}else s=r.indexOf(")",m+1),a=r.slice(m,s+1),s===-1||BL.test(a)?p=["(","(",m]:(p=["brackets",a,m,s],m=s);break}case _h:case qE:{l=o===_h?"'":'"',s=m;do{if(c=!1,s=r.indexOf(l,s+1),s===-1)if(i||T){s=m+1;break}else w("string");for(f=s;r.charCodeAt(f-1)===Xa;)f-=1,c=!c}while(c);p=["string",r.slice(m,s+1),m,s],m=s;break}case FL:{tl.lastIndex=m+1,tl.test(r),tl.lastIndex===0?s=r.length-1:s=tl.lastIndex-2,p=["at-word",r.slice(m,s+1),m,s],m=s;break}case Xa:{for(s=m,u=!0;r.charCodeAt(s+1)===Xa;)s+=1,u=!u;if(o=r.charCodeAt(s+1),u&&o!==KE&&o!==Qi&&o!==Za&&o!==Qa&&o!==el&&o!==Ja&&(s+=1,YE.test(r.charAt(s)))){for(;YE.test(r.charAt(s+1));)s+=1;r.charCodeAt(s+1)===Qi&&(s+=1)}p=["word",r.slice(m,s+1),m,s],m=s;break}default:{o===KE&&r.charCodeAt(m+1)===UL?(s=r.indexOf("*/",m+2)+1,s===0&&(i||T?s=r.length:w("comment")),p=["comment",r.slice(m,s+1),m,s],m=s):(rl.lastIndex=m+1,rl.test(r),rl.lastIndex===0?s=r.length-1:s=rl.lastIndex-2,p=["word",r.slice(m,s+1),m,s],y.push(p),m=s);break}}return m++,p}function A(C){g.push(C)}return{back:A,endOfFile:x,nextToken:_,position:b}},o_=Zr,Al=class extends o_{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}},Op=Al;Al.default=Al;o_.registerAtRule(Al);s_=Zr,$n=class extends s_{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let o of i)o.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new a_(new l_,this,e).stringify()}};$n.registerLazyResult=n=>{a_=n};$n.registerProcessor=n=>{l_=n};bo=$n;$n.default=$n;s_.registerRoot($n);uo={comma(n){return uo.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return uo.split(n,e)},split(n,e,t){let r=[],i="",o=!1,s=0,l=!1,a="",u=!1;for(let c of n)u?u=!1:c==="\\"?u=!0:l?c===a&&(l=!1):c==='"'||c==="'"?(l=!0,a=c):c==="("?s+=1:c===")"?s>0&&(s-=1):s===0&&e.includes(c)&&(o=!0),o?(i!==""&&r.push(i.trim()),i="",o=!1):i+=c;return(t||i!=="")&&r.push(i.trim()),r}},u_=uo;uo.default=uo;c_=Zr,WL=u_,Tl=class extends c_{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return WL.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}},Pp=Tl;Tl.default=Tl;c_.registerRule(Tl);VL=Bl,jL=GL,zL=Wl,HL=Op,qL=bo,XE=Pp,ZE={empty:!0,space:!0};YL=class{constructor(e){this.input=e,this.root=new qL,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new HL;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,i,o,s=!1,l=!1,a=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){l=!0;break}else if(r==="}"){if(a.length>0){for(o=a.length-1,i=a[o];i&&i[0]==="space";)i=a[--o];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),s&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,i;for(let o=t-1;o>=0&&(i=e[o],!(i[0]!=="space"&&(r+=1,r===2)));o--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,r,i,o;for(let[s,l]of e.entries()){if(r=l,i=r[0],i==="("&&(t+=1),i===")"&&(t-=1),t===0&&i===":")if(!o)this.doubleColon(r);else{if(o[0]==="word"&&o[1]==="progid")continue;return s}o=r}return!1}comment(e){let t=new zL;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=jL(this.input)}decl(e,t){let r=new VL;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||KL(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let o;for(;e.length;)if(o=e.shift(),o[0]===":"){r.raws.between+=o[1];break}else o[0]==="word"&&/\w/.test(o[1])&&this.unknownWord([o]),r.raws.between+=o[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)s.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(o=e[u],o[1].toLowerCase()==="!important"){r.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(r.raws.important=c);break}else if(o[1].toLowerCase()==="important"){let c=e.slice(0),f="";for(let d=u;d>0;d--){let h=c[d][0];if(f.trim().indexOf("!")===0&&h!=="space")break;f=c.pop()[1]+f}f.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=f,e=c)}if(o[0]!=="space"&&o[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=s.map(u=>u[1]).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new XE;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,o=null,s=[],l=e[1].startsWith("--"),a=[],u=e;for(;u;){if(r=u[0],a.push(u),r==="("||r==="[")o||(o=u),s.push(r==="("?")":"]");else if(l&&i&&r==="{")o||(o=u),s.push("}");else if(s.length===0)if(r===";")if(i){this.decl(a,l);return}else break;else if(r==="{"){this.rule(a);return}else if(r==="}"){this.tokenizer.back(a.pop()),t=!0;break}else r===":"&&(i=!0);else r===s[s.length-1]&&(s.pop(),s.length===0&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),s.length>0&&this.unclosedBracket(o),t&&i){if(!l)for(;a.length&&(u=a[a.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let o,s,l=r.length,a="",u=!0,c,f;for(let d=0;d<l;d+=1)o=r[d],s=o[0],s==="space"&&d===l-1&&!i?u=!1:s==="comment"?(f=r[d-1]?r[d-1][0]:"empty",c=r[d+1]?r[d+1][0]:"empty",!ZE[f]&&!ZE[c]?a.slice(-1)===","?u=!1:a+=o[1]:u=!1):a+=o[1];if(!u){let d=r.reduce((h,p)=>h+p[1],"");e.raws[t]={raw:d,value:a}}e[t]=a}rule(e){e.pop();let t=new XE;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}},XL=YL,ZL=Zr,JL=XL,QL=Gl;Np=Rl;Rl.default=Rl;ZL.registerParse(Rl);({isClean:Qt,my:eD}=yo),tD=Hx,rD=$l,nD=Zr,iD=Tp,JE=Rp,oD=Np,sD=bo,aD={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},lD={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},uD={Once:!0,postcssPlugin:!0,prepare:!0},Fn=0;qh={},Bn=class d_{constructor(e,t,r){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=Hh(t);else if(t instanceof d_||t instanceof JE)i=Hh(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let o=oD;r.syntax&&(o=r.syntax.parse),r.parser&&(o=r.parser),o.parse&&(o=o.parse);try{i=o(t,r)}catch(s){this.processed=!0,this.error=s}i&&!i[eD]&&nD.rebuild(i)}this.result=new JE(e,i,r),this.helpers={...qh,postcss:qh,result:this.result},this.plugins=this.processor.plugins.map(o=>typeof o=="object"&&o.prepare?{...o,...o.prepare(this.result)}:o)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!lD[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!uD[r])if(typeof t[r]=="object")for(let i in t[r])i==="*"?e(t,r,t[r][i]):e(t,r+"-"+i.toLowerCase(),t[r][i]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(eo(r))try{await r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Qt];){e[Qt]=!0;let t=[QE(e)];for(;t.length>0;){let r=this.visitTick(t);if(eo(r))try{await r}catch(i){let o=t[t.length-1].node;throw this.handleError(i,o)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(o=>r(o,this.helpers));await Promise.all(i)}else await r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return eo(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=rD;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new tD(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(eo(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Qt];)e[Qt]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){this.result.lastPlugin=r;let o;try{o=i(t,this.helpers)}catch(s){throw this.handleError(s,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(eo(o))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[s,l]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=s;try{return l(r.toProxy(),this.helpers)}catch(a){throw this.handleError(a,r)}}if(t.iterator!==0){let s=t.iterator,l;for(;l=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!l[Qt]){l[Qt]=!0,e.push(QE(l));return}t.iterator=0,delete r.indexes[s]}let o=t.events;for(;t.eventIndex<o.length;){let s=o[t.eventIndex];if(t.eventIndex+=1,s===Fn){r.nodes&&r.nodes.length&&(r[Qt]=!0,t.iterator=r.getIterator());return}else if(this.listeners[s]){t.visitors=this.listeners[s];return}}e.pop()}walkSync(e){e[Qt]=!0;let t=f_(e);for(let r of t)if(r===Fn)e.nodes&&e.each(i=>{i[Qt]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Bn.registerPostcss=n=>{qh=n};h_=Bn;Bn.default=Bn;sD.registerLazyResult(Bn);iD.registerLazyResult(Bn);cD=Hx,fD=$l,dD=Np,hD=Rp,Kh=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i,o=fD;this.result=new hD(this._processor,i,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let l=new cD(o,i,this._opts,t);if(l.isMap()){let[a,u]=l.generate();a&&(this.result.css=a),u&&(this.result.map=u)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=dD;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}},pD=Kh;Kh.default=Kh;mD=pD,vD=h_,gD=Tp,yD=bo,co=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new mD(this,e,t):new vD(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}},bD=co;co.default=co;yD.registerProcessor(co);gD.registerProcessor(co);wD=Bl,SD=Gx,ED=Wl,xD=Op,_D=Gl,CD=bo,ID=Pp;AD=fo;fo.default=fo;TD=Cp,p_=Bl,RD=h_,OD=Zr,kp=bD,PD=$l,ND=AD,m_=Tp,kD=i_,v_=Wl,g_=Op,MD=Rp,LD=Gl,DD=Np,UD=u_,y_=Pp,b_=bo,$D=Fl;xe.plugin=function(e,t){let r=!1;function i(...s){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let l=t(...s);return l.postcssPlugin=e,l.postcssVersion=new kp().version,l}let o;return Object.defineProperty(i,"postcss",{get(){return o||(o=i()),o}}),i.process=function(s,l,a){return xe([i(a)]).process(s,l)},i};xe.stringify=PD;xe.parse=DD;xe.fromJSON=ND;xe.list=UD;xe.comment=n=>new v_(n);xe.atRule=n=>new g_(n);xe.decl=n=>new p_(n);xe.rule=n=>new y_(n);xe.root=n=>new b_(n);xe.document=n=>new m_(n);xe.CssSyntaxError=TD;xe.Declaration=p_;xe.Container=OD;xe.Processor=kp;xe.Document=m_;xe.Comment=v_;xe.Warning=kD;xe.AtRule=g_;xe.Result=MD;xe.Input=LD;xe.Rule=y_;xe.Root=b_;xe.Node=$D;RD.registerPostcss(xe);FD=xe;xe.default=xe;Be=ZM(FD);Be.stringify;Be.fromJSON;Be.plugin;Be.parse;Be.list;Be.document;Be.comment;Be.atRule;Be.rule;Be.decl;Be.root;Be.CssSyntaxError;Be.Declaration;Be.Container;Be.Processor;Be.Document;Be.Comment;Be.Warning;Be.AtRule;Be.Result;Be.Input;Be.Rule;Be.Root;Be.Node;BD=Object.defineProperty,GD=(n,e,t)=>e in n?BD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Tt=(n,e,t)=>GD(n,typeof e!="symbol"?e+"":e,t);Mp={exports:{}},De=String,w_=function(){return{isColorSupported:!1,reset:De,bold:De,dim:De,italic:De,underline:De,inverse:De,hidden:De,strikethrough:De,black:De,red:De,green:De,yellow:De,blue:De,magenta:De,cyan:De,white:De,gray:De,bgBlack:De,bgRed:De,bgGreen:De,bgYellow:De,bgBlue:De,bgMagenta:De,bgCyan:De,bgWhite:De}};Mp.exports=w_();Mp.exports.createColors=w_;jD=Mp.exports,zD={},HD=Object.freeze(Object.defineProperty({__proto__:null,default:zD},Symbol.toStringTag,{value:"Module"})),Ut=VD(HD),ex=jD,tx=Ut,Yh=class S_ extends Error{constructor(e,t,r,i,o,s){super(e),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),i&&(this.source=i),s&&(this.plugin=s),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,S_)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=ex.isColorSupported),tx&&e&&(t=tx(t));let r=t.split(/\r?\n/),i=Math.max(this.line-3,0),o=Math.min(this.line+2,r.length),s=String(o).length,l,a;if(e){let{bold:u,gray:c,red:f}=ex.createColors(!0);l=d=>u(f(d)),a=d=>c(d)}else l=a=u=>u;return r.slice(i,o).map((u,c)=>{let f=i+1+c,d=" "+(" "+f).slice(-s)+" | ";if(f===this.line){let h=a(d.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+a(d)+u+`
 `+h+l("^")}return" "+a(d)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}},Lp=Yh;Yh.default=Yh;wo={};wo.isClean=Symbol("isClean");wo.my=Symbol("my");rx={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};Xh=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let o=(e.raws.between||"")+(t?";":"");this.builder(r+i+o,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,o=0;for(;i&&i.type!=="root";)o+=1,i=i.parent;if(r.includes(`
`)){let s=this.raw(e,null,"indent");if(s.length)for(let l=0;l<o;l++)r+=s}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let o=e.nodes[i],s=this.raw(o,"before");s&&this.builder(s),this.stringify(o,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&(i=e.raws[t],typeof i<"u"))return i;let o=e.parent;if(r==="before"&&(!o||o.type==="root"&&o.first===e||o&&o.type==="document"))return"";if(!o)return rx[r];let s=e.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[r]<"u")return s.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let l="raw"+qD(r);this[l]?i=this[l](s,e):s.walk(a=>{if(i=a.raws[t],typeof i<"u")return!1})}return typeof i>"u"&&(i=rx[r]),s.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let o=r.raws.before.split(`
`);return t=o[o.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}},E_=Xh;Xh.default=Xh;KD=E_;Vl=Zh;Zh.default=Zh;({isClean:nl,my:YD}=wo),XD=Lp,ZD=E_,JD=Vl;Qh=class{constructor(e={}){this.raws={},this[nl]=!1,this[YD]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Jh(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new XD(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[nl]){this[nl]=!1;let e=this;for(;e=e.parent;)e[nl]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){t=this.toString();let i=t.indexOf(e.word);i!==-1&&(r=this.positionInside(i,t))}return r}positionInside(e,t){let r=t||this.toString(),i=this.source.start.column,o=this.source.start.line;for(let s=0;s<e;s++)r[s]===`
`?(i=1,o+=1):i+=1;return{column:i,line:o}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),o=i.indexOf(e.word);o!==-1&&(t=this.positionInside(o,i),r=this.positionInside(o+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new ZD().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},i=t==null;t=t||new Map;let o=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let l=this[s];if(Array.isArray(l))r[s]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)r[s]=l.toJSON(null,t);else if(s==="source"){let a=t.get(l.input);a==null&&(a=o,t.set(l.input,o),o++),r[s]={end:l.end,inputId:a,start:l.start}}else r[s]=l}return i&&(r.inputs=[...t.keys()].map(s=>s.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=JD){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let i={node:this};for(let o in r)i[o]=r[o];return e.warn(t,i)}get proxyOf(){return this}},jl=Qh;Qh.default=Qh;QD=jl,ep=class extends QD{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}},zl=ep;ep.default=ep;eU="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",tU=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},rU=(n=21)=>{let e="",t=n;for(;t--;)e+=eU[Math.random()*64|0];return e},nU={nanoid:rU,customAlphabet:tU},{SourceMapConsumer:nx,SourceMapGenerator:ix}=Ut,{existsSync:iU,readFileSync:oU}=Ut,{dirname:Ch,join:sU}=Ut;tp=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Ch(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new nx(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,o=/^data:application\/json,/;if(i.test(e)||o.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return aU(e.substr(RegExp.lastMatch.length));let s=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=Ch(e),iU(e))return this.mapFile=e,oU(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(t instanceof nx)return ix.fromSourceMap(t).toString();if(t instanceof ix)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=sU(Ch(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}},x_=tp;tp.default=tp;({SourceMapConsumer:lU,SourceMapGenerator:uU}=Ut),{fileURLToPath:ox,pathToFileURL:il}=Ut,{isAbsolute:rp,resolve:np}=Ut,{nanoid:cU}=nU,Ih=Ut,sx=Lp,fU=x_,Ah=Symbol("fromOffsetCache"),dU=!!(lU&&uU),ax=!!(np&&rp),Ol=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!ax||/^\w+:\/\//.test(t.from)||rp(t.from)?this.file=t.from:this.file=np(t.from)),ax&&dU){let r=new fU(this.css,t);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+cU(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let o,s,l;if(t&&typeof t=="object"){let u=t,c=r;if(typeof u.offset=="number"){let f=this.fromOffset(u.offset);t=f.line,r=f.col}else t=u.line,r=u.column;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);s=f.line,l=f.col}else s=c.line,l=c.column}else if(!r){let u=this.fromOffset(t);t=u.line,r=u.col}let a=this.origin(t,r,s,l);return a?o=new sx(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,i.plugin):o=new sx(e,s===void 0?t:{column:r,line:t},s===void 0?r:{column:l,line:s},this.css,this.file,i.plugin),o.input={column:r,endColumn:l,endLine:s,line:t,source:this.css},this.file&&(il&&(o.input.url=il(this.file).toString()),o.input.file=this.file),o}fromOffset(e){let t,r;if(this[Ah])r=this[Ah];else{let o=this.css.split(`
`);r=new Array(o.length);let s=0;for(let l=0,a=o.length;l<a;l++)r[l]=s,s+=o[l].length+1;this[Ah]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let o=r.length-2,s;for(;i<o;)if(s=i+(o-i>>1),e<r[s])o=s-1;else if(e>=r[s+1])i=s+1;else{i=s;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:np(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){if(!this.map)return!1;let o=this.map.consumer(),s=o.originalPositionFor({column:t,line:e});if(!s.source)return!1;let l;typeof r=="number"&&(l=o.originalPositionFor({column:i,line:r}));let a;rp(s.source)?a=il(s.source):a=new URL(s.source,this.map.consumer().sourceRoot||il(this.map.mapFile));let u={column:s.column,endColumn:l&&l.column,endLine:l&&l.line,line:s.line,url:a.toString()};if(a.protocol==="file:")if(ox)u.file=ox(a);else throw new Error("file: protocol is not available in this PostCSS build");let c=o.sourceContentFor(s.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}},Hl=Ol;Ol.default=Ol;Ih&&Ih.registerInput&&Ih.registerInput(Ol);({SourceMapConsumer:__,SourceMapGenerator:gl}=Ut),{dirname:yl,relative:C_,resolve:I_,sep:A_}=Ut,{pathToFileURL:lx}=Ut,hU=Hl,pU=!!(__&&gl),mU=!!(yl&&I_&&C_&&A_),vU=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||yl(e.file),i;this.mapOpts.sourcesContent===!1?(i=new __(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),mU&&pU&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=gl.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new gl({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new gl({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},o,s;this.stringify(this.root,(l,a,u)=>{if(this.css+=l,a&&u!=="end"&&(i.generated.line=e,i.generated.column=t-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),o=l.match(/\n/g),o?(e+=o.length,s=l.lastIndexOf(`
`),t=l.length-s):t+=l.length,a&&u!=="start"){let c=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==c.last||c.raws.semicolon)&&(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?yl(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=yl(I_(r,this.mapOpts.annotation)));let i=C_(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new hU(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(lx){let r=lx(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;A_==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}},T_=vU,gU=jl,ip=class extends gU{constructor(e){super(e),this.type="comment"}},ql=ip;ip.default=ip;({isClean:R_,my:O_}=wo),P_=zl,N_=ql,yU=jl;hr=class U_ extends yU{append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(i=>typeof i=="function"?(o,s)=>i(o.toProxy(),s):i)):t==="every"||t==="some"?r=>e[t]((i,...o)=>r(i.toProxy(),...o)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let s of i)this.proxyOf.nodes.splice(r+1,0,s);let o;for(let s in this.indexes)o=this.indexes[s],r<o&&(this.indexes[s]=o+i.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),i=r===0?"prepend":!1,o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let l of o)this.proxyOf.nodes.splice(r,0,l);let s;for(let l in this.indexes)s=this.indexes[l],r<=s&&(this.indexes[l]=s+o.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=L_(k_(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new P_(e)]}else if(e.selector)e=[new Dp(e)];else if(e.name)e=[new Up(e)];else if(e.text)e=[new N_(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[O_]||U_.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[R_]&&D_(i),typeof i.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(o){throw t.addToError(o)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="atrule")return t(r,i)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="decl")return t(r,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="rule")return t(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};hr.registerParse=n=>{k_=n};hr.registerRule=n=>{Dp=n};hr.registerAtRule=n=>{Up=n};hr.registerRoot=n=>{M_=n};Jr=hr;hr.default=hr;hr.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,Up.prototype):n.type==="rule"?Object.setPrototypeOf(n,Dp.prototype):n.type==="decl"?Object.setPrototypeOf(n,P_.prototype):n.type==="comment"?Object.setPrototypeOf(n,N_.prototype):n.type==="root"&&Object.setPrototypeOf(n,M_.prototype),n[O_]=!0,n.nodes&&n.nodes.forEach(e=>{hr.rebuild(e)})};bU=Jr,ho=class extends bU{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new $_(new F_,this,e).stringify()}};ho.registerLazyResult=n=>{$_=n};ho.registerProcessor=n=>{F_=n};$p=ho;ho.default=ho;op=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}},B_=op;op.default=op;wU=B_,sp=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new wU(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}},Fp=sp;sp.default=sp;Th=39,ux=34,ol=92,cx=47,sl=10,to=32,al=12,ll=9,ul=13,SU=91,EU=93,xU=40,_U=41,CU=123,IU=125,AU=59,TU=42,RU=58,OU=64,cl=/[\t\n\f\r "#'()/;[\\\]{}]/g,fl=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,PU=/.[\r\n"'(/\\]/,fx=/[\da-f]/i,NU=function(e,t={}){let r=e.css.valueOf(),i=t.ignoreErrors,o,s,l,a,u,c,f,d,h,p,v=r.length,m=0,y=[],g=[];function b(){return m}function w(C){throw e.error("Unclosed "+C,m)}function x(){return g.length===0&&m>=v}function _(C){if(g.length)return g.pop();if(m>=v)return;let T=C?C.ignoreUnclosed:!1;switch(o=r.charCodeAt(m),o){case sl:case to:case ll:case ul:case al:{s=m;do s+=1,o=r.charCodeAt(s);while(o===to||o===sl||o===ll||o===ul||o===al);p=["space",r.slice(m,s)],m=s-1;break}case SU:case EU:case CU:case IU:case RU:case AU:case _U:{let R=String.fromCharCode(o);p=[R,R,m];break}case xU:{if(d=y.length?y.pop()[1]:"",h=r.charCodeAt(m+1),d==="url"&&h!==Th&&h!==ux&&h!==to&&h!==sl&&h!==ll&&h!==al&&h!==ul){s=m;do{if(c=!1,s=r.indexOf(")",s+1),s===-1)if(i||T){s=m;break}else w("bracket");for(f=s;r.charCodeAt(f-1)===ol;)f-=1,c=!c}while(c);p=["brackets",r.slice(m,s+1),m,s],m=s}else s=r.indexOf(")",m+1),a=r.slice(m,s+1),s===-1||PU.test(a)?p=["(","(",m]:(p=["brackets",a,m,s],m=s);break}case Th:case ux:{l=o===Th?"'":'"',s=m;do{if(c=!1,s=r.indexOf(l,s+1),s===-1)if(i||T){s=m+1;break}else w("string");for(f=s;r.charCodeAt(f-1)===ol;)f-=1,c=!c}while(c);p=["string",r.slice(m,s+1),m,s],m=s;break}case OU:{cl.lastIndex=m+1,cl.test(r),cl.lastIndex===0?s=r.length-1:s=cl.lastIndex-2,p=["at-word",r.slice(m,s+1),m,s],m=s;break}case ol:{for(s=m,u=!0;r.charCodeAt(s+1)===ol;)s+=1,u=!u;if(o=r.charCodeAt(s+1),u&&o!==cx&&o!==to&&o!==sl&&o!==ll&&o!==ul&&o!==al&&(s+=1,fx.test(r.charAt(s)))){for(;fx.test(r.charAt(s+1));)s+=1;r.charCodeAt(s+1)===to&&(s+=1)}p=["word",r.slice(m,s+1),m,s],m=s;break}default:{o===cx&&r.charCodeAt(m+1)===TU?(s=r.indexOf("*/",m+2)+1,s===0&&(i||T?s=r.length:w("comment")),p=["comment",r.slice(m,s+1),m,s],m=s):(fl.lastIndex=m+1,fl.test(r),fl.lastIndex===0?s=r.length-1:s=fl.lastIndex-2,p=["word",r.slice(m,s+1),m,s],y.push(p),m=s);break}}return m++,p}function A(C){g.push(C)}return{back:A,endOfFile:x,nextToken:_,position:b}},G_=Jr,Pl=class extends G_{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}},Bp=Pl;Pl.default=Pl;G_.registerAtRule(Pl);W_=Jr,Gn=class extends W_{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let o of i)o.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new V_(new j_,this,e).stringify()}};Gn.registerLazyResult=n=>{V_=n};Gn.registerProcessor=n=>{j_=n};So=Gn;Gn.default=Gn;W_.registerRoot(Gn);po={comma(n){return po.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return po.split(n,e)},split(n,e,t){let r=[],i="",o=!1,s=0,l=!1,a="",u=!1;for(let c of n)u?u=!1:c==="\\"?u=!0:l?c===a&&(l=!1):c==='"'||c==="'"?(l=!0,a=c):c==="("?s+=1:c===")"?s>0&&(s-=1):s===0&&e.includes(c)&&(o=!0),o?(i!==""&&r.push(i.trim()),i="",o=!1):i+=c;return(t||i!=="")&&r.push(i.trim()),r}},z_=po;po.default=po;H_=Jr,kU=z_,Nl=class extends H_{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return kU.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}},Gp=Nl;Nl.default=Nl;H_.registerRule(Nl);MU=zl,LU=NU,DU=ql,UU=Bp,$U=So,dx=Gp,hx={empty:!0,space:!0};BU=class{constructor(e){this.input=e,this.root=new $U,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new UU;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,i,o,s=!1,l=!1,a=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){l=!0;break}else if(r==="}"){if(a.length>0){for(o=a.length-1,i=a[o];i&&i[0]==="space";)i=a[--o];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),s&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,i;for(let o=t-1;o>=0&&(i=e[o],!(i[0]!=="space"&&(r+=1,r===2)));o--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,r,i,o;for(let[s,l]of e.entries()){if(r=l,i=r[0],i==="("&&(t+=1),i===")"&&(t-=1),t===0&&i===":")if(!o)this.doubleColon(r);else{if(o[0]==="word"&&o[1]==="progid")continue;return s}o=r}return!1}comment(e){let t=new DU;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=LU(this.input)}decl(e,t){let r=new MU;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||FU(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let o;for(;e.length;)if(o=e.shift(),o[0]===":"){r.raws.between+=o[1];break}else o[0]==="word"&&/\w/.test(o[1])&&this.unknownWord([o]),r.raws.between+=o[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)s.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(o=e[u],o[1].toLowerCase()==="!important"){r.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(r.raws.important=c);break}else if(o[1].toLowerCase()==="important"){let c=e.slice(0),f="";for(let d=u;d>0;d--){let h=c[d][0];if(f.trim().indexOf("!")===0&&h!=="space")break;f=c.pop()[1]+f}f.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=f,e=c)}if(o[0]!=="space"&&o[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=s.map(u=>u[1]).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new dx;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,o=null,s=[],l=e[1].startsWith("--"),a=[],u=e;for(;u;){if(r=u[0],a.push(u),r==="("||r==="[")o||(o=u),s.push(r==="("?")":"]");else if(l&&i&&r==="{")o||(o=u),s.push("}");else if(s.length===0)if(r===";")if(i){this.decl(a,l);return}else break;else if(r==="{"){this.rule(a);return}else if(r==="}"){this.tokenizer.back(a.pop()),t=!0;break}else r===":"&&(i=!0);else r===s[s.length-1]&&(s.pop(),s.length===0&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),s.length>0&&this.unclosedBracket(o),t&&i){if(!l)for(;a.length&&(u=a[a.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let o,s,l=r.length,a="",u=!0,c,f;for(let d=0;d<l;d+=1)o=r[d],s=o[0],s==="space"&&d===l-1&&!i?u=!1:s==="comment"?(f=r[d-1]?r[d-1][0]:"empty",c=r[d+1]?r[d+1][0]:"empty",!hx[f]&&!hx[c]?a.slice(-1)===","?u=!1:a+=o[1]:u=!1):a+=o[1];if(!u){let d=r.reduce((h,p)=>h+p[1],"");e.raws[t]={raw:d,value:a}}e[t]=a}rule(e){e.pop();let t=new dx;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}},GU=BU,WU=Jr,VU=GU,jU=Hl;Wp=kl;kl.default=kl;WU.registerParse(kl);({isClean:er,my:zU}=wo),HU=T_,qU=Vl,KU=Jr,YU=$p,px=Fp,XU=Wp,ZU=So,JU={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},QU={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},e$={Once:!0,postcssPlugin:!0,prepare:!0},Wn=0;lp={},Vn=class K_{constructor(e,t,r){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=ap(t);else if(t instanceof K_||t instanceof px)i=ap(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let o=XU;r.syntax&&(o=r.syntax.parse),r.parser&&(o=r.parser),o.parse&&(o=o.parse);try{i=o(t,r)}catch(s){this.processed=!0,this.error=s}i&&!i[zU]&&KU.rebuild(i)}this.result=new px(e,i,r),this.helpers={...lp,postcss:lp,result:this.result},this.plugins=this.processor.plugins.map(o=>typeof o=="object"&&o.prepare?{...o,...o.prepare(this.result)}:o)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!QU[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!e$[r])if(typeof t[r]=="object")for(let i in t[r])i==="*"?e(t,r,t[r][i]):e(t,r+"-"+i.toLowerCase(),t[r][i]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(ro(r))try{await r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[er];){e[er]=!0;let t=[mx(e)];for(;t.length>0;){let r=this.visitTick(t);if(ro(r))try{await r}catch(i){let o=t[t.length-1].node;throw this.handleError(i,o)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(o=>r(o,this.helpers));await Promise.all(i)}else await r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return ro(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=qU;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new HU(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(ro(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[er];)e[er]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){this.result.lastPlugin=r;let o;try{o=i(t,this.helpers)}catch(s){throw this.handleError(s,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(ro(o))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[s,l]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=s;try{return l(r.toProxy(),this.helpers)}catch(a){throw this.handleError(a,r)}}if(t.iterator!==0){let s=t.iterator,l;for(;l=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!l[er]){l[er]=!0,e.push(mx(l));return}t.iterator=0,delete r.indexes[s]}let o=t.events;for(;t.eventIndex<o.length;){let s=o[t.eventIndex];if(t.eventIndex+=1,s===Wn){r.nodes&&r.nodes.length&&(r[er]=!0,t.iterator=r.getIterator());return}else if(this.listeners[s]){t.visitors=this.listeners[s];return}}e.pop()}walkSync(e){e[er]=!0;let t=q_(e);for(let r of t)if(r===Wn)e.nodes&&e.each(i=>{i[er]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Vn.registerPostcss=n=>{lp=n};Y_=Vn;Vn.default=Vn;ZU.registerLazyResult(Vn);YU.registerLazyResult(Vn);t$=T_,r$=Vl,n$=Wp,i$=Fp,up=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i,o=r$;this.result=new i$(this._processor,i,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let l=new t$(o,i,this._opts,t);if(l.isMap()){let[a,u]=l.generate();a&&(this.result.css=a),u&&(this.result.map=u)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=n$;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}},o$=up;up.default=up;s$=o$,a$=Y_,l$=$p,u$=So,mo=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new s$(this,e,t):new a$(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}},c$=mo;mo.default=mo;u$.registerProcessor(mo);l$.registerProcessor(mo);f$=zl,d$=x_,h$=ql,p$=Bp,m$=Hl,v$=So,g$=Gp;y$=vo;vo.default=vo;b$=Lp,X_=zl,w$=Y_,S$=Jr,Vp=c$,E$=Vl,x$=y$,Z_=$p,_$=B_,J_=ql,Q_=Bp,C$=Fp,I$=Hl,A$=Wp,T$=z_,eC=Gp,tC=So,R$=jl;_e.plugin=function(e,t){let r=!1;function i(...s){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let l=t(...s);return l.postcssPlugin=e,l.postcssVersion=new Vp().version,l}let o;return Object.defineProperty(i,"postcss",{get(){return o||(o=i()),o}}),i.process=function(s,l,a){return _e([i(a)]).process(s,l)},i};_e.stringify=E$;_e.parse=A$;_e.fromJSON=x$;_e.list=T$;_e.comment=n=>new J_(n);_e.atRule=n=>new Q_(n);_e.decl=n=>new X_(n);_e.rule=n=>new eC(n);_e.root=n=>new tC(n);_e.document=n=>new Z_(n);_e.CssSyntaxError=b$;_e.Declaration=X_;_e.Container=S$;_e.Processor=Vp;_e.Document=Z_;_e.Comment=J_;_e.Warning=_$;_e.AtRule=Q_;_e.Result=C$;_e.Input=I$;_e.Rule=eC;_e.Root=tC;_e.Node=R$;w$.registerPostcss(_e);O$=_e;_e.default=_e;Ge=WD(O$);Ge.stringify;Ge.fromJSON;Ge.plugin;Ge.parse;Ge.list;Ge.document;Ge.comment;Ge.atRule;Ge.rule;Ge.decl;Ge.root;Ge.CssSyntaxError;Ge.Declaration;Ge.Container;Ge.Processor;Ge.Document;Ge.Comment;Ge.Warning;Ge.AtRule;Ge.Result;Ge.Input;Ge.Rule;Ge.Root;Ge.Node;cp=class n{constructor(...e){Tt(this,"parentElement",null),Tt(this,"parentNode",null),Tt(this,"ownerDocument"),Tt(this,"firstChild",null),Tt(this,"lastChild",null),Tt(this,"previousSibling",null),Tt(this,"nextSibling",null),Tt(this,"ELEMENT_NODE",1),Tt(this,"TEXT_NODE",3),Tt(this,"nodeType"),Tt(this,"nodeName"),Tt(this,"RRNodeType")}get childNodes(){let e=[],t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(e instanceof n){if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0}else return!1;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}},vx={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},gx={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},dl={};Rh={};Oh={};te={childNodes:N$,parentNode:k$,parentElement:M$,textContent:L$,contains:D$,getRootNode:U$,host:$$,styleSheets:F$,shadowRoot:B$,querySelector:G$,querySelectorAll:W$,mutationObserver:nC};kn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,yx={map:{},getId(){return console.error(kn),-1},getNode(){return console.error(kn),null},removeNodeFromMap(){console.error(kn)},has(){return console.error(kn),!1},reset(){console.error(kn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(yx=new Proxy(yx,{get(n,e,t){return e==="map"&&console.error(kn),Reflect.get(n,e,t)}}));Ml=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ml=()=>new Date().getTime());hp=class{constructor(){k(this,"id",1),k(this,"styleIDMap",new WeakMap),k(this,"idStyleMap",new Map)}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;return t===void 0?r=this.id++:r=t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};de=(n=>(n[n.DomContentLoaded=0]="DomContentLoaded",n[n.Load=1]="Load",n[n.FullSnapshot=2]="FullSnapshot",n[n.IncrementalSnapshot=3]="IncrementalSnapshot",n[n.Meta=4]="Meta",n[n.Custom=5]="Custom",n[n.Plugin=6]="Plugin",n))(de||{}),ie=(n=>(n[n.Mutation=0]="Mutation",n[n.MouseMove=1]="MouseMove",n[n.MouseInteraction=2]="MouseInteraction",n[n.Scroll=3]="Scroll",n[n.ViewportResize=4]="ViewportResize",n[n.Input=5]="Input",n[n.TouchMove=6]="TouchMove",n[n.MediaInteraction=7]="MediaInteraction",n[n.StyleSheetRule=8]="StyleSheetRule",n[n.CanvasMutation=9]="CanvasMutation",n[n.Font=10]="Font",n[n.Log=11]="Log",n[n.Drag=12]="Drag",n[n.StyleDeclaration=13]="StyleDeclaration",n[n.Selection=14]="Selection",n[n.AdoptedStyleSheet=15]="AdoptedStyleSheet",n[n.CustomElement=16]="CustomElement",n))(ie||{}),bt=(n=>(n[n.MouseUp=0]="MouseUp",n[n.MouseDown=1]="MouseDown",n[n.Click=2]="Click",n[n.ContextMenu=3]="ContextMenu",n[n.DblClick=4]="DblClick",n[n.Focus=5]="Focus",n[n.Blur=6]="Blur",n[n.TouchStart=7]="TouchStart",n[n.TouchMove_Departed=8]="TouchMove_Departed",n[n.TouchEnd=9]="TouchEnd",n[n.TouchCancel=10]="TouchCancel",n))(bt||{}),fr=(n=>(n[n.Mouse=0]="Mouse",n[n.Pen=1]="Pen",n[n.Touch=2]="Touch",n))(fr||{}),jn=(n=>(n[n["2D"]=0]="2D",n[n.WebGL=1]="WebGL",n[n.WebGL2=2]="WebGL2",n))(jn||{}),Mn=(n=>(n[n.Play=0]="Play",n[n.Pause=1]="Pause",n[n.Seeked=2]="Seeked",n[n.VolumeChange=3]="VolumeChange",n[n.RateChange=4]="RateChange",n))(Mn||{}),hC=(n=>(n[n.Document=0]="Document",n[n.DocumentType=1]="DocumentType",n[n.Element=2]="Element",n[n.Text=3]="Text",n[n.CDATA=4]="CDATA",n[n.Comment=5]="Comment",n))(hC||{});pp=class{constructor(){k(this,"length",0),k(this,"head",null),k(this,"tail",null)}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let r=0;r<e;r++)t=t?.next||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&bx(e.previousSibling)){let r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&bx(e.nextSibling)&&e.nextSibling.__ln.previous){let r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;t.next===null&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}},wx=(n,e)=>`${n}@${e}`,mp=class{constructor(){k(this,"frozen",!1),k(this,"locked",!1),k(this,"texts",[]),k(this,"attributes",[]),k(this,"attributeMap",new WeakMap),k(this,"removes",[]),k(this,"mapRemoves",[]),k(this,"movedMap",{}),k(this,"addedSet",new Set),k(this,"movedSet",new Set),k(this,"droppedSet",new Set),k(this,"removesSubTreeCache",new Set),k(this,"mutationCb"),k(this,"blockClass"),k(this,"blockSelector"),k(this,"maskTextClass"),k(this,"maskTextSelector"),k(this,"inlineStylesheet"),k(this,"maskInputOptions"),k(this,"maskTextFn"),k(this,"maskInputFn"),k(this,"keepIframeSrcFn"),k(this,"recordCanvas"),k(this,"inlineImages"),k(this,"slimDOMOptions"),k(this,"dataURLOptions"),k(this,"doc"),k(this,"mirror"),k(this,"iframeManager"),k(this,"stylesheetManager"),k(this,"shadowDomManager"),k(this,"canvasManager"),k(this,"processedNodeManager"),k(this,"unattachedDoc"),k(this,"processMutations",e=>{e.forEach(this.processMutation),this.emit()}),k(this,"emit",()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,r=new pp,i=a=>{let u=a,c=ao;for(;c===ao;)u=u&&u.nextSibling,c=u&&this.mirror.getId(u);return c},o=a=>{let u=te.parentNode(a);if(!u||!dC(a))return;let c=!1;if(a.nodeType===Node.TEXT_NODE){let p=u.tagName;if(p==="TEXTAREA")return;p==="STYLE"&&this.addedSet.has(u)&&(c=!0)}let f=io(u)?this.mirror.getId(fC(a)):this.mirror.getId(u),d=i(a);if(f===-1||d===-1)return r.addNode(a);let h=Dn(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{uC(p,this.mirror)&&this.iframeManager.addIframe(p),cC(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),dp(a)&&this.shadowDomManager.addShadowRoot(te.shadowRoot(a),this.doc)},onIframeLoad:(p,v)=>{this.iframeManager.attachIframe(p,v),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,v)=>{this.stylesheetManager.attachLinkElement(p,v)},cssCaptured:c});h&&(e.push({parentId:f,nextId:d,node:h}),t.add(h.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let a of this.movedSet)Sx(this.removesSubTreeCache,a,this.mirror)&&!this.movedSet.has(te.parentNode(a))||o(a);for(let a of this.addedSet)!Ex(this.droppedSet,a)&&!Sx(this.removesSubTreeCache,a,this.mirror)||Ex(this.movedSet,a)?o(a):this.droppedSet.add(a);let s=null;for(;r.length;){let a=null;if(s){let u=this.mirror.getId(te.parentNode(s.value)),c=i(s.value);u!==-1&&c!==-1&&(a=s)}if(!a){let u=r.tail;for(;u;){let c=u;if(u=u.previous,c){let f=this.mirror.getId(te.parentNode(c.value));if(i(c.value)===-1)continue;if(f!==-1){a=c;break}else{let h=c.value,p=te.parentNode(h);if(p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let v=te.host(p);if(this.mirror.getId(v)!==-1){a=c;break}}}}}}if(!a){for(;r.head;)r.removeNode(r.head.value);break}s=a.previous,r.removeNode(a.value),o(a.value)}let l={texts:this.texts.map(a=>{let u=a.node,c=te.parentNode(u);return c&&c.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(c),{id:this.mirror.getId(u),value:a.value}}).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{let{attributes:u}=a;if(typeof u.style=="string"){let c=JSON.stringify(a.styleDiff),f=JSON.stringify(a._unchangedStyles);c.length<u.style.length&&(c+f).split("var(").length===u.style.split("var(").length&&(u.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:u}}).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:e};!l.texts.length&&!l.attributes.length&&!l.removes.length&&!l.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(l))}),k(this,"genTextAreaValueMutation",e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t));let r=Array.from(te.childNodes(e),i=>te.textContent(i)||"").join("");t.attributes.value=El({element:e,maskInputOptions:this.maskInputOptions,tagName:e.tagName,type:xl(e),value:r,maskInputFn:this.maskInputFn})}),k(this,"processMutation",e=>{if(!Ph(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{let t=te.textContent(e.target);!vt(e.target,this.blockClass,this.blockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:Ux(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,aC(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,r=e.attributeName,i=e.target.getAttribute(r);if(r==="value"){let s=xl(t);i=El({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:s,value:i,maskInputFn:this.maskInputFn})}if(vt(e.target,this.blockClass,this.blockSelector,!1)||i===e.oldValue)return;let o=this.attributeMap.get(e.target);if(t.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!t.contentDocument)r="rr_src";else return;if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),r==="type"&&t.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&t.setAttribute("data-rr-is-password","true"),!Dx(t.tagName,r))if(o.attributes[r]=Lx(this.doc,Xr(t.tagName),Xr(r),i),r==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");e.oldValue&&s.setAttribute("style",e.oldValue);for(let l of Array.from(t.style)){let a=t.style.getPropertyValue(l),u=t.style.getPropertyPriority(l);a!==s.style.getPropertyValue(l)||u!==s.style.getPropertyPriority(l)?u===""?o.styleDiff[l]=a:o.styleDiff[l]=[a,u]:o._unchangedStyles[l]=[a,u]}for(let l of Array.from(s.style))t.style.getPropertyValue(l)===""&&(o.styleDiff[l]=!1)}else r==="open"&&t.tagName==="DIALOG"&&(t.matches("dialog:modal")?o.attributes.rr_open_mode="modal":o.attributes.rr_open_mode="non-modal");break}case"childList":{if(vt(e.target,this.blockClass,this.blockSelector,!0))return;if(e.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(e.target);return}e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let r=this.mirror.getId(t),i=io(e.target)?this.mirror.getId(te.host(e.target)):this.mirror.getId(e.target);vt(e.target,this.blockClass,this.blockSelector,!1)||Ph(t,this.mirror,this.slimDOMOptions)||!V$(t,this.mirror)||(this.addedSet.has(t)?(vp(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&r===-1||lC(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[wx(r,i)]?vp(this.movedSet,t):(this.removes.push({parentId:i,id:r,isShadow:io(e.target)&&oo(e.target)?!0:void 0}),q$(t,this.removesSubTreeCache))),this.mapRemoves.push(t))});break}}}),k(this,"genAdds",(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Ph(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let r=null;t&&this.mirror.hasNode(t)&&(r=this.mirror.getId(t)),r&&r!==-1&&(this.movedMap[wx(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);vt(e,this.blockClass,this.blockSelector,!1)||(te.childNodes(e).forEach(r=>this.genAdds(r)),dp(e)&&te.childNodes(te.shadowRoot(e)).forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}})}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};ae=n=>so?(...t)=>{try{return n(...t)}catch(r){if(so&&so(r)===!0)return;throw r}}:n;Yr=[];eF=["INPUT","TEXTAREA","SELECT"],_x=new WeakMap;Dl=class{constructor(e){k(this,"iframeIdToRemoteIdMap",new WeakMap),k(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,r,i){let o=r||this.getIdToRemoteIdMap(e),s=i||this.getRemoteIdToIdMap(e),l=o.get(t);return l||(l=this.generateIdFn(),o.set(t,l),s.set(l,t)),l}getIds(e,t){let r=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map(o=>this.getId(e,o,r,i))}getRemoteId(e,t,r){let i=r||this.getRemoteIdToIdMap(e);if(typeof t!="number")return t;let o=i.get(t);return o||-1}getRemoteIds(e,t){let r=this.getRemoteIdToIdMap(e);return t.map(i=>this.getRemoteId(e,i,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}},gp=class{constructor(e){k(this,"iframes",new WeakMap),k(this,"crossOriginIframeMap",new WeakMap),k(this,"crossOriginIframeMirror",new Dl(Mx)),k(this,"crossOriginIframeStyleMirror"),k(this,"crossOriginIframeRootIdMap",new WeakMap),k(this,"mirror"),k(this,"mutationCb"),k(this,"wrappedEmit"),k(this,"loadListener"),k(this,"stylesheetManager"),k(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Dl(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,i;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((r=e.contentWindow)==null||r.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){let t=e;if(t.data.type!=="rrweb"||t.origin!==t.data.origin||!e.source)return;let i=this.crossOriginIframeMap.get(e.source);if(!i)return;let o=this.transformCrossOriginEvent(i,t.data.event);o&&this.wrappedEmit(o,t.data.isCheckout)}transformCrossOriginEvent(e,t){var r;switch(t.type){case de.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let i=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(t.data.node,i),{timestamp:t.timestamp,type:de.IncrementalSnapshot,data:{source:ie.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case de.Meta:case de.Load:case de.DomContentLoaded:return!1;case de.Plugin:return t;case de.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case de.IncrementalSnapshot:switch(t.data.source){case ie.Mutation:return t.data.adds.forEach(i=>{this.replaceIds(i,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,e);let o=this.crossOriginIframeRootIdMap.get(e);o&&this.patchRootIdOnNode(i.node,o)}),t.data.removes.forEach(i=>{this.replaceIds(i,e,["parentId","id"])}),t.data.attributes.forEach(i=>{this.replaceIds(i,e,["id"])}),t.data.texts.forEach(i=>{this.replaceIds(i,e,["id"])}),t;case ie.Drag:case ie.TouchMove:case ie.MouseMove:return t.data.positions.forEach(i=>{this.replaceIds(i,e,["id"])}),t;case ie.ViewportResize:return!1;case ie.MediaInteraction:case ie.MouseInteraction:case ie.Scroll:case ie.CanvasMutation:case ie.Input:return this.replaceIds(t.data,e,["id"]),t;case ie.StyleSheetRule:case ie.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case ie.Font:return t;case ie.Selection:return t.data.ranges.forEach(i=>{this.replaceIds(i,e,["start","end"])}),t;case ie.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),(r=t.data.styles)==null||r.forEach(i=>{this.replaceStyleIds(i,e,["styleId"])}),t}}return!1}replace(e,t,r,i){for(let o of i)!Array.isArray(t[o])&&typeof t[o]!="number"||(Array.isArray(t[o])?t[o]=e.getIds(r,t[o]):t[o]=e.getId(r,t[o]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,t)})}patchRootIdOnNode(e,t){e.type!==hC.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,t)})}},yp=class{constructor(e){k(this,"shadowDoms",new WeakSet),k(this,"mutationCb"),k(this,"scrollCb"),k(this,"bypassOptions"),k(this,"mirror"),k(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!oo(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);let r=mC({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(vC({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(te.host(e))),this.restoreHandlers.push(gC({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){let r=this;this.restoreHandlers.push(zn(e.prototype,"attachShadow",function(i){return function(o){let s=i.call(this,o),l=te.shadowRoot(this);return l&&dC(this)&&r.addShadowRoot(l,t),s}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}},Un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(no=0;no<Un.length;no++)cF[Un.charCodeAt(no)]=no;fF=function(n){var e=new Uint8Array(n),t,r=e.length,i="";for(t=0;t<r;t+=3)i+=Un[e[t]>>2],i+=Un[(e[t]&3)<<4|e[t+1]>>4],i+=Un[(e[t+1]&15)<<2|e[t+2]>>6],i+=Un[e[t+2]&63];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i},Cx=new Map;yC=(n,e,t)=>{if(!n||!(wC(n,e)||typeof n=="object"))return;let r=n.constructor.name,i=dF(t,r),o=i.indexOf(n);return o===-1&&(o=i.length,i.push(n)),o};bC=(n,e,t)=>n.map(r=>bl(r,e,t)),wC=(n,e)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof e[i]=="function").find(i=>n instanceof e[i]);SC="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",vF=n=>Uint8Array.from(atob(n),e=>e.charCodeAt(0)),Tx=typeof window<"u"&&window.Blob&&new Blob([vF(SC)],{type:"text/javascript;charset=utf-8"});bp=class{constructor(e){k(this,"pendingCanvasMutations",new Map),k(this,"rafStamps",{latestId:0,invokeId:null}),k(this,"mirror"),k(this,"mutationCb"),k(this,"resetObservers"),k(this,"frozen",!1),k(this,"locked",!1),k(this,"processMutation",(a,u)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(u)});let{sampling:t="all",win:r,blockClass:i,blockSelector:o,recordCanvas:s,dataURLOptions:l}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,s&&t==="all"&&this.initCanvasMutationObserver(r,i,o),s&&typeof t=="number"&&this.initCanvasFPSObserver(t,r,i,o,{dataURLOptions:l})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,t,r,i,o){let s=Ix(t,r,i,!0),l=new Map,a=new gF;a.onmessage=p=>{let{id:v}=p.data;if(l.set(v,!1),!("base64"in p.data))return;let{base64:m,type:y,width:g,height:b}=p.data;this.mutationCb({id:v,type:jn["2D"],commands:[{property:"clearRect",args:[0,0,g,b]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:m}],type:y}]},0,0]}]})};let u=1e3/e,c=0,f,d=()=>{let p=[];return t.document.querySelectorAll("canvas").forEach(v=>{vt(v,r,i,!0)||p.push(v)}),p},h=p=>{if(c&&p-c<u){f=requestAnimationFrame(h);return}c=p,d().forEach(async v=>{var m;let y=this.mirror.getId(v);if(l.get(y)||v.width===0||v.height===0)return;if(l.set(y,!0),["webgl","webgl2"].includes(v.__context)){let b=v.getContext(v.__context);((m=b?.getContextAttributes())==null?void 0:m.preserveDrawingBuffer)===!1&&b.clear(b.COLOR_BUFFER_BIT)}let g=await createImageBitmap(v);a.postMessage({id:y,bitmap:g,width:v.width,height:v.height,dataURLOptions:o.dataURLOptions},[g])}),f=requestAnimationFrame(h)};f=requestAnimationFrame(h),this.resetObservers=()=>{s(),cancelAnimationFrame(f)}}initCanvasMutationObserver(e,t,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let i=Ix(e,t,r,!1),o=hF(this.processMutation.bind(this),e,t,r),s=mF(this.processMutation.bind(this),e,t,r);this.resetObservers=()=>{i(),o(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{let r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(e);if(!r||t===-1)return;let i=r.map(s=>{let{type:l,...a}=s;return a}),{type:o}=r[0];this.mutationCb({id:t,type:o,commands:i}),this.pendingCanvasMutations.delete(e)}},wp=class{constructor(e){k(this,"trackedLinkElements",new WeakSet),k(this,"mutationCb"),k(this,"adoptedStyleSheetCb"),k(this,"styleMirror",new hp),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(e.length===0)return;let r={id:t,styleIds:[]},i=[];for(let o of e){let s;this.styleMirror.has(o)?s=this.styleMirror.getId(o):(s=this.styleMirror.add(o),i.push({styleId:s,rules:Array.from(o.rules||CSSRule,(l,a)=>({rule:Nx(l,o.href),index:a}))})),r.styleIds.push(s)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}},Sp=class{constructor(){k(this,"nodeMap",new WeakMap),k(this,"active",!1)}inOtherBuffer(e,t){let r=this.nodeMap.get(e);return r&&Array.from(r).some(i=>i!==t)}add(e,t){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}},Ul=!1;try{if(Array.from([1],n=>n*2)[0]!==2){let n=document.createElement("iframe");document.body.appendChild(n),Array.from=((PE=n.contentWindow)==null?void 0:PE.Array.from)||Array.from,document.body.removeChild(n)}}catch(n){console.debug("Unable to override Array.from",n)}Lt=CM();xo.addCustomEvent=(n,e)=>{if(!Ul)throw new Error("please add custom event after start recording");Ke({type:de.Custom,data:{tag:n,payload:e}})};xo.freezePage=()=>{Yr.forEach(n=>n.freeze())};xo.takeFullSnapshot=n=>{if(!Ul)throw new Error("please take full snapshot after start recording");wl(n)};xo.mirror=Lt;(function(n){n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped"})(Rx||(Rx={}))});var _C={};nn(_C,{NetworkObservers:()=>yF});var yF,CC=W(()=>{P();Z();yF=(function(){function n(){this.fetchObserver=null}return n.prototype.start=function(e){this.eventCallback=e,this.observeFetch()},n.prototype.stop=function(){var e;(e=this.fetchObserver)===null||e===void 0||e.call(this),this.fetchObserver=null,this.eventCallback=void 0},n.prototype.notifyEvent=function(e){var t;(t=this.eventCallback)===null||t===void 0||t.call(this,e)},n.prototype.observeFetch=function(){var e=this,t=j();if(t){var r=t.fetch;r&&(t.fetch=function(i,o){return E(e,void 0,void 0,function(){var s,l,a,f,u,c,f,d;return S(this,function(h){switch(h.label){case 0:s=Date.now(),l={timestamp:s,type:"fetch",method:o?.method||"GET",url:i.toString(),requestHeaders:o?.headers},h.label=1;case 1:return h.trys.push([1,3,,4]),[4,r(i,o)];case 2:return a=h.sent(),f=Date.now(),l.status=a.status,l.duration=f-s,u={},a.headers.forEach(function(p,v){u[v]=p}),l.responseHeaders=u,this.notifyEvent(l),[2,a];case 3:throw c=h.sent(),f=Date.now(),l.duration=f-s,d=c,l.error={name:d.name||"UnknownError",message:d.message||"An unknown error occurred"},this.notifyEvent(l),c;case 4:return[2]}})})},this.fetchObserver=function(){t.fetch=r})}},n})()});var fI=MI((Ao,ru)=>{(function(n,e){"use strict";var t="0.7.33",r="",i="?",o="function",s="undefined",l="object",a="string",u="major",c="model",f="name",d="type",h="vendor",p="version",v="architecture",m="console",y="mobile",g="tablet",b="smarttv",w="wearable",x="embedded",_=350,A="Amazon",C="Apple",T="ASUS",R="BlackBerry",M="Browser",$="Chrome",K="Edge",N="Firefox",Y="Google",le="Huawei",G="LG",X="Microsoft",oe="Motorola",ue="Opera",D="Samsung",me="Sharp",Q="Sony",he="Xiaomi",ce="Zebra",je="Facebook",ft=function(re,we){var ne={};for(var Xe in re)we[Xe]&&we[Xe].length%2===0?ne[Xe]=we[Xe].concat(re[Xe]):ne[Xe]=re[Xe];return ne},Pe=function(re){for(var we={},ne=0;ne<re.length;ne++)we[re[ne].toUpperCase()]=re[ne];return we},ze=function(re,we){return typeof re===a?Ye(we).indexOf(Ye(re))!==-1:!1},Ye=function(re){return re.toLowerCase()},Je=function(re){return typeof re===a?re.replace(/[^\d\.]/g,r).split(".")[0]:e},z=function(re,we){if(typeof re===a)return re=re.replace(/^\s\s*/,r),typeof we===s?re:re.substring(0,_)},at=function(re,we){for(var ne=0,Xe,se,Ro,Ne,Yn,Ft;ne<we.length&&!Yn;){var lm=we[ne],um=we[ne+1];for(Xe=se=0;Xe<lm.length&&!Yn;)if(Yn=lm[Xe++].exec(re),Yn)for(Ro=0;Ro<um.length;Ro++)Ft=Yn[++se],Ne=um[Ro],typeof Ne===l&&Ne.length>0?Ne.length===2?typeof Ne[1]==o?this[Ne[0]]=Ne[1].call(this,Ft):this[Ne[0]]=Ne[1]:Ne.length===3?typeof Ne[1]===o&&!(Ne[1].exec&&Ne[1].test)?this[Ne[0]]=Ft?Ne[1].call(this,Ft,Ne[2]):e:this[Ne[0]]=Ft?Ft.replace(Ne[1],Ne[2]):e:Ne.length===4&&(this[Ne[0]]=Ft?Ne[3].call(this,Ft.replace(Ne[1],Ne[2])):e):this[Ne]=Ft||e;ne+=2}},ve=function(re,we){for(var ne in we)if(typeof we[ne]===l&&we[ne].length>0){for(var Xe=0;Xe<we[ne].length;Xe++)if(ze(we[ne][Xe],re))return ne===i?e:ne}else if(ze(we[ne],re))return ne===i?e:ne;return re},Ue={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},wt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ge={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,ue+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[f,ue]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UC"+M]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+M],p],[/\bfocus\/([\w\.]+)/i],[p,[f,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,ue+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,ue+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI "+M]],[/fxios\/([-\w\.]+)/i],[p,[f,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+M]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+M],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,je],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,$+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,$+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,ve,Ue]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,p],[/(cobalt)\/([\w\.]+)/i],[f,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,Ye]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,r,Ye]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,Ye]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[h,D],[d,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[h,D],[d,y]],[/((ipod|iphone)\d+,\d+)/i],[c,[h,C],[d,y]],[/(ipad\d+,\d+)/i],[c,[h,C],[d,g]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[h,C],[d,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[h,C],[d,g]],[/(macintosh);/i],[c,[h,C]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[h,le],[d,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[h,le],[d,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[h,he],[d,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[h,he],[d,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[h,"OPPO"],[d,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[h,"Vivo"],[d,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[h,"Realme"],[d,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[h,oe],[d,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[h,oe],[d,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[h,G],[d,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[h,G],[d,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[h,"Lenovo"],[d,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[h,"Nokia"],[d,y]],[/(pixel c)\b/i],[c,[h,Y],[d,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[h,Y],[d,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,Q],[d,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[h,Q],[d,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[h,"OnePlus"],[d,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[h,A],[d,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[h,A],[d,y]],[/(playbook);[-\w\),; ]+(rim)/i],[c,h,[d,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[h,R],[d,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[h,T],[d,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[h,T],[d,y]],[/(nexus 9)/i],[c,[h,"HTC"],[d,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[c,/_/g," "],[d,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[h,"Acer"],[d,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[h,"Meizu"],[d,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[h,me],[d,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,c,[d,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,c,[d,g]],[/(surface duo)/i],[c,[h,X],[d,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[h,"Fairphone"],[d,y]],[/(u304aa)/i],[c,[h,"AT&T"],[d,y]],[/\bsie-(\w*)/i],[c,[h,"Siemens"],[d,y]],[/\b(rct\w+) b/i],[c,[h,"RCA"],[d,g]],[/\b(venue[\d ]{2,7}) b/i],[c,[h,"Dell"],[d,g]],[/\b(q(?:mv|ta)\w+) b/i],[c,[h,"Verizon"],[d,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[h,"Barnes & Noble"],[d,g]],[/\b(tm\d{3}\w+) b/i],[c,[h,"NuVision"],[d,g]],[/\b(k88) b/i],[c,[h,"ZTE"],[d,g]],[/\b(nx\d{3}j) b/i],[c,[h,"ZTE"],[d,y]],[/\b(gen\d{3}) b.+49h/i],[c,[h,"Swiss"],[d,y]],[/\b(zur\d{3}) b/i],[c,[h,"Swiss"],[d,g]],[/\b((zeki)?tb.*\b) b/i],[c,[h,"Zeki"],[d,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],c,[d,g]],[/\b(ns-?\w{0,9}) b/i],[c,[h,"Insignia"],[d,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[h,"NextBook"],[d,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],c,[d,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],c,[d,y]],[/\b(ph-1) /i],[c,[h,"Essential"],[d,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[h,"Envizen"],[d,g]],[/\b(trio[-\w\. ]+) b/i],[c,[h,"MachSpeed"],[d,g]],[/\btu_(1491) b/i],[c,[h,"Rotor"],[d,g]],[/(shield[\w ]+) b/i],[c,[h,"Nvidia"],[d,g]],[/(sprint) (\w+)/i],[h,c,[d,y]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,X],[d,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[h,ce],[d,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[h,ce],[d,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,c,[d,m]],[/droid.+; (shield) bui/i],[c,[h,"Nvidia"],[d,m]],[/(playstation [345portablevi]+)/i],[c,[h,Q],[d,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[h,X],[d,m]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,D],[d,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,G],[d,b]],[/(apple) ?tv/i],[h,[c,C+" TV"],[d,b]],[/crkey/i],[[c,$+"cast"],[h,Y],[d,b]],[/droid.+aft(\w)( bui|\))/i],[c,[h,A],[d,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[h,me],[d,b]],[/(bravia[\w ]+)( bui|\))/i],[c,[h,Q],[d,b]],[/(mitv-\w{5}) bui/i],[c,[h,he],[d,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,z],[c,z],[d,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,b]],[/((pebble))app/i],[h,c,[d,w]],[/droid.+; (glass) \d/i],[c,[h,Y],[d,w]],[/droid.+; (wt63?0{2,3})\)/i],[c,[h,ce],[d,w]],[/(quest( 2)?)/i],[c,[h,je],[d,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[d,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[d,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,y]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,K+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[p,ve,wt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[p,ve,wt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[f,$+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,p]]},lt=function(re,we){if(typeof re===l&&(we=re,re=e),!(this instanceof lt))return new lt(re,we).getResult();var ne=re||(typeof n!==s&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:r),Xe=we?ft(ge,we):ge;return this.getBrowser=function(){var se={};return se[f]=e,se[p]=e,at.call(se,ne,Xe.browser),se.major=Je(se.version),se},this.getCPU=function(){var se={};return se[v]=e,at.call(se,ne,Xe.cpu),se},this.getDevice=function(){var se={};return se[h]=e,se[c]=e,se[d]=e,at.call(se,ne,Xe.device),se},this.getEngine=function(){var se={};return se[f]=e,se[p]=e,at.call(se,ne,Xe.engine),se},this.getOS=function(){var se={};return se[f]=e,se[p]=e,at.call(se,ne,Xe.os),se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ne},this.setUA=function(se){return ne=typeof se===a&&se.length>_?z(se,_):se,this},this.setUA(ne),this};lt.VERSION=t,lt.BROWSER=Pe([f,p,u]),lt.CPU=Pe([v]),lt.DEVICE=Pe([c,h,d,m,y,b,g,w,x]),lt.ENGINE=lt.OS=Pe([f,p]),typeof Ao!==s?(typeof ru!==s&&ru.exports&&(Ao=ru.exports=lt),Ao.UAParser=lt):typeof define===o&&define.amd?define(function(){return lt}):typeof n!==s&&(n.UAParser=lt);var rn=typeof n!==s&&(n.jQuery||n.Zepto);if(rn&&!rn.ua){var To=new lt;rn.ua=To.getResult(),rn.ua.get=function(){return To.getUA()},rn.ua.set=function(re){To.setUA(re);var we=To.getResult();for(var ne in we)rn.ua[ne]=we[ne]}}})(typeof window=="object"?window:Ao)});var am={};nn(am,{Types:()=>Os,add:()=>R3,createInstance:()=>sm,experiment:()=>A3,extendSession:()=>O3,flush:()=>P3,getDeviceId:()=>N3,getSessionId:()=>k3,getUserId:()=>M3,groupIdentify:()=>L3,identify:()=>D3,initAll:()=>I3,logEvent:()=>U3,remove:()=>$3,reset:()=>F3,revenue:()=>B3,setDeviceId:()=>G3,setGroup:()=>W3,setOptOut:()=>V3,setSessionId:()=>j3,setTransport:()=>z3,setUserId:()=>H3,sr:()=>T3,track:()=>q3});P();Z();P();Z();P();var di=function(n,e){return typeof n=="boolean"?n:n?.[e]!==!1},Xu=function(n){return di(n,"attribution")},Ev=function(n){return di(n,"fileDownloads")},xv=function(n){return di(n,"formInteractions")},Zu=function(n){return di(n,"pageViews")},Ju=function(n){return di(n,"sessions")},Qu=function(n){return typeof n=="object"&&(n.networkTracking===!0||typeof n.networkTracking=="object")},ec=function(n){return typeof n=="boolean"?n:typeof n=="object"&&(n.elementInteractions===!0||typeof n.elementInteractions=="object")},_v=function(n){return typeof n=="object"&&n.webVitals===!0},tc=function(n){return typeof n=="object"&&(n.frustrationInteractions===!0||typeof n.frustrationInteractions=="object")},Cv=function(n){if(ec(n.autocapture)&&typeof n.autocapture=="object"&&typeof n.autocapture.elementInteractions=="object")return n.autocapture.elementInteractions},Iv=function(n){if(tc(n.autocapture)&&typeof n.autocapture=="object"&&typeof n.autocapture.frustrationInteractions=="object")return n.autocapture.frustrationInteractions},Av=function(n){var e;if(Qu(n.autocapture)){var t=void 0;return typeof n.autocapture=="object"&&typeof n.autocapture.networkTracking=="object"?t=n.autocapture.networkTracking:n.networkTrackingOptions&&(t=n.networkTrackingOptions),I(I({},t),{captureRules:(e=t?.captureRules)===null||e===void 0?void 0:e.map(function(r){var i;if(r.urls&&r.hosts){var o=JSON.stringify(r.hosts),s=JSON.stringify(r.urls);return(i=n.loggerProvider)===null||i===void 0||i.warn("Found network capture rule with both urls='".concat(s,"' and hosts='").concat(o,"' set. ")+"Definition of urls takes precedence over hosts, so ignoring hosts."),I(I({},r),{hosts:void 0})}return r})})}},Tv=function(n){var e=function(){return!1},t=void 0,r,i=n.pageCounter,o=Zu(n.defaultTracking);return o&&(e=void 0,r=void 0,n.defaultTracking&&typeof n.defaultTracking=="object"&&n.defaultTracking.pageViews&&typeof n.defaultTracking.pageViews=="object"&&("trackOn"in n.defaultTracking.pageViews&&(e=n.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in n.defaultTracking.pageViews&&(t=n.defaultTracking.pageViews.trackHistoryChanges),"eventType"in n.defaultTracking.pageViews&&n.defaultTracking.pageViews.eventType&&(r=n.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:t,eventType:r,pageCounter:i}},Rv=function(n){return Xu(n.defaultTracking)&&n.defaultTracking&&typeof n.defaultTracking=="object"&&n.defaultTracking.attribution&&typeof n.defaultTracking.attribution=="object"?I({},n.defaultTracking.attribution):{}};var zo=function(n,e){for(var t=0;t<e.length;t++){var r=e[t],i=r.name,o=r.args,s=r.resolve,l=n&&n[i];if(typeof l=="function"){var a=l.apply(n,o);typeof s=="function"&&s(a?.promise)}}return n},Ho=function(n){var e=n;return e&&e._q!==void 0};P();Z();var qo="2.23.7";var Ov="amplitude-ts";var aA="Web",lA="$remote",Pv=(function(){function n(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(Ov,"/").concat(qo),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return n.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},n.prototype.execute=function(e){var t,r;return E(this,void 0,void 0,function(){var i,o,s,l;return S(this,function(a){return i=new Date().getTime(),o=(t=this.config.lastEventId)!==null&&t!==void 0?t:-1,s=(r=e.event_id)!==null&&r!==void 0?r:o+1,this.config.lastEventId=s,e.time||(this.config.lastEventTime=i),l=I(I(I(I(I(I(I(I({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:aA}),this.config.trackingOptions.language&&{language:Uu()}),this.config.trackingOptions.ipAddress&&{ip:lA}),{insert_id:dt(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:s,library:this.library,user_agent:this.userAgent}),[2,l]})})},n})();P();Z();P();Z();var Ko=1e3,rc=(function(n){ee(e,n);function e(t){var r=this,i,o,s;try{s=(i=j())===null||i===void 0?void 0:i.localStorage}catch(l){(o=t?.loggerProvider)===null||o===void 0||o.debug("Failed to access localStorage. error=".concat(JSON.stringify(l))),s=void 0}return r=n.call(this,s)||this,r.loggerProvider=t?.loggerProvider,r}return e.prototype.set=function(t,r){var i;return E(this,void 0,void 0,function(){var o;return S(this,function(s){switch(s.label){case 0:return Array.isArray(r)&&r.length>Ko?(o=r.length-Ko,[4,n.prototype.set.call(this,t,r.slice(0,Ko))]):[3,2];case 1:return s.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(Ko,".")),[3,4];case 2:return[4,n.prototype.set.call(this,t,r)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},e})(si);P();Z();var Nv=(function(n){ee(e,n);function e(){var t;return n.call(this,(t=j())===null||t===void 0?void 0:t.sessionStorage)||this}return e})(si);P();Z();var kv=(function(n){ee(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={done:4},t}return e.prototype.send=function(t,r){return E(this,void 0,void 0,function(){var i=this;return S(this,function(o){return[2,new Promise(function(s,l){typeof XMLHttpRequest>"u"&&l(new Error("XHRTransport is not supported."));var a=new XMLHttpRequest;a.open("POST",t,!0),a.onreadystatechange=function(){if(a.readyState===i.state.done){var u=a.responseText;try{s(i.buildResponse(JSON.parse(u)))}catch{s(i.buildResponse({code:a.status}))}}},a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Accept","*/*"),a.send(JSON.stringify(r))})]})})},e})(nr);P();Z();var Mv=(function(n){ee(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.send=function(t,r){return E(this,void 0,void 0,function(){var i=this;return S(this,function(o){return[2,new Promise(function(s,l){var a=j();if(!a?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var u=JSON.stringify(r),c=a.navigator.sendBeacon(t,JSON.stringify(r));return s(c?i.buildResponse({code:200,events_ingested:r.events.length,payload_size_bytes:u.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(f){l(f)}})]})})},e})(nr);P();Z();var Lv=function(n,e,t){return t===void 0&&(t=!0),E(void 0,void 0,void 0,function(){var r,i,o,s,l,a,u,c,f;return S(this,function(d){switch(d.label){case 0:return r=Du(n),[4,e.getRaw(r)];case 1:return i=d.sent(),i?t?[4,e.remove(r)]:[3,3]:[2,{optOut:!1}];case 2:d.sent(),d.label=3;case 3:return o=O(i.split("."),6),s=o[0],l=o[1],a=o[2],u=o[3],c=o[4],f=o[5],[2,{deviceId:s,userId:uA(l),sessionId:nc(u),lastEventId:nc(f),lastEventTime:nc(c),optOut:!!a}]}})})},nc=function(n){var e=parseInt(n,32);if(!isNaN(e))return e},uA=function(n){if(!(!atob||!escape||!n))try{return decodeURIComponent(escape(atob(n)))}catch{return}};var xt="[Amplitude]",fG="".concat(xt," Page Viewed"),ic="".concat(xt," Form Started"),Dv="".concat(xt," Form Submitted"),Uv="".concat(xt," File Downloaded"),oc="session_start",sc="session_end",$v="".concat(xt," File Extension"),Fv="".concat(xt," File Name"),Bv="".concat(xt," Link ID"),Gv="".concat(xt," Link Text"),Wv="".concat(xt," Link URL"),Yo="".concat(xt," Form ID"),Xo="".concat(xt," Form Name"),Zo="".concat(xt," Form Destination"),hi="cookie",Vv="US";var cA=(function(n){ee(e,n);function e(t,r,i,o,s,l,a,u,c,f,d,h,p,v,m,y,g,b,w,x,_,A,C,T,R,M,$,K,N,Y,le,G,X,oe,ue){i===void 0&&(i=new ii),o===void 0&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),u===void 0&&(u=1e3),c===void 0&&(c=5),f===void 0&&(f=30),d===void 0&&(d=hi),y===void 0&&(y=new Gt),g===void 0&&(g=He.Warn),w===void 0&&(w=!1),x===void 0&&(x=!1),C===void 0&&(C=""),T===void 0&&(T=Vv),M===void 0&&(M=1800*1e3),$===void 0&&($=new rc({loggerProvider:y})),K===void 0&&(K={ipAddress:!0,language:!0,platform:!0}),N===void 0&&(N="fetch"),Y===void 0&&(Y=!1),le===void 0&&(le=!0);var D=n.call(this,{apiKey:t,storageProvider:$,transportProvider:ac(N)})||this;return D.apiKey=t,D.appVersion=r,D.cookieOptions=o,D.defaultTracking=s,D.autocapture=l,D.flushIntervalMillis=u,D.flushMaxRetries=c,D.flushQueueSize=f,D.identityStorage=d,D.ingestionMetadata=h,D.instanceName=p,D.loggerProvider=y,D.logLevel=g,D.minIdLength=b,D.offline=w,D.partnerId=_,D.plan=A,D.serverUrl=C,D.serverZone=T,D.sessionTimeout=M,D.storageProvider=$,D.trackingOptions=K,D.transport=N,D.useBatch=Y,D.fetchRemoteConfig=le,D.networkTrackingOptions=ue,D.version=qo,D._optOut=!1,D._cookieStorage=i,D.deviceId=a,D.lastEventId=v,D.lastEventTime=m,D.optOut=x,D.sessionId=R,D.pageCounter=X,D.userId=G,D.debugLogsEnabled=oe,D.loggerProvider.enable(oe?He.Debug:D.logLevel),D.networkTrackingOptions=ue,D}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(t){this._cookieStorage!==t&&(this._cookieStorage=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(t){this._deviceId!==t&&(this._deviceId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(t){this._userId!==t&&(this._userId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(t){this._sessionId!==t&&(this._sessionId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut!==t&&(this._optOut=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(t){this._lastEventTime!==t&&(this._lastEventTime=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(t){this._lastEventId!==t&&(this._lastEventId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(t){this._pageCounter!==t&&(this._pageCounter=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugLogsEnabled",{set:function(t){this._debugLogsEnabled!==t&&(this._debugLogsEnabled=t,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var t={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(Go(this.apiKey),t)},e})(ti);var jv=function(n,e,t){return e===void 0&&(e={}),E(void 0,void 0,void 0,function(){var r,i,o,s,l,a,u,c,f,d,h,p,v,m,y,g,b,w,x,_,A,C,T,R,M,$,K,N,Y,le,G,X,oe,ue,D,me,Q,he,ce,je,ft,Pe,ze,Ye,Je;return S(this,function(z){switch(z.label){case 0:return r=e.identityStorage||hi,A={},r===hi?[3,1]:(o="",[3,5]);case 1:return(T=(C=e.cookieOptions)===null||C===void 0?void 0:C.domain)!==null&&T!==void 0?(s=T,[3,4]):[3,2];case 2:return[4,dA()];case 3:s=z.sent(),z.label=4;case 4:o=s,z.label=5;case 5:return i=I.apply(void 0,[(A.domain=o,A.expiration=365,A.sameSite="Lax",A.secure=!1,A.upgrade=!0,A),e.cookieOptions]),l=fA(e.identityStorage,i),[4,Lv(n,l,(M=(R=e.cookieOptions)===null||R===void 0?void 0:R.upgrade)!==null&&M!==void 0?M:!0)];case 6:return a=z.sent(),[4,l.get(Go(n))];case 7:return u=z.sent(),c=yr(),f=c.ampTimestamp?Number(c.ampTimestamp):void 0,d=f?Date.now()<f:!0,h=(le=(Y=(N=($=e.deviceId)!==null&&$!==void 0?$:d?(K=c.ampDeviceId)!==null&&K!==void 0?K:c.deviceId:void 0)!==null&&N!==void 0?N:u?.deviceId)!==null&&Y!==void 0?Y:a.deviceId)!==null&&le!==void 0?le:dt(),p=(G=u?.lastEventId)!==null&&G!==void 0?G:a.lastEventId,v=(X=u?.lastEventTime)!==null&&X!==void 0?X:a.lastEventTime,m=(ue=(oe=e.optOut)!==null&&oe!==void 0?oe:u?.optOut)!==null&&ue!==void 0?ue:a.optOut,y=(D=u?.sessionId)!==null&&D!==void 0?D:a.sessionId,g=(Q=(me=e.userId)!==null&&me!==void 0?me:u?.userId)!==null&&Q!==void 0?Q:a.userId,t.previousSessionDeviceId=(he=u?.deviceId)!==null&&he!==void 0?he:a.deviceId,t.previousSessionUserId=(ce=u?.userId)!==null&&ce!==void 0?ce:a.userId,b={ipAddress:(ft=(je=e.trackingOptions)===null||je===void 0?void 0:je.ipAddress)!==null&&ft!==void 0?ft:!0,language:(ze=(Pe=e.trackingOptions)===null||Pe===void 0?void 0:Pe.language)!==null&&ze!==void 0?ze:!0,platform:(Je=(Ye=e.trackingOptions)===null||Ye===void 0?void 0:Ye.platform)!==null&&Je!==void 0?Je:!0},w=u?.pageCounter,x=u?.debugLogsEnabled,e.autocapture!==void 0&&(e.defaultTracking=e.autocapture),_=new cA(n,e.appVersion,l,i,e.defaultTracking,e.autocapture,h,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,r,e.ingestionMetadata,e.instanceName,p,v,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,m,e.partnerId,e.plan,e.serverUrl,e.serverZone,y,e.sessionTimeout,e.storageProvider,b,e.transport,e.useBatch,e.fetchRemoteConfig,g,w,x,e.networkTrackingOptions),[4,_.storageProvider.isEnabled()];case 8:return z.sent()||(_.loggerProvider.warn("Storage provider ".concat(_.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),_.storageProvider=new ii),[2,_]}})})},fA=function(n,e){switch(n===void 0&&(n=hi),e===void 0&&(e={}),n){case"localStorage":return new rc;case"sessionStorage":return new Nv;case"none":return new ii;case"cookie":default:return new oi(I(I({},e),{expirationDays:e.expiration}))}},ac=function(n){return n==="xhr"?new kv:n==="beacon"?new Mv:new ai},dA=function(n){return E(void 0,void 0,void 0,function(){var e,t,r,i,o,o,s,l,a,u;return S(this,function(c){switch(c.label){case 0:return[4,new oi().isEnabled()];case 1:if(!c.sent()||!n&&(typeof location>"u"||!location.hostname))return[2,""];for(e=n??location.hostname,t=e.split("."),r=[],i="AMP_TLDTEST",o=t.length-2;o>=0;--o)r.push(t.slice(o).join("."));o=0,c.label=2;case 2:return o<r.length?(s=r[o],l={domain:"."+s},a=new oi(l),[4,a.set(i,1)]):[3,7];case 3:return c.sent(),[4,a.get(i)];case 4:return u=c.sent(),u?[4,a.remove(i)]:[3,6];case 5:return c.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})};P();P();var pi=function(){var n="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[n]<"u")return globalThis[n];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global};var lc=function(){var n,e=pi();if(!(!((n=e?.location)===null||n===void 0)&&n.search))return{};var t=e.location.search.substring(1).split("&").filter(Boolean),r=t.reduce(function(i,o){var s=o.split("=",2),l=zv(s[0]),a=zv(s[1]);return a&&(i[l]=a),i},{});return r},zv=function(n){n===void 0&&(n="");try{return decodeURIComponent(n)}catch{return""}};var Hv="utm_campaign",qv="utm_content",Kv="utm_id",Yv="utm_medium",Xv="utm_source",Zv="utm_term",uc="dclid",cc="fbclid",fc="gbraid",dc="gclid",hc="ko_click_id",pc="li_fat_id",mc="msclkid",vc="rdt_cid",gc="ttclid",yc="twclid",bc="wbraid";var mi={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rdt_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var wc=(function(){function n(){}return n.prototype.parse=function(){return E(this,void 0,void 0,function(){return S(this,function(e){return[2,I(I(I(I({},mi),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},n.prototype.getUtmParam=function(){var e=lc(),t=e[Hv],r=e[qv],i=e[Kv],o=e[Yv],s=e[Xv],l=e[Zv];return{utm_campaign:t,utm_content:r,utm_id:i,utm_medium:o,utm_source:s,utm_term:l}},n.prototype.getReferrer=function(){var e,t,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=(t=(e=r.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&t!==void 0?t:void 0}catch{}return r},n.prototype.getClickIds=function(){var e,t=lc();return e={},e[uc]=t[uc],e[cc]=t[cc],e[fc]=t[fc],e[dc]=t[dc],e[hc]=t[hc],e[pc]=t[pc],e[mc]=t[mc],e[vc]=t[vc],e[gc]=t[gc],e[yc]=t[yc],e[bc]=t[bc],e},n})();Bo();var Sc=function(n){return n===void 0&&(n="$default_instance"),an.getInstance(n)};var Et;(function(n){n.SET="$set",n.SET_ONCE="$setOnce",n.ADD="$add",n.APPEND="$append",n.PREPEND="$prepend",n.REMOVE="$remove",n.PREINSERT="$preInsert",n.POSTINSERT="$postInsert",n.UNSET="$unset",n.CLEAR_ALL="$clearAll"})(Et||(Et={}));var Ec;(function(n){n.REVENUE_PRODUCT_ID="$productId",n.REVENUE_QUANTITY="$quantity",n.REVENUE_PRICE="$price",n.REVENUE_TYPE="$revenueType",n.REVENUE_CURRENCY="$currency",n.REVENUE="$revenue"})(Ec||(Ec={}));var xc;(function(n){n.IDENTIFY="$identify",n.GROUP_IDENTIFY="$groupidentify",n.REVENUE="revenue_amount"})(xc||(xc={}));var Jv=function(n){var e={};for(var t in n){var r=n[t];r&&(e[t]=r)}return e};var hA="[Amplitude] Page Viewed",_c=function(n){n===void 0&&(n={});var e,t=pi(),r=void 0,i=!1,o,s=n.trackOn,l=n.trackHistoryChanges,a=n.eventType,u=a===void 0?hA:a,c=function(y){var g=y;try{g=decodeURI(y)}catch(b){r?.error("Malformed URI sequence: ",b)}return g},f=function(){return E(void 0,void 0,void 0,function(){var y,g,b;return S(this,function(w){switch(w.label){case 0:return y=c(typeof location<"u"&&location.href||""),b={event_type:u},g=[{}],[4,pA()];case 1:return[2,(b.event_properties=I.apply(void 0,[I.apply(void 0,g.concat([w.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":y,"[Amplitude] Page Path":typeof location<"u"&&c(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":y.split("?")[0]}]),b)]}})})},d=function(){return typeof s>"u"||typeof s=="function"&&s()},h=typeof location<"u"?location.href:null,p=function(){return E(void 0,void 0,void 0,function(){var y,g,b,w,x;return S(this,function(_){switch(_.label){case 0:return y=location.href,g=vA(l,y,h||"")&&d(),h=y,g?(r?.log("Tracking page view event"),e!=null?[3,1]:(b=void 0,[3,3])):[3,4];case 1:return x=(w=e).track,[4,f()];case 2:b=x.apply(w,[_.sent()]),_.label=3;case 3:_.label=4;case 4:return[2]}})})},v=function(){p()},m={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(y,g){return E(void 0,void 0,void 0,function(){var b,w;return S(this,function(x){switch(x.label){case 0:return e=g,o=y,r=y.loggerProvider,r.log("Installing @amplitude/plugin-page-view-tracking-browser"),i=!0,t&&(t.addEventListener("popstate",v),t.history.pushState=new Proxy(t.history.pushState,{apply:function(_,A,C){var T=O(C,3),R=T[0],M=T[1],$=T[2];_.apply(A,[R,M,$]),i&&p()}})),d()?(r.log("Tracking page view event"),w=(b=e).track,[4,f()]):[3,2];case 1:w.apply(b,[x.sent()]),x.label=2;case 2:return[2]}})})},execute:function(y){return E(void 0,void 0,void 0,function(){var g;return S(this,function(b){switch(b.label){case 0:return s==="attribution"&&mA(y)?(r?.log("Enriching campaign event to page view event with campaign parameters"),[4,f()]):[3,2];case 1:g=b.sent(),y.event_type=g.event_type,y.event_properties=I(I({},y.event_properties),g.event_properties),b.label=2;case 2:return o&&y.event_type===u&&(o.pageCounter=o.pageCounter?o.pageCounter+1:1,y.event_properties=I(I({},y.event_properties),{"[Amplitude] Page Counter":o.pageCounter})),[2,y]}})})},teardown:function(){return E(void 0,void 0,void 0,function(){return S(this,function(y){return t&&(t.removeEventListener("popstate",v),i=!1),[2]})})}};return m},pA=function(){return E(void 0,void 0,void 0,function(){var n;return S(this,function(e){switch(e.label){case 0:return n=Jv,[4,new wc().parse()];case 1:return[2,n.apply(void 0,[e.sent()])]}})})},mA=function(n){if(n.event_type==="$identify"&&n.user_properties){var e=n.user_properties,t=e[Et.SET]||{},r=e[Et.UNSET]||{},i=U(U([],O(Object.keys(t)),!1),O(Object.keys(r)),!1);return Object.keys(mi).every(function(o){return i.includes(o)})}return!1},vA=function(n,e,t){switch(n){case"pathOnly":{if(t=="")return!0;var r=new URL(e),i=new URL(t),o=r.origin+r.pathname,s=i.origin+i.pathname;return o!==s}default:return e!==t}};P();Z();var eg=function(){var n,e=[],t=function(u,c,f){u.addEventListener(c,f),e.push({element:u,type:c,handler:f})},r=function(){e.forEach(function(u){var c=u.element,f=u.type,d=u.handler;c?.removeEventListener(f,d)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",o="enrichment",s=function(u,c){return E(void 0,void 0,void 0,function(){var f,d;return S(this,function(h){return f=function(){if(!c){u.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var p=function(m){var y=!1;t(m,"change",function(){var g,b=Qv(m);y||c.track(ic,(g={},g[Yo]=un(m.id),g[Xo]=un(m.name),g[Zo]=b,g)),y=!0}),t(m,"submit",function(){var g,b,w=Qv(m);y||c.track(ic,(g={},g[Yo]=un(m.id),g[Xo]=un(m.name),g[Zo]=w,g)),c.track(Dv,(b={},b[Yo]=un(m.id),b[Xo]=un(m.name),b[Zo]=w,b)),y=!1})},v=Array.from(document.getElementsByTagName("form"));v.forEach(p),typeof MutationObserver<"u"&&(n=new MutationObserver(function(m){m.forEach(function(y){y.addedNodes.forEach(function(g){g.nodeName==="FORM"&&p(g),"querySelectorAll"in g&&typeof g.querySelectorAll=="function"&&Array.from(g.querySelectorAll("form")).map(p)})})}),n.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?f():(d=j(),d?d.addEventListener("load",f):u.loggerProvider.debug("Form interaction tracking is not installed because global is undefined.")),[2]})})},l=function(u){return E(void 0,void 0,void 0,function(){return S(this,function(c){return[2,u]})})},a=function(){return E(void 0,void 0,void 0,function(){return S(this,function(u){return n?.disconnect(),r(),[2]})})};return{name:i,type:o,setup:s,execute:l,teardown:a}},un=function(n){if(typeof n=="string")return n},Qv=function(n){var e=n.getAttribute("action");try{e=new URL(encodeURI(e??""),window.location.href).href}catch{}return e};P();Z();var tg=function(){var n,e=[],t=function(u,c,f){u.addEventListener(c,f),e.push({element:u,type:c,handler:f})},r=function(){e.forEach(function(u){var c=u.element,f=u.type,d=u.handler;c?.removeEventListener(f,d)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",o="enrichment",s=function(u,c){return E(void 0,void 0,void 0,function(){var f,d;return S(this,function(h){return f=function(){if(!c){u.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var p=function(y){var g;try{g=new URL(y.href,window.location.href)}catch{return}var b=v.exec(g.href),w=b?.[1];w&&t(y,"click",function(){var x;w&&c.track(Uv,(x={},x[$v]=w,x[Fv]=g.pathname,x[Bv]=y.id,x[Gv]=y.text,x[Wv]=y.href,x))})},v=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,m=Array.from(document.getElementsByTagName("a"));m.forEach(p),typeof MutationObserver<"u"&&(n=new MutationObserver(function(y){y.forEach(function(g){g.addedNodes.forEach(function(b){b.nodeName==="A"&&p(b),"querySelectorAll"in b&&typeof b.querySelectorAll=="function"&&Array.from(b.querySelectorAll("a")).map(p)})})}),n.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?f():(d=j(),d?d.addEventListener("load",f):u.loggerProvider.debug("File download tracking is not installed because global is undefined.")),[2]})})},l=function(u){return E(void 0,void 0,void 0,function(){return S(this,function(c){return[2,u]})})},a=function(){return E(void 0,void 0,void 0,function(){return S(this,function(u){return n?.disconnect(),r(),[2]})})};return{name:i,type:o,setup:s,execute:l,teardown:a}};var rg=!1,ng=function(n){if(!(rg||n.defaultTracking!==void 0)){var e=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;n.loggerProvider.warn(e),rg=!0}};P();Z();var ig=function(){var n="@amplitude/plugin-network-checker-browser",e="before",t=j(),r=[],i=function(a,u){t?.addEventListener&&(t?.addEventListener(a,u),r.push({type:a,handler:u}))},o=function(){r.forEach(function(a){var u=a.type,c=a.handler;t?.removeEventListener(u,c)}),r=[]},s=function(a,u){return E(void 0,void 0,void 0,function(){return S(this,function(c){return typeof navigator>"u"?(a.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),a.offline=!1,[2]):(a.offline=!navigator.onLine,i("online",function(){a.loggerProvider.debug("Network connectivity changed to online."),a.offline=!1,setTimeout(function(){u.flush()},a.flushIntervalMillis)}),i("offline",function(){a.loggerProvider.debug("Network connectivity changed to offline."),a.offline=!0}),[2])})})},l=function(){return E(void 0,void 0,void 0,function(){return S(this,function(a){return o(),[2]})})};return{name:n,type:e,setup:s,teardown:l}};P();function og(n){var e,t;if(!(typeof n!="object"||n===null)&&!Array.isArray(n)){var r=Object.keys(n);try{for(var i=L(r),o=i.next();!o.done;o=i.next()){var s=o.value;try{var l=n[s];typeof l?.enabled=="boolean"&&(l.enabled?(delete l.enabled,Object.keys(l).length===0&&(n[s]=!0)):n[s]=!1),og(l)}catch{}}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}}function sg(n,e){var t,r,i,o;if(n){og(n);try{e.loggerProvider.debug("Update browser config with remote configuration:",JSON.stringify(n));var s=n;if(s&&"autocapture"in s){if(typeof s.autocapture=="boolean"&&(e.autocapture=s.autocapture),typeof s.autocapture=="object"&&s.autocapture!==null){var l=I({},s.autocapture);if(e.autocapture===void 0&&(e.autocapture=s.autocapture),typeof s.autocapture.elementInteractions=="object"&&s.autocapture.elementInteractions!==null&&(!((i=s.autocapture.elementInteractions.pageUrlAllowlistRegex)===null||i===void 0)&&i.length)){l.elementInteractions=I({},s.autocapture.elementInteractions);var a=l.elementInteractions,u=(o=a.pageUrlAllowlist)!==null&&o!==void 0?o:[],c=[];try{for(var f=L(s.autocapture.elementInteractions.pageUrlAllowlistRegex),d=f.next();!d.done;d=f.next()){var h=d.value;try{c.push(new RegExp(h))}catch(v){e.loggerProvider.warn("Invalid regex pattern: ".concat(h),v)}}}catch(v){t={error:v}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}var p=u.concat(c);a.pageUrlAllowlist=p,delete a.pageUrlAllowlistRegex}typeof e.autocapture=="boolean"&&(e.autocapture=I({attribution:e.autocapture,fileDownloads:e.autocapture,formInteractions:e.autocapture,pageViews:e.autocapture,sessions:e.autocapture,elementInteractions:e.autocapture,webVitals:e.autocapture,frustrationInteractions:e.autocapture},l)),typeof e.autocapture=="object"&&(e.autocapture=I(I({},e.autocapture),l))}e.defaultTracking=e.autocapture}e.loggerProvider.debug("Browser config after remote config update:",JSON.stringify(e))}catch(v){e.loggerProvider.error("Failed to apply remote configuration because of error: ",v)}}}P();Z();P();var cn;(function(n){n.US="US",n.EU="EU",n.STAGING="STAGING"})(cn||(cn={}));var Qe;(function(n){n.Unknown="unknown",n.Skipped="skipped",n.Success="success",n.RateLimit="rate_limit",n.PayloadTooLarge="payload_too_large",n.Invalid="invalid",n.Failed="failed",n.Timeout="Timeout",n.SystemError="SystemError"})(Qe||(Qe={}));var Cc=(function(){function n(){}return n.prototype.send=function(e,t){return Promise.resolve(null)},n.prototype.buildResponse=function(e){var t,r,i,o,s,l,a,u,c,f,d,h,p,v,m,y,g,b,w,x,_,A;if(typeof e!="object")return null;var C=e.code||0,T=this.buildStatus(C);switch(T){case Qe.Success:return{status:T,statusCode:C,body:{eventsIngested:(t=e.events_ingested)!==null&&t!==void 0?t:0,payloadSizeBytes:(r=e.payload_size_bytes)!==null&&r!==void 0?r:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case Qe.Invalid:return{status:T,statusCode:C,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(l=e.events_with_invalid_fields)!==null&&l!==void 0?l:{},eventsWithMissingFields:(a=e.events_with_missing_fields)!==null&&a!==void 0?a:{},eventsWithInvalidIdLengths:(u=e.events_with_invalid_id_lengths)!==null&&u!==void 0?u:{},epsThreshold:(c=e.eps_threshold)!==null&&c!==void 0?c:0,exceededDailyQuotaDevices:(f=e.exceeded_daily_quota_devices)!==null&&f!==void 0?f:{},silencedDevices:(d=e.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(h=e.silenced_events)!==null&&h!==void 0?h:[],throttledDevices:(p=e.throttled_devices)!==null&&p!==void 0?p:{},throttledEvents:(v=e.throttled_events)!==null&&v!==void 0?v:[]}};case Qe.PayloadTooLarge:return{status:T,statusCode:C,body:{error:(m=e.error)!==null&&m!==void 0?m:""}};case Qe.RateLimit:return{status:T,statusCode:C,body:{error:(y=e.error)!==null&&y!==void 0?y:"",epsThreshold:(g=e.eps_threshold)!==null&&g!==void 0?g:0,throttledDevices:(b=e.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(w=e.throttled_users)!==null&&w!==void 0?w:{},exceededDailyQuotaDevices:(x=e.exceeded_daily_quota_devices)!==null&&x!==void 0?x:{},exceededDailyQuotaUsers:(_=e.exceeded_daily_quota_users)!==null&&_!==void 0?_:{},throttledEvents:(A=e.throttled_events)!==null&&A!==void 0?A:[]}};case Qe.Timeout:default:return{status:T,statusCode:C}}},n.prototype.buildStatus=function(e){return e>=200&&e<300?Qe.Success:e===429?Qe.RateLimit:e===413?Qe.PayloadTooLarge:e===408?Qe.Timeout:e>=400&&e<500?Qe.Invalid:e>=500?Qe.Failed:Qe.Unknown},n})();var gA="Network error occurred, remote config fetch failed",yA="Remote config successfully fetched",bA="Remote config fetch rejected due to exceeded retry count",ag="Remote config fetch rejected due to timeout after 5 seconds",lg="Unexpected error occurred",wA="https://sr-client-cfg.amplitude.com/config",SA="https://sr-client-cfg.stag2.amplitude.com/config",EA="https://sr-client-cfg.eu.amplitude.com/config",xA=(function(){function n(e){var t=e.localConfig,r=e.configKeys,i=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteNamespaceConfig=function(o,s){return E(i,void 0,void 0,function(){var l,a,u;return S(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,this.fetchWithTimeout(s)];case 1:return a=c.sent(),a&&(u=a.configs&&a.configs[o],u)?(this.metrics.fetchTimeAPISuccess=Date.now()-l,[2,u]):(this.metrics.fetchTimeAPIFail=Date.now()-l,[2,void 0])}})})},this.getRemoteConfig=function(o,s,l){return E(i,void 0,void 0,function(){var a;return S(this,function(u){switch(u.label){case 0:return[4,this.getRemoteNamespaceConfig(o,l)];case 1:return a=u.sent(),[2,a?.[s]]}})})},this.fetchWithTimeout=function(o){return E(i,void 0,void 0,function(){var s,l,a;return S(this,function(u){switch(u.label){case 0:return s=new AbortController,l=setTimeout(function(){return s.abort()},5e3),[4,this.fetchRemoteConfig(s.signal,o)];case 1:return a=u.sent(),clearTimeout(l),[2,a]}})})},this.fetchRemoteConfig=function(o,s){return E(i,void 0,void 0,function(){var l,a,u,c,f,d,h,p,v,m,y,g,b;return S(this,function(w){switch(w.label){case 0:if(s===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:bA})];if(o.aborted)return[2,this.completeRequest({err:ag})];s!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=s,this.attempts=0),w.label=1;case 1:w.trys.push([1,3,,4]),l=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(a=L(this.configKeys),u=a.next();!u.done;u=a.next())c=u.value,l.append("config_keys",c)}catch(x){y={error:x}}finally{try{u&&!u.done&&(g=a.return)&&g.call(a)}finally{if(y)throw y.error}}return s&&l.set("session_id",String(s)),f={headers:{Accept:"*/*"},method:"GET"},d="".concat(this.getServerUrl(),"?").concat(l.toString()),this.attempts+=1,[4,fetch(d,I(I({},f),{signal:o}))];case 2:if(h=w.sent(),h===null)return[2,this.completeRequest({err:lg})];switch(p=new Cc().buildStatus(h.status),p){case Qe.Success:return this.attempts=0,[2,this.parseAndStoreConfig(h)];case Qe.Failed:return[2,this.retryFetch(o,s)];default:return[2,this.completeRequest({err:gA})]}return[3,4];case 3:return v=w.sent(),m=v,o.aborted?[2,this.completeRequest({err:ag})]:[2,this.completeRequest({err:(b=m.message)!==null&&b!==void 0?b:lg})];case 4:return[2]}})})},this.retryFetch=function(o,s){return E(i,void 0,void 0,function(){var l=this;return S(this,function(a){switch(a.label){case 0:return[4,new Promise(function(u){return setTimeout(u,l.attempts*l.retryTimeout)})];case 1:return a.sent(),[2,this.fetchRemoteConfig(o,s)]}})})},this.parseAndStoreConfig=function(o){return E(i,void 0,void 0,function(){var s;return S(this,function(l){switch(l.label){case 0:return[4,o.json()];case 1:return s=l.sent(),this.completeRequest({success:yA}),[2,s]}})})},this.localConfig=t,this.configKeys=r}return n.prototype.getServerUrl=function(){return this.localConfig.configServerUrl?this.localConfig.configServerUrl:this.localConfig.serverZone===cn.STAGING?SA:this.localConfig.serverZone===cn.EU?EA:wA},n.prototype.completeRequest=function(e){var t=e.err,r=e.success;if(t)throw new Error(t);r&&this.localConfig.loggerProvider.log(r)},n})();var ug=function(n){var e=n.localConfig,t=n.configKeys;return E(void 0,void 0,void 0,function(){return S(this,function(r){return[2,new xA({localConfig:e,configKeys:t})]})})};var cg=ug;var fg="@amplitude/plugin-autocapture-browser",dg="@amplitude/plugin-frustration-browser",vi="[Amplitude] Element Clicked",hg="[Amplitude] Dead Click",Ic="[Amplitude] Rage Click",pg="[Amplitude] Element Changed",mg="[Amplitude] Element ID",vg="[Amplitude] Element Class",Ac="[Amplitude] Element Tag",Tc="[Amplitude] Element Text",gg="[Amplitude] Element Hierarchy",yg="[Amplitude] Element Href",bg="[Amplitude] Element Position Left",wg="[Amplitude] Element Position Top",Sg="[Amplitude] Element Aria Label",Eg="[Amplitude] Element Attributes",xg="[Amplitude] Element Parent Label",Rc="[Amplitude] Page URL",_g="[Amplitude] Page Title",Cg="[Amplitude] Viewport Height",Ig="[Amplitude] Viewport Width",gi="https://app.amplitude.com",CA="https://app.eu.amplitude.com",IA="https://apps.stag2.amplitude.com",Ag={US:gi,EU:CA,STAGING:IA},Tg="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",Rg="amp-visual-tagging-selector-highlight",Jo="data-amp-mask-attributes",fn="data-amp-mask",ir="*****",Og=25;P();function J(n){return typeof n=="function"}P();function dn(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Qo=dn(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Dr(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var br=(function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var l=L(s),a=l.next();!a.done;a=l.next()){var u=a.value;u.remove(this)}}catch(v){e={error:v}}finally{try{a&&!a.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else s.remove(this);var c=this.initialTeardown;if(J(c))try{c()}catch(v){o=v instanceof Qo?v.errors:[v]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=L(f),h=d.next();!h.done;h=d.next()){var p=h.value;try{Pg(p)}catch(v){o=o??[],v instanceof Qo?o=U(U([],O(o)),O(v.errors)):o.push(v)}}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(o)throw new Qo(o)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Pg(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Dr(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&Dr(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=(function(){var e=new n;return e.closed=!0,e})(),n})();var Pc=br.EMPTY;function es(n){return n instanceof br||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function Pg(n){J(n)?n():n.unsubscribe()}var Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};P();var hn={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=hn.delegate;return i?.setTimeout?i.setTimeout.apply(i,U([n,e],O(t))):setTimeout.apply(void 0,U([n,e],O(t)))},clearTimeout:function(n){var e=hn.delegate;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ts(n){hn.setTimeout(function(){var e=Pt.onUnhandledError;if(e)e(n);else throw n})}function Ur(){}var Ng=(function(){return Nc("C",void 0,void 0)})();function kg(n){return Nc("E",void 0,n)}function Mg(n){return Nc("N",n,void 0)}function Nc(n,e,t){return{kind:n,value:e,error:t}}var $r=null;function pn(n){if(Pt.useDeprecatedSynchronousErrorHandling){var e=!$r;if(e&&($r={errorThrown:!1,error:null}),n(),e){var t=$r,r=t.errorThrown,i=t.error;if($r=null,r)throw i}}else n()}function Lg(n){Pt.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=n)}var yi=(function(n){ee(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,es(t)&&t.add(r)):r.destination=OA,r}return e.create=function(t,r,i){return new Fr(t,r,i)},e.prototype.next=function(t){this.isStopped?Mc(Mg(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?Mc(kg(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?Mc(Ng,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(br);var AA=Function.prototype.bind;function kc(n,e){return AA.call(n,e)}var TA=(function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){rs(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){rs(r)}else rs(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){rs(t)}},n})(),Fr=(function(n){ee(e,n);function e(t,r,i){var o=n.call(this)||this,s;if(J(t)||!t)s={next:t??void 0,error:r??void 0,complete:i??void 0};else{var l;o&&Pt.useDeprecatedNextContext?(l=Object.create(t),l.unsubscribe=function(){return o.unsubscribe()},s={next:t.next&&kc(t.next,l),error:t.error&&kc(t.error,l),complete:t.complete&&kc(t.complete,l)}):s=t}return o.destination=new TA(s),o}return e})(yi);function rs(n){Pt.useDeprecatedSynchronousErrorHandling?Lg(n):ts(n)}function RA(n){throw n}function Mc(n,e){var t=Pt.onStoppedNotification;t&&hn.setTimeout(function(){return t(n,e)})}var OA={closed:!0,next:Ur,error:RA,complete:Ur};var mn=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function ns(n){return n}function Dg(n){return n.length===0?ns:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var fe=(function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,o=NA(e)?e:new Fr(e,t,r);return pn(function(){var s=i,l=s.operator,a=s.source;o.add(l?l.call(o,a):a?i._subscribe(o):i._trySubscribe(o))}),o},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=Ug(t),new t(function(i,o){var s=new Fr({next:function(l){try{e(l)}catch(a){o(a),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[mn]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dg(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=Ug(e),new e(function(r,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},n.create=function(e){return new n(e)},n})();function Ug(n){var e;return(e=n??Pt.Promise)!==null&&e!==void 0?e:Promise}function PA(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function NA(n){return n&&n instanceof yi||PA(n)&&es(n)}function kA(n){return J(n?.lift)}function Ie(n){return function(e){if(kA(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}P();function ye(n,e,t,r,i){return new MA(n,e,t,r,i)}var MA=(function(n){ee(e,n);function e(t,r,i,o,s,l){var a=n.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=l,a._next=r?function(u){try{r(u)}catch(c){t.error(c)}}:n.prototype._next,a._error=o?function(u){try{o(u)}catch(c){t.error(c)}finally{this.unsubscribe()}}:n.prototype._error,a._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:n.prototype._complete,a}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e})(yi);P();var $g=dn(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var Lc=(function(n){ee(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new Fg(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new $g},e.prototype.next=function(t){var r=this;pn(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=L(r.currentObservers),l=s.next();!l.done;l=s.next()){var a=l.value;a.next(t)}}catch(u){i={error:u}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;pn(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;pn(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=this,o=i.hasError,s=i.isStopped,l=i.observers;return o||s?Pc:(this.currentObservers=null,l.push(t),new br(function(){r.currentObservers=null,Dr(l,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?t.error(o):s&&t.complete()},e.prototype.asObservable=function(){var t=new fe;return t.source=this,t},e.create=function(t,r){return new Fg(t,r)},e})(fe);var Fg=(function(n){ee(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:Pc},e})(Lc);var Dc={now:function(){return(Dc.delegate||Date).now()},delegate:void 0};P();P();var Bg=(function(n){ee(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return r===void 0&&(r=0),this},e})(br);P();var bi={setInterval:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=bi.delegate;return i?.setInterval?i.setInterval.apply(i,U([n,e],O(t))):setInterval.apply(void 0,U([n,e],O(t)))},clearInterval:function(n){var e=bi.delegate;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Gg=(function(n){ee(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=t;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),bi.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&bi.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,o;try{this.work(t)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Dr(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e})(Bg);P();var Uc=(function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=Dc.now,n})();var Wg=(function(n){ee(e,n);function e(t,r){r===void 0&&(r=Uc.now);var i=n.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e})(Uc);var or=new Wg(Gg),Vg=or;var Br=new fe(function(n){return n.complete()});function is(n){return n&&J(n.schedule)}function jg(n){return n[n.length-1]}function os(n){return is(jg(n))?n.pop():void 0}function zg(n,e){return typeof jg(n)=="number"?n.pop():e}P();var vn=(function(n){return n&&typeof n.length=="number"&&typeof n!="function"});function ss(n){return J(n?.then)}function as(n){return J(n[mn])}function ls(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function us(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function LA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cs=LA();function fs(n){return J(n?.[cs])}P();function ds(n){return cm(this,arguments,function(){var t,r,i,o;return S(this,function(s){switch(s.label){case 0:t=n.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Nr(t.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,Nr(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Nr(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function hs(n){return J(n?.getReader)}function be(n){if(n instanceof fe)return n;if(n!=null){if(as(n))return DA(n);if(vn(n))return UA(n);if(ss(n))return $A(n);if(ls(n))return Hg(n);if(fs(n))return FA(n);if(hs(n))return BA(n)}throw us(n)}function DA(n){return new fe(function(e){var t=n[mn]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UA(n){return new fe(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function $A(n){return new fe(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,ts)})}function FA(n){return new fe(function(e){var t,r;try{for(var i=L(n),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function Hg(n){return new fe(function(e){GA(n,e).catch(function(t){return e.error(t)})})}function BA(n){return Hg(ds(n))}function GA(n,e){var t,r,i,o;return E(this,void 0,void 0,function(){var s,l;return S(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),t=fm(n),a.label=1;case 1:return[4,t.next()];case 2:if(r=a.sent(),!!r.done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=a.sent(),i={error:l},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function yt(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ps(n,e){return e===void 0&&(e=0),Ie(function(t,r){t.subscribe(ye(r,function(i){return yt(r,n,function(){return r.next(i)},e)},function(){return yt(r,n,function(){return r.complete()},e)},function(i){return yt(r,n,function(){return r.error(i)},e)}))})}function ms(n,e){return e===void 0&&(e=0),Ie(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function qg(n,e){return be(n).pipe(ms(e),ps(e))}function Kg(n,e){return be(n).pipe(ms(e),ps(e))}function Yg(n,e){return new fe(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Xg(n,e){return new fe(function(t){var r;return yt(t,e,function(){r=n[cs](),yt(t,e,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(l){t.error(l);return}s?t.complete():t.next(o)},0,!0)}),function(){return J(r?.return)&&r.return()}})}function vs(n,e){if(!n)throw new Error("Iterable cannot be null");return new fe(function(t){yt(t,e,function(){var r=n[Symbol.asyncIterator]();yt(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Zg(n,e){return vs(ds(n),e)}function Jg(n,e){if(n!=null){if(as(n))return qg(n,e);if(vn(n))return Yg(n,e);if(ss(n))return Kg(n,e);if(ls(n))return vs(n,e);if(fs(n))return Xg(n,e);if(hs(n))return Zg(n,e)}throw us(n)}function gs(n,e){return e?Jg(n,e):be(n)}function ys(n){return n instanceof Date&&!isNaN(n)}var WA=dn(function(n){return function(t){t===void 0&&(t=null),n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function $c(n,e){var t=ys(n)?{first:n}:typeof n=="number"?{each:n}:n,r=t.first,i=t.each,o=t.with,s=o===void 0?VA:o,l=t.scheduler,a=l===void 0?e??or:l,u=t.meta,c=u===void 0?null:u;if(r==null&&i==null)throw new TypeError("No timeout provided.");return Ie(function(f,d){var h,p,v=null,m=0,y=function(g){p=yt(d,a,function(){try{h.unsubscribe(),be(s({meta:c,lastValue:v,seen:m})).subscribe(d)}catch(b){d.error(b)}},g)};h=f.subscribe(ye(d,function(g){p?.unsubscribe(),m++,d.next(v=g),i>0&&y(i)},void 0,void 0,function(){p?.closed||p?.unsubscribe(),v=null})),!m&&y(r!=null?typeof r=="number"?r:+r-a.now():i)})}function VA(n){throw new WA(n)}P();function Ae(n,e){return Ie(function(t,r){var i=0;t.subscribe(ye(r,function(o){r.next(n.call(e,o,i++))}))})}var jA=Array.isArray;function zA(n,e){return jA(e)?n.apply(void 0,U([],O(e))):n(e)}function Qg(n){return Ae(function(e){return zA(n,e)})}function ey(n,e,t,r,i,o,s,l){var a=[],u=0,c=0,f=!1,d=function(){f&&!a.length&&!u&&e.complete()},h=function(v){return u<r?p(v):a.push(v)},p=function(v){o&&e.next(v),u++;var m=!1;be(t(v,c++)).subscribe(ye(e,function(y){i?.(y),o?h(y):e.next(y)},function(){m=!0},void 0,function(){if(m)try{u--;for(var y=function(){var g=a.shift();s?yt(e,s,function(){return p(g)}):p(g)};a.length&&u<r;)y();d()}catch(g){e.error(g)}}))};return n.subscribe(ye(e,h,function(){f=!0,d()})),function(){l?.()}}function jt(n,e,t){return t===void 0&&(t=1/0),J(e)?jt(function(r,i){return Ae(function(o,s){return e(r,o,i,s)})(be(n(r,i)))},t):(typeof e=="number"&&(t=e),Ie(function(r,i){return ey(r,i,n,t)}))}function bs(n){return n===void 0&&(n=1/0),jt(ns,n)}function ty(){return bs(1)}function ry(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return ty()(gs(n,os(n)))}P();var HA=["addListener","removeListener"],qA=["addEventListener","removeEventListener"],KA=["on","off"];function zt(n,e,t,r){if(J(t)&&(r=t,t=void 0),r)return zt(n,e,t).pipe(Qg(r));var i=O(ZA(n)?qA.map(function(l){return function(a){return n[l](e,a,t)}}):YA(n)?HA.map(ny(n,e)):XA(n)?KA.map(ny(n,e)):[],2),o=i[0],s=i[1];if(!o&&vn(n))return jt(function(l){return zt(l,e,t)})(be(n));if(!o)throw new TypeError("Invalid event target");return new fe(function(l){var a=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return l.next(1<u.length?u:u[0])};return o(a),function(){return s(a)}})}function ny(n,e){return function(t){return function(r){return n[t](e,r)}}}function YA(n){return J(n.addListener)&&J(n.removeListener)}function XA(n){return J(n.on)&&J(n.off)}function ZA(n){return J(n.addEventListener)&&J(n.removeEventListener)}function ws(n,e,t){n===void 0&&(n=0),t===void 0&&(t=Vg);var r=-1;return e!=null&&(is(e)?t=e:r=e),new fe(function(i){var o=ys(n)?+n-t.now():n;o<0&&(o=0);var s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Gr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=os(n),r=zg(n,1/0),i=n;return i.length?i.length===1?be(i[0]):bs(r)(gs(i,t)):Br}var JA=Array.isArray;function iy(n){return n.length===1&&JA(n[0])?n[0]:n}function qe(n,e){return Ie(function(t,r){var i=0;t.subscribe(ye(r,function(o){return n.call(e,o,i++)&&r.next(o)}))})}function Fc(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n=iy(n),n.length===1?be(n[0]):new fe(QA(n))}function QA(n){return function(e){for(var t=[],r=function(o){t.push(be(n[o]).subscribe(ye(e,function(s){if(t){for(var l=0;l<t.length;l++)l!==o&&t[l].unsubscribe();t=null}e.next(s)})))},i=0;t&&!e.closed&&i<n.length;i++)r(i)}}function Bc(n){return Ie(function(e,t){var r=[];return e.subscribe(ye(t,function(i){return r.push(i)},function(){t.next(r),t.complete()})),be(n).subscribe(ye(t,function(){var i=r;r=[],t.next(i)},Ur)),function(){r=null}})}function Gc(n,e){return e===void 0&&(e=or),Ie(function(t,r){var i=null,o=null,s=null,l=function(){if(i){i.unsubscribe(),i=null;var u=o;o=null,r.next(u)}};function a(){var u=s+n,c=e.now();if(c<u){i=this.schedule(void 0,u-c),r.add(i);return}l()}t.subscribe(ye(r,function(u){o=u,s=e.now(),i||(i=e.schedule(a,n),r.add(i))},function(){l(),r.complete()},void 0,function(){o=i=null}))})}function wr(n){return n<=0?function(){return Br}:Ie(function(e,t){var r=0;e.subscribe(ye(t,function(i){++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function oy(){return Ie(function(n,e){n.subscribe(ye(e,Ur))})}function sy(n){return Ae(function(){return n})}function Wc(n,e){return e?function(t){return ry(e.pipe(wr(1),oy()),t.pipe(Wc(n)))}:jt(function(t,r){return be(n(t,r)).pipe(wr(1),sy(t))})}function Vc(n,e){e===void 0&&(e=or);var t=ws(n,e);return Wc(function(){return t})}function jc(){return Ie(function(n,e){var t,r=!1;n.subscribe(ye(e,function(i){var o=t;t=i,r&&e.next([o,i]),r=!0}))})}P();function Ht(n){n===void 0&&(n={});var e=n.connector,t=e===void 0?function(){return new Lc}:e,r=n.resetOnError,i=r===void 0?!0:r,o=n.resetOnComplete,s=o===void 0?!0:o,l=n.resetOnRefCountZero,a=l===void 0?!0:l;return function(u){var c,f,d,h=0,p=!1,v=!1,m=function(){f?.unsubscribe(),f=void 0},y=function(){m(),c=d=void 0,p=v=!1},g=function(){var b=c;y(),b?.unsubscribe()};return Ie(function(b,w){h++,!v&&!p&&m();var x=d=d??t();w.add(function(){h--,h===0&&!v&&!p&&(f=zc(g,a))}),x.subscribe(w),!c&&h>0&&(c=new Fr({next:function(_){return x.next(_)},error:function(_){v=!0,m(),f=zc(y,i,_),x.error(_)},complete:function(){p=!0,m(),f=zc(y,s),x.complete()}}),be(b).subscribe(c))})(u)}}function zc(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(e===!0){n();return}if(e!==!1){var i=new Fr({next:function(){i.unsubscribe(),n()}});return be(e.apply(void 0,U([],O(t)))).subscribe(i)}}function Hc(n,e){return Ie(function(t,r){var i=null,o=0,s=!1,l=function(){return s&&!i&&r.complete()};t.subscribe(ye(r,function(a){i?.unsubscribe();var u=0,c=o++;be(n(a,c)).subscribe(i=ye(r,function(f){return r.next(e?e(a,f,c,u++):f)},function(){i=null,l()}))},function(){s=!0,l()}))})}function ay(n,e){return Ie(function(t,r){var i=e??{},o=i.leading,s=o===void 0?!0:o,l=i.trailing,a=l===void 0?!1:l,u=!1,c=null,f=null,d=!1,h=function(){f?.unsubscribe(),f=null,a&&(m(),d&&r.complete())},p=function(){f=null,d&&r.complete()},v=function(y){return f=be(n(y)).subscribe(ye(r,h,p))},m=function(){if(u){u=!1;var y=c;c=null,r.next(y),!d&&v(y)}};t.subscribe(ye(r,function(y){u=!0,c=y,!(f&&!f.closed)&&(s?m():v(y))},function(){d=!0,!(a&&u&&f&&!f.closed)&&r.complete()}))})}function qc(n,e,t){e===void 0&&(e=or);var r=ws(n,e);return ay(function(){return r},t)}P();Z();var eT=["input","select","textarea"],Kc=function(n,e){var t,r=(t=window?.getComputedStyle)===null||t===void 0?void 0:t.call(window,n);return r?.getPropertyValue("cursor")==="pointer"&&e==="click"},Wr=function(n,e,t){return t===void 0&&(t=!1),function(r,i){var o,s,l=n.pageUrlAllowlist,a=n.pageUrlExcludelist,u=n.shouldTrackEventResolver,c=(s=(o=i?.tagName)===null||o===void 0?void 0:o.toLowerCase)===null||s===void 0?void 0:s.call(o);if(!c)return!1;if(u)return u(r,i);if(!ln(window.location.href,l)||a&&a.length>0&&ln(window.location.href,a))return!1;var f=String(i?.getAttribute("type"))||"";if(typeof f=="string")switch(f.toLowerCase()){case"hidden":return!1;case"password":return!1}var d=Kc(i,r);if(t&&d)return!0;if(e){var h=e.some(function(p){var v;return!!(!((v=i?.matches)===null||v===void 0)&&v.call(i,p))});if(!h)return!1}switch(c){case"input":case"select":case"textarea":return r==="change"||r==="click";default:return d?!0:r==="click"}}};var ly=function(n){var e,t,r,i=(t=(e=n?.tagName)===null||e===void 0?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e),o=n instanceof HTMLElement?((r=n.getAttribute("contenteditable"))===null||r===void 0?void 0:r.toLowerCase())==="true":!1;return!eT.includes(i)&&!o},uy=function(n){return n?n.split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0&&e!=="id"&&e!=="class"}):[]},cy=function(n,e){return Object.entries(n).reduce(function(t,r){var i=O(r,2),o=i[0],s=i[1];if(o.startsWith(e)){var l=o.replace(e,"");l&&(t[l]=s||"")}return t},{})},tT=function(n){return n==null||typeof n=="object"&&Object.keys(n).length===0||typeof n=="string"&&n.trim().length===0},Yc=function(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return tT(r)||(e[t]=r),e},{})};var wi=function(n,e){return n?e.some(function(t){var r;return(r=n?.matches)===null||r===void 0?void 0:r.call(n,t)})?n:wi(n?.parentElement,e):null},fy=function(n){return new Promise(function(e,t){var r;try{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.addEventListener("load",function(){e({status:!0})},{once:!0}),i.addEventListener("error",function(){t({status:!1,message:"Failed to load the script ".concat(n)})}),(r=document.head)===null||r===void 0||r.appendChild(i)}catch(o){t(o)}})};function dy(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var qt=function(n){return!(n.event.target===null||!n.closestTrackedAncestor)};function hy(n){return n.type==="click"||n.type==="change"}var py="1.12.1";P();P();var rT=new Set(["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot",Jo,fn]),nT=["type"],iT=["svg","path","g"],oT=["password","hidden"],sT=128;function my(n,e){var t,r,i,o,s,l;if(n===null)return null;var a=String(n.tagName).toLowerCase(),u={tag:a},c=Array.from((o=(i=n.parentElement)===null||i===void 0?void 0:i.children)!==null&&o!==void 0?o:[]);c.length&&(u.index=c.indexOf(n),u.indexOfType=c.filter(function(x){return x.tagName===n.tagName}).indexOf(n));var f=(l=(s=n.previousElementSibling)===null||s===void 0?void 0:s.tagName)===null||l===void 0?void 0:l.toLowerCase();f&&(u.prevSib=String(f));var d=n.getAttribute("id");d&&(u.id=String(d));var h=Array.from(n.classList);h.length&&(u.classes=h);var p={},v=Array.from(n.attributes),m=v.filter(function(x){return!rT.has(x.name)}),y=!ly(n);if(!oT.includes(String(n.getAttribute("type")))&&!iT.includes(a))try{for(var g=L(m),b=g.next();!b.done;b=g.next()){var w=b.value;if(!(y&&!nT.includes(w.name))){if(e.has(w.name)){p[w.name]=ir;continue}p[w.name]=String(w.value).substring(0,sT)}}}catch(x){t={error:x}}finally{try{b&&!b.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}return Object.keys(p).length&&(u.attrs=p),u}function vy(n){var e=[];if(!n)return e;e.push(n);for(var t=n.parentElement;t&&t.tagName!=="HTML";)e.push(t),t=t.parentElement;return e}var gy=function(n,e){try{if(n.sourceType==="DOM_ELEMENT"){var t=document.documentElement;return n.scope&&e&&(t=e.closest(n.scope)),t&&n.selector?t.querySelector(n.selector):t}}catch{return}},yy=function(n,e,t){n.forEach(function(r){if(typeof r!="string"&&r.actionType==="ATTACH_EVENT_PROPERTY"){var i=t.extractDataFromDataSource(r.dataSource,e.closestTrackedAncestor);e.targetElementProperties[r.destinationKey]=i}})};var aT=/\b(?:\d[ -]*?){13,16}\b/,lT=/(\d{3}-?\d{2}-?\d{4})/g,uT=/[^\s@]+@[^\s@.]+\.[^\s@]+/g,gn=(function(){function n(e){var t,r,i=this,o;this.replaceSensitiveString=function(f){var d,h;if(typeof f!="string")return"";var p=f;p=p.replace(aT,ir),p=p.replace(lT,ir),p=p.replace(uT,ir);try{for(var v=L(i.additionalMaskTextPatterns),m=v.next();!m.done;m=v.next()){var y=m.value;try{p=p.replace(y,ir)}catch{}}}catch(g){d={error:g}}finally{try{m&&!m.done&&(h=v.return)&&h.call(v)}finally{if(d)throw d.error}}return p},this.getHierarchy=function(f){var d,h,p,v=[];if(!f)return[];for(var m=vy(f),y=new Map,g=m.length-1;g>=0;g--){var b=m[g];if(b){var w=uy(b.getAttribute(Jo)),x=g===m.length-1?[]:(p=y.get(m[g+1]))!==null&&p!==void 0?p:new Set,_=new Set(U(U([],O(x),!1),O(w),!1));y.set(b,_)}}v=m.map(function(M){var $;return my(M,($=y.get(M))!==null&&$!==void 0?$:new Set)});var A=function(M){M?.attrs&&Object.entries(M.attrs).forEach(function($){var K=O($,2),N=K[0],Y=K[1];M.attrs&&(M.attrs[N]=i.replaceSensitiveString(Y))})};try{for(var C=L(v),T=C.next();!T.done;T=C.next()){var R=T.value;A(R)}}catch(M){d={error:M}}finally{try{T&&!T.done&&(h=C.return)&&h.call(C)}finally{if(d)throw d.error}}return v},this.getNearestLabel=function(f){var d=f.parentElement;if(!d)return"";var h;try{h=d.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{h=null}return h?i.getText(h):i.getNearestLabel(d)},this.getEventProperties=function(f,d,h){var p,v,m,y,g=(m=(v=d?.tagName)===null||v===void 0?void 0:v.toLowerCase)===null||m===void 0?void 0:m.call(v),b=typeof d.getBoundingClientRect=="function"?d.getBoundingClientRect():{left:null,top:null},w=i.getHierarchy(d),x=(y=w[0])===null||y===void 0?void 0:y.attrs,_=i.getNearestLabel(d),A=cy(x??{},h),C=(p={},p[gg]=w,p[Ac]=g,p[Tc]=i.getText(d),p[bg]=b.left==null?null:Math.round(b.left),p[wg]=b.top==null?null:Math.round(b.top),p[Eg]=A,p[xg]=_,p[Rc]=window.location.href.split("?")[0],p[_g]=typeof document<"u"&&i.replaceSensitiveString(document.title)||"",p[Cg]=window.innerHeight,p[Ig]=window.innerWidth,p);return C[mg]=d.getAttribute("id")||"",C[vg]=d.getAttribute("class"),C[Sg]=x?.["aria-label"],g==="a"&&f==="click"&&d instanceof HTMLAnchorElement&&(C[yg]=i.replaceSensitiveString(d.href)),Yc(C)},this.addAdditionalEventProperties=function(f,d,h,p,v){v===void 0&&(v=!1);var m={event:f,timestamp:Date.now(),type:d};if(hy(m)&&m.event.target!==null){if(v){var y=Kc(m.event.target,m.type);if(y)return m.closestTrackedAncestor=m.event.target,m.targetElementProperties=i.getEventProperties(m.type,m.closestTrackedAncestor,p),m}var g=wi(m.event.target,h);return g&&(m.closestTrackedAncestor=g,m.targetElementProperties=i.getEventProperties(m.type,g,p)),m}return m},this.extractDataFromDataSource=function(f,d){if(f.sourceType==="DOM_ELEMENT"){var h=gy(f,d);return h?f.elementExtractType==="TEXT"?i.getText(h):f.elementExtractType==="ATTRIBUTE"&&f.attribute?h.getAttribute(f.attribute):void 0:void 0}},this.getText=function(f){var d=f.closest("[".concat(fn,"]"))!==null;if(d)return ir;var h="";if(!f.querySelector("[".concat(fn,"], [contenteditable]")))h=f.innerText||"";else{var p=f.cloneNode(!0);p.querySelectorAll("[".concat(fn,"], [contenteditable]")).forEach(function(v){v.innerText=ir}),h=p.innerText||""}return i.replaceSensitiveString(h.substring(0,255)).replace(/\s+/g," ").trim()},this.getEventTagProps=function(f){var d,h,p;if(!f)return{};var v=(p=(h=f?.tagName)===null||h===void 0?void 0:h.toLowerCase)===null||p===void 0?void 0:p.call(h),m=(d={},d[Ac]=v,d[Tc]=i.getText(f),d[Rc]=window.location.href.split("?")[0],d);return Yc(m)};var s=(o=e.maskTextRegex)!==null&&o!==void 0?o:[],l=[];try{for(var a=L(s),u=a.next();!u.done;u=a.next()){var c=u.value;if(l.length>=Og)break;if(c instanceof RegExp)l.push(c);else if("pattern"in c&&typeof c.pattern=="string")try{l.push(new RegExp(c.pattern,"i"))}catch{}}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}this.additionalMaskTextPatterns=l}return n})();var by=(function(){function n(e){var t=e===void 0?{}:e,r=t.origin,i=r===void 0?gi:r,o=this;this.endpoint=gi,this.requestCallbacks={},this.onSelect=function(s){o.notify({action:"element-selected",data:s})},this.onTrack=function(s,l){s==="selector-mode-changed"?o.notify({action:"track-selector-mode-changed",data:l}):s==="selector-moved"&&o.notify({action:"track-selector-moved",data:l})},this.endpoint=i}return n.prototype.notify=function(e){var t,r,i,o;(r=(t=this.logger)===null||t===void 0?void 0:t.debug)===null||r===void 0||r.call(t,"Message sent: ",JSON.stringify(e)),(o=(i=window.opener)===null||i===void 0?void 0:i.postMessage)===null||o===void 0||o.call(i,e,this.endpoint)},n.prototype.sendRequest=function(e,t,r){var i=this;r===void 0&&(r={timeout:15e3});var o=dy(),s={id:o,action:e,args:t},l=new Promise(function(a,u){i.requestCallbacks[o]={resolve:a,reject:u},i.notify(s),r?.timeout>0&&setTimeout(function(){u(new Error("".concat(e," timed out (id: ").concat(o,")"))),delete i.requestCallbacks[o]},r.timeout)});return l},n.prototype.handleResponse=function(e){var t;if(!this.requestCallbacks[e.id]){(t=this.logger)===null||t===void 0||t.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},n.prototype.setup=function(e){var t=this,r=e===void 0?{dataExtractor:new gn({})}:e,i=r.logger,o=r.endpoint,s=r.isElementSelectable,l=r.cssSelectorAllowlist,a=r.actionClickAllowlist,u=r.dataExtractor;this.logger=i,o&&this.endpoint===gi&&(this.endpoint=o);var c=null;window.addEventListener("message",function(f){var d,h,p,v,m;if((h=(d=t.logger)===null||d===void 0?void 0:d.debug)===null||h===void 0||h.call(d,"Message received: ",JSON.stringify(f)),t.endpoint===f.origin){var y=f?.data,g=y?.action;if(g)if("id"in y)(v=(p=t.logger)===null||p===void 0?void 0:p.debug)===null||v===void 0||v.call(p,"Received Response to previous request: ",JSON.stringify(f)),t.handleResponse(y);else if(g==="ping")t.notify({action:"pong"});else if(g==="initialize-visual-tagging-selector"){var b=y?.data;fy(Tg).then(function(){var w;c=(w=window?.amplitudeVisualTaggingSelector)===null||w===void 0?void 0:w.call(window,{getEventTagProps:u.getEventTagProps,isElementSelectable:function(x){return s?s(b?.actionType||"click",x):!0},onTrack:t.onTrack,onSelect:t.onSelect,visualHighlightClass:Rg,messenger:t,cssSelectorAllowlist:l,actionClickAllowlist:a,extractDataFromDataSource:u.extractDataFromDataSource,dataExtractor:u,diagnostics:{autocapture:{version:py}}}),t.notify({action:"selector-loaded"})}).catch(function(){var w;(w=t.logger)===null||w===void 0||w.warn("Failed to initialize visual tagging selector")})}else g==="close-visual-tagging-selector"&&((m=c?.close)===null||m===void 0||m.call(c))}}),this.notify({action:"page-loaded"})},n})();P();var cT=5;function wy(n){var e=n.amplitude,t=n.allObservables,r=n.options,i=n.shouldTrackEvent,o=n.evaluateTriggers,s=t.clickObservable,l=s.pipe(jc(),qe(function(f){var d=O(f,2),h=d[0],p=d[1],v=h.event.target!==p.event.target,m=Math.abs(p.event.screenX-h.event.screenX)<=20&&Math.abs(p.event.screenY-h.event.screenY)<=20;return v&&!m})),a=s.pipe(Gc(r.debounceTime),Ae(function(){return"timeout"})),u=Gr(l,a),c=s.pipe(Vc(0),qe(qt),qe(function(f){return i("click",f.closestTrackedAncestor)}),Ae(function(f){return o(f)}),Bc(u));return c.subscribe(function(f){var d,h,p=f.length>=cT?vi:vi;try{for(var v=L(f),m=v.next();!m.done;m=v.next()){var y=m.value;e?.track(p,y.targetElementProperties)}}catch(g){d={error:g}}finally{try{m&&!m.done&&(h=v.return)&&h.call(v)}finally{if(d)throw d.error}}})}function Sy(n){var e=n.amplitude,t=n.allObservables,r=n.getEventProperties,i=n.shouldTrackEvent,o=n.evaluateTriggers,s=t.changeObservable,l=s.pipe(qe(qt),qe(function(a){return i("change",a.closestTrackedAncestor)}),Ae(function(a){return o(a)}));return l.subscribe(function(a){e?.track(pg,r("change",a.closestTrackedAncestor))})}P();function Ey(n){var e=n.amplitude,t=n.allObservables,r=n.options,i=n.getEventProperties,o=n.shouldTrackEvent,s=n.shouldTrackActionClick,l=t.clickObservable,a=t.mutationObservable,u=t.navigateObservable,c=l.pipe(qe(function(p){return!o("click",p.closestTrackedAncestor)}),Ae(function(p){var v=wi(p.event.target,r.actionClickAllowlist);return p.closestTrackedAncestor=v,p.closestTrackedAncestor!==null&&(p.targetElementProperties=i(p.type,p.closestTrackedAncestor)),p}),qe(qt),qe(function(p){return s("click",p.closestTrackedAncestor)})),f=[a];u&&f.push(u);var d=Gr.apply(void 0,U([],O(f),!1)),h=c.pipe(Hc(function(p){return d.pipe(wr(1),$c({first:500,with:function(){return Br}}),Ae(function(){return p}))}));return h.subscribe(function(p){e?.track(vi,i("click",p.closestTrackedAncestor))})}var Ss=function(){return new fe(function(n){var e=new MutationObserver(function(t){n.next(t)});return e.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return e.disconnect()}})},Es=function(n){return n===void 0&&(n="click"),zt(document,n,{capture:!0})};P();var xy=function(n,e){try{if(e.subprop_key==="[Amplitude] Element Text")return e.subprop_op==="is"&&e.subprop_value.includes(n.targetElementProperties["[Amplitude] Element Text"]);if(e.subprop_key==="[Amplitude] Element Hierarchy")return e.subprop_op==="autotrack css match"&&!!n.closestTrackedAncestor.closest(e.subprop_value.toString())}catch(t){return console.error("Error matching event to filter",t),!1}return!1};var Xc={"[Amplitude] Element Clicked":"click","[Amplitude] Element Changed":"change"},Zc=function(n){var e,t,r,i,o=Object.values(Xc).reduce(function(h,p){return h[p]=new Set,h},{});if(!n)return o;try{for(var s=L(n),l=s.next();!l.done;l=s.next()){var a=l.value;try{try{for(var u=(r=void 0,L(a.definition)),c=u.next();!c.done;c=u.next()){var f=c.value,d=Xc[f.event_type];d&&o[d].add(a.id)}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}catch(h){console.warn("Skipping Labeled Event due to malformed definition",a?.id,h)}}}catch(h){e={error:h}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o},Jc=function(n){var e,t,r,i,o=new Map;try{for(var s=L(n),l=s.next();!l.done;l=s.next()){var a=l.value;try{for(var u=(r=void 0,L(a.conditions)),c=u.next();!c.done;c=u.next()){var f=c.value;if(f.type==="LABELED_EVENT"){var d=f.match.eventId,h=o.get(d);h||(h=[],o.set(d,h)),h.push(a)}}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}}catch(p){e={error:p}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o},fT=function(n,e){return e.filter(function(t){return t.definition.some(function(r){return Xc[r.event_type]===n.type&&r.filters.every(function(i){return xy(n,i)})})})},dT=function(n,e){var t,r,i,o,s=new Set;try{for(var l=L(n),a=l.next();!a.done;a=l.next()){var u=a.value,c=e.get(u.id);if(c)try{for(var f=(i=void 0,L(c)),d=f.next();!d.done;d=f.next()){var h=d.value;s.add(h)}}catch(p){i={error:p}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(p){t={error:p}}finally{try{a&&!a.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return Array.from(s)},hT=(function(){function n(e,t,r,i){this.groupedLabeledEvents=e,this.labeledEventToTriggerMap=t,this.dataExtractor=r,this.options=i}return n.prototype.evaluate=function(e){var t,r,i=this.options.pageActions;if(!i)return e;var o=fT(e,Array.from(this.groupedLabeledEvents[e.type]).map(function(c){return i.labeledEvents[c]})),s=dT(o,this.labeledEventToTriggerMap);try{for(var l=L(s),a=l.next();!a.done;a=l.next()){var u=a.value;yy(u.actions,e,this.dataExtractor)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return e},n.prototype.update=function(e,t,r){this.groupedLabeledEvents=e,this.labeledEventToTriggerMap=t,this.options=r},n})();var _y=function(n,e,t,r){return new hT(n,e,t,r)};var Nt;(function(n){n.ClickObservable="clickObservable",n.ChangeObservable="changeObservable",n.NavigateObservable="navigateObservable",n.MutationObservable="mutationObservable"})(Nt||(Nt={}));var xs=function(n){var e,t,r,i,o,s,l,a;n===void 0&&(n={});var u=n.dataAttributePrefix,c=u===void 0?Lr:u,f=n.visualTaggingOptions,d=f===void 0?{enabled:!0,messenger:new by}:f;n.cssSelectorAllowlist=(e=n.cssSelectorAllowlist)!==null&&e!==void 0?e:ui,n.actionClickAllowlist=(t=n.actionClickAllowlist)!==null&&t!==void 0?t:ci,n.debounceTime=(r=n.debounceTime)!==null&&r!==void 0?r:0,n.pageUrlExcludelist=(i=n.pageUrlExcludelist)===null||i===void 0?void 0:i.reduce(function(T,R){if(typeof R=="string"&&T.push(R),R instanceof RegExp&&T.push(R),typeof R=="object"&&R!==null&&"pattern"in R)try{T.push(new RegExp(R.pattern))}catch(M){return console.warn("Invalid regex pattern: ".concat(R.pattern),M),T}return T},[]);var h=fg,p="enrichment",v=[],m=new gn(n),y=function(){var T,R=Es().pipe(Ae(function(N){return m.addAdditionalEventProperties(N,"click",n.cssSelectorAllowlist,c)}),Ht()),M=zt(document,"change",{capture:!0}).pipe(Ae(function(N){return m.addAdditionalEventProperties(N,"change",n.cssSelectorAllowlist,c)}),Ht()),$;window.navigation&&($=zt(window.navigation,"navigate").pipe(Ae(function(N){return m.addAdditionalEventProperties(N,"navigate",n.cssSelectorAllowlist,c)}),Ht()));var K=Ss().pipe(Ae(function(N){return m.addAdditionalEventProperties(N,"mutation",n.cssSelectorAllowlist,c)}),Ht());return T={},T[Nt.ClickObservable]=R,T[Nt.ChangeObservable]=M,T[Nt.NavigateObservable]=$,T[Nt.MutationObservable]=K,T},g=Zc(Object.values((s=(o=n.pageActions)===null||o===void 0?void 0:o.labeledEvents)!==null&&s!==void 0?s:{})),b=Jc((a=(l=n.pageActions)===null||l===void 0?void 0:l.triggers)!==null&&a!==void 0?a:[]),w=_y(g,b,m,n),x=function(T){var R,M;T&&(n.pageActions=I(I({},n.pageActions),T),g=Zc(Object.values((R=n.pageActions.labeledEvents)!==null&&R!==void 0?R:{})),b=Jc((M=n.pageActions.triggers)!==null&&M!==void 0?M:[]),w.update(g,b,n))},_=function(T,R){return E(void 0,void 0,void 0,function(){var M,$,K,N,Y,le,G,X,oe,ue;return S(this,function(D){return typeof document>"u"?[2]:(T.fetchRemoteConfig&&cg({localConfig:T,configKeys:["analyticsSDK.pageActions"]}).then(function(me){return E(void 0,void 0,void 0,function(){var Q,he,ce;return S(this,function(je){switch(je.label){case 0:return je.trys.push([0,2,,3]),[4,me.getRemoteConfig("analyticsSDK","pageActions")];case 1:return Q=je.sent(),x(Q),[3,3];case 2:return he=je.sent(),(ce=T?.loggerProvider)===null||ce===void 0||ce.error("Failed to fetch remote config: ".concat(String(he))),[3,3];case 3:return[2]}})})}).catch(function(me){var Q;(Q=T?.loggerProvider)===null||Q===void 0||Q.error("Failed to create remote config fetch: ".concat(String(me)))}),M=Wr(n,n.cssSelectorAllowlist),$=Wr(n,n.actionClickAllowlist),K=y(),N=wy({allObservables:K,options:n,amplitude:R,shouldTrackEvent:M,evaluateTriggers:w.evaluate.bind(w)}),v.push(N),Y=Sy({allObservables:K,getEventProperties:function(){for(var me=[],Q=0;Q<arguments.length;Q++)me[Q]=arguments[Q];return m.getEventProperties.apply(m,U(U([],O(me),!1),[c],!1))},amplitude:R,shouldTrackEvent:M,evaluateTriggers:w.evaluate.bind(w)}),v.push(Y),le=Ey({allObservables:K,options:n,getEventProperties:function(){for(var me=[],Q=0;Q<arguments.length;Q++)me[Q]=arguments[Q];return m.getEventProperties.apply(m,U(U([],O(me),!1),[c],!1))},amplitude:R,shouldTrackEvent:M,shouldTrackActionClick:$}),v.push(le),(oe=T?.loggerProvider)===null||oe===void 0||oe.log("".concat(h," has been successfully added.")),window.opener&&d.enabled&&(G=n.cssSelectorAllowlist,X=n.actionClickAllowlist,(ue=d.messenger)===null||ue===void 0||ue.setup(I(I({dataExtractor:m,logger:T?.loggerProvider},T?.serverZone&&{endpoint:Ag[T.serverZone]}),{isElementSelectable:Wr(n,U(U([],O(G),!1),O(X),!1)),cssSelectorAllowlist:G,actionClickAllowlist:X}))),[2])})})},A=function(T){return E(void 0,void 0,void 0,function(){return S(this,function(R){return[2,T]})})},C=function(){return E(void 0,void 0,void 0,function(){var T,R,M,$,K;return S(this,function(N){try{for(T=L(v),R=T.next();!R.done;R=T.next())M=R.value,M.unsubscribe()}catch(Y){$={error:Y}}finally{try{R&&!R.done&&(K=T.return)&&K.call(T)}finally{if($)throw $.error}}return[2]})})};return{name:h,type:p,setup:_,execute:A,teardown:C}};P();Z();P();var Cy=3e3;function Iy(n){var e=n.amplitude,t=n.allObservables,r=n.getEventProperties,i=n.shouldTrackDeadClick,o=t.clickObservable,s=t.mutationObservable,l=t.navigateObservable,a=o.pipe(qe(qt),qe(function(d){return i("click",d.closestTrackedAncestor)})),u=[s];l&&u.push(l);var c=Gr.apply(void 0,U([],O(u),!1)),f=a.pipe(jt(function(d){var h,p=new fe(function(v){return h=setTimeout(function(){return v.next(d)},Cy),function(){clearTimeout(h)}});return Fc(p,c.pipe(wr(1),Ae(function(){return null}))).pipe(qe(function(v){return v!==null}))}),qc(Cy));return f.subscribe(function(d){var h={"[Amplitude] X":d.event.clientX,"[Amplitude] Y":d.event.clientY};e.track(hg,I(I({},r("click",d.closestTrackedAncestor)),h),{time:d.timestamp})})}P();Z();var Qc=Vu,Oy=Wu,Ay=ju;function Ty(n,e){var t,r,i,o,s=e.event,l=s.clientX,a=s.clientY;n.yMin=Math.min((t=n.yMin)!==null&&t!==void 0?t:a,a),n.yMax=Math.max((r=n.yMax)!==null&&r!==void 0?r:a,a),n.xMin=Math.min((i=n.xMin)!==null&&i!==void 0?i:l,l),n.xMax=Math.max((o=n.xMax)!==null&&o!==void 0?o:l,l),n.isOutOfBounds=n.yMax-n.yMin>Ay||n.xMax-n.xMin>Ay}function Ry(n){var e=n[0],t=n[n.length-1],r=I({"[Amplitude] Begin Time":new Date(e.timestamp).toISOString(),"[Amplitude] End Time":new Date(t.timestamp).toISOString(),"[Amplitude] Duration":t.timestamp-e.timestamp,"[Amplitude] Clicks":n.map(function(i){return{X:i.event.clientX,Y:i.event.clientY,Time:i.timestamp}}),"[Amplitude] Click Count":n.length},e.targetElementProperties);return{rageClickEvent:r,time:e.timestamp}}function pT(n,e){var t=Math.max(0,n.length-Qc+1),r=n[t];return e.timestamp-r.timestamp>=Oy}function mT(n,e){return n.length>0&&n[n.length-1].closestTrackedAncestor!==e.closestTrackedAncestor}function Py(n){var e=n.amplitude,t=n.allObservables,r=n.shouldTrackRageClick,i=t.clickObservable,o=[],s={},l;function a(u){o=[],s={},u&&(Ty(s,u),o.push(u))}return i.pipe(qe(qt),qe(function(u){return r("click",u.closestTrackedAncestor)}),Ae(function(u){if(l&&clearTimeout(l),Ty(s,u),o.length===0)return o.push(u),null;if(mT(o,u)||pT(o,u)||s.isOutOfBounds){var c=o.length>=Qc?Ry(o):null;return a(u),c}return o.push(u),o.length>=Qc&&(l=setTimeout(function(){var f=Ry(o),d=f.rageClickEvent,h=f.time;e.track(Ic,d,{time:h}),a()},Oy)),null}),qe(function(u){return u!==null})).subscribe(function(u){u!==null&&e.track(Ic,u.rageClickEvent,{time:u.time})})}var ef=function(n){var e,t,r,i,o;n===void 0&&(n={});var s=dg,l="enrichment",a=[],u=(t=(e=n.rageClicks)===null||e===void 0?void 0:e.cssSelectorAllowlist)!==null&&t!==void 0?t:Gu,c=(i=(r=n.deadClicks)===null||r===void 0?void 0:r.cssSelectorAllowlist)!==null&&i!==void 0?i:Bu,f=(o=n.dataAttributePrefix)!==null&&o!==void 0?o:Lr,d=new gn(n),h=U([],O(new Set(U(U([],O(u),!1),O(c),!1))),!1),p=function(){var g,b=Es("pointerdown").pipe(Ae(function(_){return d.addAdditionalEventProperties(_,"click",h,f,!0)}),Ht()),w;window.navigation&&(w=zt(window.navigation,"navigate").pipe(Ae(function(_){return d.addAdditionalEventProperties(_,"navigate",h,f)}),Ht()));var x=Ss().pipe(Ae(function(_){return d.addAdditionalEventProperties(_,"mutation",h,f)}),Ht());return g={},g[Nt.ClickObservable]=b,g[Nt.ChangeObservable]=new fe,g[Nt.NavigateObservable]=w,g[Nt.MutationObservable]=x,g},v=function(g,b){return E(void 0,void 0,void 0,function(){var w,x,_,A,C,T;return S(this,function(R){return typeof document>"u"?[2]:(w=Wr(n,u),x=Wr(n,c),_=p(),A=Py({allObservables:_,amplitude:b,shouldTrackRageClick:w}),a.push(A),C=Iy({amplitude:b,allObservables:_,getEventProperties:function(M,$){return d.getEventProperties(M,$,f)},shouldTrackDeadClick:x}),a.push(C),(T=g?.loggerProvider)===null||T===void 0||T.log("".concat(s," has been successfully added.")),[2])})})},m=function(g){return E(void 0,void 0,void 0,function(){return S(this,function(b){return[2,g]})})},y=function(){return E(void 0,void 0,void 0,function(){var g,b,w,x,_;return S(this,function(A){try{for(g=L(a),b=g.next();!b.done;b=g.next())w=b.value,w.unsubscribe()}catch(C){x={error:C}}finally{try{b&&!b.done&&(_=g.return)&&_.call(g)}finally{if(x)throw x.error}}return[2]})})};return{name:s,type:l,setup:v,execute:m,teardown:y}};P();Z();var Ny="@amplitude/plugin-network-capture-browser",tf="[Amplitude] Network Request",ky=!0;P();Z();var Dy="500-599";function _s(n,e){var t=e.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&"),r="^"+t.replace(/\*/g,".*")+"$",i=new RegExp(r);return i.test(n)}function Uy(n,e){var t,r,i=e.split(",");try{for(var o=L(i),s=o.next();!s.done;s=o.next()){var l=s.value,a=O(l.split("-").map(Number),2),u=a[0],c=a[1];if(n===u&&c===void 0||n>=u&&n<=c)return!0}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!1}function gT(n,e,t,r,i){if(!(n.hosts&&!n.hosts.find(function(s){return _s(e,s)}))&&!(r&&n.urls&&!ln(r,n.urls))&&!(i&&n.methods&&!n.methods.find(function(s){return i.toLowerCase()===s.toLowerCase()||s==="*"}))){if(t||t===0){var o=n.statusCodeRange||Dy;if(!Uy(t,o))return!1}return!0}}function $y(n){var e;if(n)try{var t=(e=j())===null||e===void 0?void 0:e.location.href,r=new URL(n,t),i=r.searchParams.toString(),o=r.hash.replace("#",""),s=r.href,l=r.host;r.hash="",r.search="";var a=r.href;return{query:i,fragment:o,href:s,hrefWithoutQueryOrHash:a,host:l}}catch{return}}function yT(n,e){if(n.includes("amplitude.com"))try{var t=e.body;if(typeof t!="string")return!1;var r=JSON.parse(t),i=r.events;if(i.find(function(o){return o.event_type===tf}))return!0}catch{}return!1}function My(n){if(typeof n!="object"||n===null){if(n)return U([],O(Mr),!1);if(n===void 0){var e=ky?void 0:U([],O(Mr),!1);return e}return}if(n.length!==0)return n}function Ly(n){var e,t;return!(!((e=n?.allowlist)===null||e===void 0)&&e.length)&&!(!((t=n?.blocklist)===null||t===void 0)&&t.length)}function bT(n,e){var t;e===void 0&&(e={});var r=$y(n.url);if(!r)return!1;var i=r.host;if(e.ignoreAmplitudeRequests!==!1&&(_s(i,"*.amplitude.com")||_s(i,"amplitude.com"))||!((t=e.ignoreHosts)===null||t===void 0)&&t.find(function(s){return _s(i,s)})||!e.captureRules&&n.status!==void 0&&!Uy(n.status,Dy))return!1;if(e.captureRules){var o;if(U([],O(e.captureRules),!1).reverse().find(function(s){if(o=gT(s,i,n.status,n.url,n.method),o){var l=My(s.responseHeaders);if(n.responseWrapper&&l){var a=n.responseWrapper.headers(l);a&&(n.responseHeaders=a)}var u=My(s.requestHeaders);if(n.requestWrapper&&u){var c=n.requestWrapper.headers(u);c&&(n.requestHeaders=c)}n.responseWrapper&&s.responseBody&&!Ly(s.responseBody)&&(n.responseBodyJson=n.responseWrapper.json(s.responseBody.allowlist,s.responseBody.blocklist)),n.requestWrapper&&s.requestBody&&!Ly(s.requestBody)&&(n.requestBodyJson=n.requestWrapper.json(s.requestBody.allowlist,s.requestBody.blocklist))}return o!==void 0}),!o)return!1}return!(n.requestWrapper&&yT(i,n.requestWrapper))}function wT(n,e,t){return E(this,void 0,void 0,function(){var r,i,o;return S(this,function(s){switch(s.label){case 0:return e.requestBodyJson||e.responseBodyJson?[4,Promise.all([e.requestBodyJson,e.responseBodyJson])]:[3,2];case 1:r=O.apply(void 0,[s.sent(),2]),i=r[0],o=r[1],i&&(n["[Amplitude] Request Body"]=i),o&&(n["[Amplitude] Response Body"]=o),s.label=2;case 2:return t?.track(tf,n),[2]}})})}function Fy(n){var e=n.allObservables,t=n.networkTrackingOptions,r=n.amplitude,i=e.networkObservable,o=i.pipe(qe(function(s){return bT(s.event,t)}));return o.subscribe(function(s){var l,a,u,c=s.event,f=$y(c.url);if(f){var d=(a=c.responseWrapper)===null||a===void 0?void 0:a.bodySize,h=(u=c.requestWrapper)===null||u===void 0?void 0:u.bodySize,p=(l={},l["[Amplitude] URL"]=f.hrefWithoutQueryOrHash,l["[Amplitude] URL Query"]=f.query,l["[Amplitude] URL Fragment"]=f.fragment,l["[Amplitude] Request Method"]=c.method,l["[Amplitude] Status Code"]=c.status,l["[Amplitude] Start Time"]=c.startTime,l["[Amplitude] Completion Time"]=c.endTime,l["[Amplitude] Duration"]=c.duration,l["[Amplitude] Request Body Size"]=h,l["[Amplitude] Response Body Size"]=d,l["[Amplitude] Request Type"]=c.type,l["[Amplitude] Request Headers"]=c.requestHeaders,l["[Amplitude] Response Headers"]=c.responseHeaders,l);wT(p,c,r)}})}var rf;(function(n){n.NetworkObservable="networkObservable"})(rf||(rf={}));var Cs=function(n){n===void 0&&(n={});var e=Ny,t="enrichment",r,i=[],o=function(c,f){var d={event:c,timestamp:Date.now(),type:f};return d},s=function(){var c,f=new fe(function(d){var h=new Ku(function(p){var v=o(p,"network");d.next(v)});return jo.subscribe(h,r),function(){jo.unsubscribe(h)}});return c={},c[rf.NetworkObservable]=f,c},l=function(c,f){return E(void 0,void 0,void 0,function(){var d,h;return S(this,function(p){return typeof document>"u"?[2]:(d=s(),h=Fy({allObservables:d,networkTrackingOptions:n,amplitude:f}),i.push(h),r=c?.loggerProvider,r?.log("".concat(e," has been successfully added.")),[2])})})},a=function(c){return E(void 0,void 0,void 0,function(){return S(this,function(f){return[2,c]})})},u=function(){return E(void 0,void 0,void 0,function(){var c,f,d,h,p;return S(this,function(v){try{for(c=L(i),f=c.next();!f.done;f=c.next())d=f.value,d.unsubscribe()}catch(m){h={error:m}}finally{try{f&&!f.done&&(p=c.return)&&p.call(c)}finally{if(h)throw h.error}}return[2]})})};return{name:e,type:t,setup:l,execute:a,teardown:u}};P();Z();var By="web-vitals-browser",Gy="[Amplitude] Web Vitals";var Xy=-1,bn=n=>{addEventListener("pageshow",(e=>{e.persisted&&(Xy=e.timeStamp,n(e))}),!0)},Kt=(n,e,t,r)=>{let i,o;return s=>{e.value>=0&&(s||r)&&(o=e.value-(i??0),(o||i===void 0)&&(i=e.value,e.delta=o,e.rating=((l,a)=>l>a[1]?"poor":l>a[0]?"needs-improvement":"good")(e.value,t),n(e)))}},df=n=>{requestAnimationFrame((()=>requestAnimationFrame((()=>n()))))},hf=()=>{let n=performance.getEntriesByType("navigation")[0];if(n&&n.responseStart>0&&n.responseStart<performance.now())return n},Si=()=>hf()?.activationStart??0,Yt=(n,e=-1)=>{let t=hf(),r="navigate";return Xy>=0?r="back-forward-cache":t&&(document.prerendering||Si()>0?r="prerender":document.wasDiscarded?r="restore":t.type&&(r=t.type.replace(/_/g,"-"))),{name:n,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},nf=new WeakMap;function pf(n,e){return nf.get(n)||nf.set(n,new e),nf.get(n)}var sf=class{t;i=0;o=[];h(e){if(e.hadRecentInput)return;let t=this.o[0],r=this.o.at(-1);this.i&&t&&r&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}},Ei=(n,e,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){let r=new PerformanceObserver((i=>{Promise.resolve().then((()=>{e(i.getEntries())}))}));return r.observe({type:n,buffered:!0,...t}),r}}catch{}},mf=n=>{let e=!1;return()=>{e||(n(),e=!0)}},yn=-1,Zy=new Set,Wy=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,af=n=>{if(document.visibilityState==="hidden"){if(n.type==="visibilitychange")for(let e of Zy)e();isFinite(yn)||(yn=n.type==="visibilitychange"?n.timeStamp:0,removeEventListener("prerenderingchange",af,!0))}},As=()=>{if(yn<0){let n=Si();yn=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter((t=>t.name==="hidden"&&t.startTime>n))[0]?.startTime)??Wy(),addEventListener("visibilitychange",af,!0),addEventListener("prerenderingchange",af,!0),bn((()=>{setTimeout((()=>{yn=Wy()}))}))}return{get firstHiddenTime(){return yn},onHidden(n){Zy.add(n)}}},Ts=n=>{document.prerendering?addEventListener("prerenderingchange",(()=>n()),!0):n()},Vy=[1800,3e3],vf=(n,e={})=>{Ts((()=>{let t=As(),r,i=Yt("FCP"),o=Ei("paint",(s=>{for(let l of s)l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<t.firstHiddenTime&&(i.value=Math.max(l.startTime-Si(),0),i.entries.push(l),r(!0)))}));o&&(r=Kt(n,i,Vy,e.reportAllChanges),bn((s=>{i=Yt("FCP"),r=Kt(n,i,Vy,e.reportAllChanges),df((()=>{i.value=performance.now()-s.timeStamp,r(!0)}))})))}))},jy=[.1,.25],Jy=(n,e={})=>{let t=As();vf(mf((()=>{let r,i=Yt("CLS",0),o=pf(e,sf),s=a=>{for(let u of a)o.h(u);o.i>i.value&&(i.value=o.i,i.entries=o.o,r())},l=Ei("layout-shift",s);l&&(r=Kt(n,i,jy,e.reportAllChanges),t.onHidden((()=>{s(l.takeRecords()),r(!0)})),bn((()=>{o.i=0,i=Yt("CLS",0),r=Kt(n,i,jy,e.reportAllChanges),df((()=>r()))})),setTimeout(r))})))},Qy=0,of=1/0,Is=0,ST=n=>{for(let e of n)e.interactionId&&(of=Math.min(of,e.interactionId),Is=Math.max(Is,e.interactionId),Qy=Is?(Is-of)/7+1:0)},lf,zy=()=>lf?Qy:performance.interactionCount??0,ET=()=>{"interactionCount"in performance||lf||(lf=Ei("event",ST,{type:"event",buffered:!0,durationThreshold:0}))},Hy=0,uf=class{u=[];l=new Map;m;p;v(){Hy=zy(),this.u.length=0,this.l.clear()}L(){let e=Math.min(this.u.length-1,Math.floor((zy()-Hy)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&e.entryType!=="first-input")return;let t=this.u.at(-1),r=this.l.get(e.interactionId);if(r||this.u.length<10||e.duration>t.P){if(r?e.duration>r.P?(r.entries=[e],r.P=e.duration):e.duration===r.P&&e.startTime===r.entries[0].startTime&&r.entries.push(e):(r={id:e.interactionId,entries:[e],P:e.duration},this.l.set(r.id,r),this.u.push(r)),this.u.sort(((i,o)=>o.P-i.P)),this.u.length>10){let i=this.u.splice(10);for(let o of i)this.l.delete(o.id)}this.p?.(r)}}},e0=n=>{let e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?n():(n=mf(n),addEventListener("visibilitychange",n,{once:!0,capture:!0}),e((()=>{n(),removeEventListener("visibilitychange",n,{capture:!0})})))},qy=[200,500],t0=(n,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;let t=As();Ts((()=>{ET();let r,i=Yt("INP"),o=pf(e,uf),s=a=>{e0((()=>{for(let c of a)o.h(c);let u=o.L();u&&u.P!==i.value&&(i.value=u.P,i.entries=u.entries,r())}))},l=Ei("event",s,{durationThreshold:e.durationThreshold??40});r=Kt(n,i,qy,e.reportAllChanges),l&&(l.observe({type:"first-input",buffered:!0}),t.onHidden((()=>{s(l.takeRecords()),r(!0)})),bn((()=>{o.v(),i=Yt("INP"),r=Kt(n,i,qy,e.reportAllChanges)})))}))},cf=class{m;h(e){this.m?.(e)}},Ky=[2500,4e3],r0=(n,e={})=>{Ts((()=>{let t=As(),r,i=Yt("LCP"),o=pf(e,cf),s=a=>{e.reportAllChanges||(a=a.slice(-1));for(let u of a)o.h(u),u.startTime<t.firstHiddenTime&&(i.value=Math.max(u.startTime-Si(),0),i.entries=[u],r())},l=Ei("largest-contentful-paint",s);if(l){r=Kt(n,i,Ky,e.reportAllChanges);let a=mf((()=>{s(l.takeRecords()),l.disconnect(),r(!0)})),u=c=>{c.isTrusted&&(e0(a),removeEventListener(c.type,u,{capture:!0}))};for(let c of["keydown","click","visibilitychange"])addEventListener(c,u,{capture:!0});bn((c=>{i=Yt("LCP"),r=Kt(n,i,Ky,e.reportAllChanges),df((()=>{i.value=performance.now()-c.timeStamp,r(!0)}))}))}}))},Yy=[800,1800],ff=n=>{document.prerendering?Ts((()=>ff(n))):document.readyState!=="complete"?addEventListener("load",(()=>ff(n)),!0):setTimeout(n)},n0=(n,e={})=>{let t=Yt("TTFB"),r=Kt(n,t,Yy,e.reportAllChanges);ff((()=>{let i=hf();i&&(t.value=Math.max(i.responseStart-Si(),0),t.entries=[i],r(!0),bn((()=>{t=Yt("TTFB",0),r=Kt(n,t,Yy,e.reportAllChanges),r(!0)})))}))};function xT(n){var e,t=((e=n.entries[0])===null||e===void 0?void 0:e.startTime)||0;return performance.timeOrigin+t}function xi(n){return{value:n.value,rating:n.rating,delta:n.delta,navigationType:n.navigationType,id:n.id,timestamp:Math.floor(xT(n)),navigationStart:Math.floor(performance.timeOrigin)}}var Rs=function(){var n=null,e=j(),t=e?.document,r=e?.location,i=function(l,a){return E(void 0,void 0,void 0,function(){var u,c,f;return S(this,function(d){return u=function(h){var p;if(!h)return"";var v=h;try{v=decodeURI(h)}catch(m){(p=l.loggerProvider)===null||p===void 0||p.error("Malformed URI sequence: ",m)}return v},t===void 0?[2]:(c=u(r?.href),f={"[Amplitude] Page Domain":r?.hostname||"","[Amplitude] Page Location":c,"[Amplitude] Page Path":u(r?.pathname),"[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":c.split("?")[0]},r0(function(h){f["[Amplitude] LCP"]=xi(h)}),vf(function(h){f["[Amplitude] FCP"]=xi(h)}),t0(function(h){f["[Amplitude] INP"]=xi(h)}),Jy(function(h){f["[Amplitude] CLS"]=xi(h)}),n0(function(h){f["[Amplitude] TTFB"]=xi(h)}),n=function(){t.visibilityState==="hidden"&&n&&(a.track(Gy,f),t.removeEventListener("visibilitychange",n),n=null)},t.addEventListener("visibilitychange",n),[2])})})},o=function(l){return E(void 0,void 0,void 0,function(){return S(this,function(a){return[2,l]})})},s=function(){return E(void 0,void 0,void 0,function(){return S(this,function(l){return n&&t?.removeEventListener("visibilitychange",n),[2]})})};return{name:By,type:"enrichment",setup:i,execute:o,teardown:s}};P();Z();P();Z();var i0=function(n){var e=n.split(".");return e.length<=2?n:e.slice(e.length-2,e.length).join(".")},_T=function(n){return Object.values(n).every(function(e){return!e})},o0=function(n,e,t,r,i){i===void 0&&(i=!0);var o=n.referrer,s=n.referring_domain,l=Xn(n,["referrer","referring_domain"]),a=e||{},u=a.referrer,c=a.referring_domain,f=Xn(a,["referrer","referring_domain"]);if(CT(t.excludeReferrers,n.referring_domain))return r.debug("This is not a new campaign because ".concat(n.referring_domain," is in the exclude referrer list.")),!1;if(!i&&_T(n)&&e)return r.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var d=JSON.stringify(l)!==JSON.stringify(f),h=i0(s||"")!==i0(c||""),p=!e||d||h;return p?r.debug("This is a new campaign. An $identify event will be sent."):r.debug("This is not a new campaign because it's the same as the previous one."),p},CT=function(n,e){return n===void 0&&(n=[]),e===void 0&&(e=""),n.some(function(t){return t instanceof RegExp?t.test(e):t===e})},s0=function(n,e){var t=I(I({},kr),n),r=Object.entries(t).reduce(function(i,o){var s,l=O(o,2),a=l[0],u=l[1];return i.setOnce("initial_".concat(a),(s=u??e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),u?i.set(a,u):i.unset(a)},new vr);return Qn(r)},a0=function(n){var e=n;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\."),"$"))]):[]};var l0=(function(){function n(e,t){var r;this.shouldTrackNewCampaign=!1,this.options=I({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:a0((r=t.cookieOptions)===null||r===void 0?void 0:r.domain)},e),this.storage=t.cookieStorage,this.storageKey=Wo(t.apiKey,"MKTG"),this.webExpStorageKey=Wo(t.apiKey,"MKTG_ORIGINAL"),this.currentCampaign=kr,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,this.logger=t.loggerProvider,t.loggerProvider.log("Installing web attribution tracking.")}return n.prototype.init=function(){return E(this,void 0,void 0,function(){var e,t;return S(this,function(r){switch(r.label){case 0:return[4,this.fetchCampaign()];case 1:return t=O.apply(void 0,[r.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=this.lastEventTime?ni(this.sessionTimeout,this.lastEventTime):!0,o0(this.currentCampaign,this.previousCampaign,this.options,this.logger,e)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},n.prototype.fetchCampaign=function(){return E(this,void 0,void 0,function(){var e;return S(this,function(t){switch(t.label){case 0:return[4,this.storage.get(this.webExpStorageKey)];case 1:return e=t.sent(),e?[4,this.storage.remove(this.webExpStorageKey)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,Promise.all([e||new Yu().parse(),this.storage.get(this.storageKey)])];case 4:return[2,t.sent()]}})})},n.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t=s0(this.currentCampaign,this.options);return e&&(t.event_id=e),t},n.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},n})();var _i=(function(n){ee(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i){t===void 0&&(t="");var o,s;return arguments.length>2?(o=r,s=i):typeof r=="string"?(o=r,s=void 0):(o=r?.userId,s=r),Ze(this._init(I(I({},s),{userId:o,apiKey:t})))},e.prototype._init=function(t){var r,i,o;return E(this,void 0,void 0,function(){var s,l,a,u,c,f,d,h=this;return S(this,function(p){switch(p.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,jv(t.apiKey,t,this)]);case 1:return s=p.sent(),s.fetchRemoteConfig?(this.remoteConfigClient=new Cu(s.apiKey,s.loggerProvider,s.serverZone),[4,new Promise(function(v){var m;(m=h.remoteConfigClient)===null||m===void 0||m.subscribe("configs.analyticsSDK.browserSDK","all",function(y,g,b){s.loggerProvider.debug("Remote configuration received:",JSON.stringify({remoteConfig:y,source:g,lastFetch:b},null,2)),y&&sg(y,s),v()})})]):[3,3];case 2:p.sent(),p.label=3;case 3:return[4,n.prototype._init.call(this,s)];case 4:return p.sent(),this.logBrowserOptions(s),Xu(this.config.defaultTracking)?(l=Rv(this.config),this.webAttribution=new l0(l,this.config),[4,this.webAttribution.init()]):[3,6];case 5:p.sent(),p.label=6;case 6:return a=yr(),u=a.ampTimestamp?Number(a.ampTimestamp):void 0,c=u?Date.now()<u:!0,f=c&&!Number.isNaN(Number(a.ampSessionId))?Number(a.ampSessionId):void 0,this.setSessionId((o=(i=(r=t.sessionId)!==null&&r!==void 0?r:f)!==null&&i!==void 0?i:this.config.sessionId)!==null&&o!==void 0?o:Date.now()),d=Wt(t.instanceName),d.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===li?[3,8]:[4,this.add(ig()).promise];case 7:p.sent(),p.label=8;case 8:return[4,this.add(new Pu).promise];case 9:return p.sent(),[4,this.add(new Pv).promise];case 10:return p.sent(),[4,this.add(new Lu).promise];case 11:return p.sent(),ng(this.config),Ev(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(tg()).promise]):[3,13];case 12:p.sent(),p.label=13;case 13:return xv(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(eg()).promise]):[3,15];case 14:p.sent(),p.label=15;case 15:return Zu(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(_c(Tv(this.config))).promise]):[3,17];case 16:p.sent(),p.label=17;case 17:return ec(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(xs(Cv(this.config))).promise]):[3,19];case 18:p.sent(),p.label=19;case 19:return tc(this.config.autocapture)?(this.config.loggerProvider.debug("Adding frustration interactions plugin"),[4,this.add(ef(Iv(this.config))).promise]):[3,21];case 20:p.sent(),p.label=21;case 21:return Qu(this.config.autocapture)?(this.config.loggerProvider.debug("Adding network tracking plugin"),[4,this.add(Cs(Av(this.config))).promise]):[3,23];case 22:p.sent(),p.label=23;case 23:return _v(this.config.autocapture)?(this.config.loggerProvider.debug("Adding web vitals plugin"),[4,this.add(Rs()).promise]):[3,25];case 24:p.sent(),p.label=25;case 25:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 26:return p.sent(),d.eventBridge.setEventReceiver(function(v){h.track(v.eventType,v.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.userId},e.prototype.setUserId=function(t){if(!this.config){this.q.push(this.setUserId.bind(this,t));return}this.config.loggerProvider.debug("function setUserId: ",t),(t!==this.config.userId||t===void 0)&&(this.config.userId=t,this.timeline.onIdentityChanged({userId:t}),Nu(t,this.config.instanceName))},e.prototype.getDeviceId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.deviceId},e.prototype.setDeviceId=function(t){if(!this.config){this.q.push(this.setDeviceId.bind(this,t));return}this.config.loggerProvider.debug("function setDeviceId: ",t),t!==this.config.deviceId&&(this.config.deviceId=t,this.timeline.onIdentityChanged({deviceId:t}),ku(t,this.config.instanceName))},e.prototype.reset=function(){this.setDeviceId(dt()),this.setUserId(void 0)},e.prototype.getIdentity=function(){var t,r;return{deviceId:(t=this.config)===null||t===void 0?void 0:t.deviceId,userId:(r=this.config)===null||r===void 0?void 0:r.userId,userProperties:this.userProperties}},e.prototype.getOptOut=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.optOut},e.prototype.getSessionId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.sessionId},e.prototype.setSessionId=function(t){var r,i=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,t)),Ze(Promise.resolve());if(t===this.config.sessionId)return Ze(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",t);var o=this.getSessionId();o!==t&&this.timeline.onSessionIdChanged(t);var s=this.config.lastEventTime,l=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;this.config.sessionId=t,this.config.lastEventTime=void 0,this.config.pageCounter=0,Ju(this.config.defaultTracking)&&(o&&s&&i.push(this.track(sc,void 0,{device_id:this.previousSessionDeviceId,event_id:++l,session_id:o,time:s+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var a=this.trackCampaignEventIfNeeded(++l,i);return Ju(this.config.defaultTracking)&&i.push(this.track(oc,void 0,{event_id:a?++l:l,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,Ze(Promise.all(i))},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(t){if(!this.config){this.q.push(this.setTransport.bind(this,t));return}this.config.transportProvider=ac(t)},e.prototype.identify=function(t,r){if(Ho(t)){var i=t._q;t._q=[],t=zo(new vr,i)}return r?.user_id&&this.setUserId(r.user_id),r?.device_id&&this.setDeviceId(r.device_id),n.prototype.identify.call(this,t,r)},e.prototype.groupIdentify=function(t,r,i,o){if(Ho(i)){var s=i._q;i._q=[],i=zo(new vr,s)}return n.prototype.groupIdentify.call(this,t,r,i,o)},e.prototype.revenue=function(t,r){if(Ho(t)){var i=t._q;t._q=[],t=zo(new Au,i)}return n.prototype.revenue.call(this,t,r)},e.prototype.trackCampaignEventIfNeeded=function(t,r){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var i=this.webAttribution.generateCampaignEvent(t);return r?r.push(this.track(i).promise):this.track(i),this.config.loggerProvider.log("Tracking attribution."),!0},e.prototype.process=function(t){return E(this,void 0,void 0,function(){var r,i,o;return S(this,function(s){return r=Date.now(),i=ni(this.config.sessionTimeout,this.config.lastEventTime),o=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type!==oc&&t.event_type!==sc&&(!t.session_id||t.session_id===this.getSessionId())&&(i||o?(this.setSessionId(r),o&&this.config.loggerProvider.log("Created a new session for new campaign.")):i||this.trackCampaignEventIfNeeded()),t.event_type===it.IDENTIFY&&t.user_properties&&(this.userProperties=this.getOperationAppliedUserProperties(t.user_properties)),[2,n.prototype.process.call(this,t)]})})},e.prototype.logBrowserOptions=function(t){try{var r=I(I({},t),{apiKey:t.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(r))}catch(i){this.config.loggerProvider.error("Error logging browser config",i)}},e})(_u);var IT=function(){var n=new _i;return{init:V(n.init.bind(n),"init",H(n),q(n,["config"])),add:V(n.add.bind(n),"add",H(n),q(n,["config.apiKey","timeline.plugins"])),remove:V(n.remove.bind(n),"remove",H(n),q(n,["config.apiKey","timeline.plugins"])),track:V(n.track.bind(n),"track",H(n),q(n,["config.apiKey","timeline.queue.length"])),logEvent:V(n.logEvent.bind(n),"logEvent",H(n),q(n,["config.apiKey","timeline.queue.length"])),identify:V(n.identify.bind(n),"identify",H(n),q(n,["config.apiKey","timeline.queue.length"])),groupIdentify:V(n.groupIdentify.bind(n),"groupIdentify",H(n),q(n,["config.apiKey","timeline.queue.length"])),setGroup:V(n.setGroup.bind(n),"setGroup",H(n),q(n,["config.apiKey","timeline.queue.length"])),revenue:V(n.revenue.bind(n),"revenue",H(n),q(n,["config.apiKey","timeline.queue.length"])),flush:V(n.flush.bind(n),"flush",H(n),q(n,["config.apiKey","timeline.queue.length"])),getUserId:V(n.getUserId.bind(n),"getUserId",H(n),q(n,["config","config.userId"])),setUserId:V(n.setUserId.bind(n),"setUserId",H(n),q(n,["config","config.userId"])),getDeviceId:V(n.getDeviceId.bind(n),"getDeviceId",H(n),q(n,["config","config.deviceId"])),setDeviceId:V(n.setDeviceId.bind(n),"setDeviceId",H(n),q(n,["config","config.deviceId"])),reset:V(n.reset.bind(n),"reset",H(n),q(n,["config","config.userId","config.deviceId"])),getSessionId:V(n.getSessionId.bind(n),"getSessionId",H(n),q(n,["config"])),setSessionId:V(n.setSessionId.bind(n),"setSessionId",H(n),q(n,["config"])),extendSession:V(n.extendSession.bind(n),"extendSession",H(n),q(n,["config"])),setOptOut:V(n.setOptOut.bind(n),"setOptOut",H(n),q(n,["config"])),setTransport:V(n.setTransport.bind(n),"setTransport",H(n),q(n,["config"])),getIdentity:V(n.getIdentity.bind(n),"getIdentity",H(n),q(n,["config"])),getOptOut:V(n.getOptOut.bind(n),"getOptOut",H(n),q(n,["config"]))}},We=IT();var Os={};nn(Os,{DEFAULT_ACTION_CLICK_ALLOWLIST:()=>ci,DEFAULT_CSS_SELECTOR_ALLOWLIST:()=>ui,DEFAULT_DATA_ATTRIBUTE_PREFIX:()=>Lr,IdentifyOperation:()=>Bt,LogLevel:()=>He,OfflineDisabled:()=>li,RevenueProperty:()=>St,ServerZone:()=>Vt,SpecialEventType:()=>it});Z();var l5=We.add,u5=We.extendSession,c5=We.flush,f5=We.getDeviceId,d5=We.getIdentity,h5=We.getOptOut,p5=We.getSessionId,m5=We.getUserId,v5=We.groupIdentify,g5=We.identify,y5=We.init,b5=We.logEvent,w5=We.remove,S5=We.reset,E5=We.revenue,x5=We.setDeviceId,_5=We.setGroup,C5=We.setOptOut,I5=We.setSessionId,A5=We.setTransport,T5=We.setUserId,R5=We.track;P();Z();Z();P();Z();Z();var u0="[Amplitude]",c0="".concat(u0," Session Replay ID");var f0=0,d0=Vt.US,h0={enabled:!0},Ps=1e3,p0="".concat(u0," Session Replay Debug"),m0="amp-block",Ns="amp-mask",v0="amp-unmask",g0="https://api-sr.amplitude.com/sessions/v2/track",y0="https://api-sr.eu.amplitude.com/sessions/v2/track",b0="https://api-sr.stag2.amplitude.com/sessions/v2/track",k5="".concat(tr,"_replay_unsent"),w0=1*1e6,S0=3e4,E0=6e4,x0=500,_0=10*1e3,M5=1e3*60*60*24*3,ks=1024,C0=1e3,sr;(function(n){n.GET_SR_PROPS="get-sr-props",n.DEBUG_INFO="debug-info",n.FETCH_REQUEST="fetch-request",n.METADATA="metadata",n.TARGETING_DECISION="targeting-decision"})(sr||(sr={}));var Ci=(function(){function n(e){this.logger=e,this.log=this.getSafeMethod("log"),this.warn=this.getSafeMethod("warn"),this.error=this.getSafeMethod("error"),this.debug=this.getSafeMethod("debug")}return n.prototype.getSafeMethod=function(e){var t;if(!this.logger)return(function(){});var r=this.logger[e];if(typeof r=="function"){var i=(t=r.__rrweb_original__)!==null&&t!==void 0?t:r;return i.bind(this.logger)}return(function(){})},n.prototype.enable=function(e){this.logger.enable(e)},n.prototype.disable=function(){this.logger.disable()},n})();P();Z();var Ms="medium";function AT(n){return n.toLowerCase()}function I0(n){var e=n.type;return n.hasAttribute("data-rr-is-password")?"password":e?AT(e):null}var A0=function(n,e,t){switch(e){case"light":{if(n!=="input")return!0;var r=t?I0(t):"";return r?!!(["password","hidden","email","tel"].includes(r)||t.autocomplete.startsWith("cc-")):!1}case"medium":case"conservative":return!0;default:return A0(n,Ms,t)}},TT=function(n,e,t){var r,i,o;if(e===void 0&&(e={defaultMaskLevel:Ms}),t){if(t.closest("."+Ns))return!0;var s=((r=e.maskSelector)!==null&&r!==void 0?r:[]).some(function(a){return t.closest(a)});if(s)return!0;if(t.closest("."+v0))return!1;var l=((i=e.unmaskSelector)!==null&&i!==void 0?i:[]).some(function(a){return t.closest(a)});if(l)return!1}return A0(n,(o=e.defaultMaskLevel)!==null&&o!==void 0?o:Ms,t)},gf=function(n,e){return function(t,r){return TT(n,e,r)?t.replace(/[^\s]/g,"*"):t}},Ls=function(n){var e=0;if(n.length===0)return e;for(var t=0;t<n.length;t++){var r=n.charCodeAt(t);e=(e<<5)-e+r,e|=0}return e},T0=function(n,e){var t=Ls(n.toString()),r=Math.abs(t),i=r*31,o=i%1e6;return o/1e6<e},R0=function(){var n=j();return n?.location?n.location.href:""},O0=function(n,e){return"".concat(e,"/").concat(n)},Ds=function(n,e){return e||(n===Vt.STAGING?b0:n===Vt.EU?y0:g0)},RT=function(n){if(typeof n!="string"||n.trim()==="")return!1;var e=/^\/|^https?:\/\/[^\s]+$/;return!!e.test(n)},OT=function(n){var e=n.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,".");return new RegExp("^".concat(e,"$"))},P0=function(n){if(!n.every(function(e){return typeof e.selector=="string"&&typeof e.replacement=="string"}))throw new Error("ugcFilterRules must be an array of objects with selector and replacement properties");if(!n.every(function(e){return RT(e.selector)}))throw new Error("ugcFilterRules must be an array of objects with valid globs")},Sr=function(n,e){var t,r;try{for(var i=L(e),o=i.next();!o.done;o=i.next()){var s=o.value,l=OT(s.selector);if(l.test(n))return n.replace(l,s.replacement)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},Us=function(){return E(void 0,void 0,void 0,function(){var n,e,t,r,i,o,s,l;return S(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n=j(),n?[4,n.navigator.storage.estimate()]:[3,2];case 1:return e=a.sent(),t=e.usage,r=e.quota,i=e.usageDetails,o=t?Math.round(t/ks):0,s=t&&r?Math.round((t/r+Number.EPSILON)*1e3)/1e3:0,[2,{totalStorageSize:o,percentOfQuota:s,usageDetails:JSON.stringify(i)}];case 2:return[3,4];case 3:return l=a.sent(),[3,4];case 4:return[2,{totalStorageSize:0,percentOfQuota:0,usageDetails:""}]}})})},$s=function(n){var e=I({},n),t=e.apiKey;return e.apiKey="****".concat(t.substring(t.length-4)),e};var yf=function(){return{flushMaxRetries:2,logLevel:He.Warn,loggerProvider:new Gt,transportProvider:new ai}},N0=(function(n){ee(e,n);function e(t,r){var i=this,o,s,l,a,u,c=yf();return i=n.call(this,I(I({transportProvider:c.transportProvider,loggerProvider:new Ci(r.loggerProvider||c.loggerProvider)},r),{apiKey:t}))||this,i.flushMaxRetries=r.flushMaxRetries!==void 0&&r.flushMaxRetries<=c.flushMaxRetries?r.flushMaxRetries:c.flushMaxRetries,i.apiKey=t,i.sampleRate=r.sampleRate||f0,i.serverZone=r.serverZone||d0,i.configServerUrl=r.configServerUrl,i.trackServerUrl=r.trackServerUrl,i.shouldInlineStylesheet=r.shouldInlineStylesheet,i.version=r.version,i.performanceConfig=r.performanceConfig||h0,i.storeType=(o=r.storeType)!==null&&o!==void 0?o:"idb",i.applyBackgroundColorToBlockedElements=(s=r.applyBackgroundColorToBlockedElements)!==null&&s!==void 0?s:!1,i.enableUrlChangePolling=(l=r.enableUrlChangePolling)!==null&&l!==void 0?l:!1,i.urlChangePollingInterval=(a=r.urlChangePollingInterval)!==null&&a!==void 0?a:Ps,i.captureDocumentTitle=(u=r.captureDocumentTitle)!==null&&u!==void 0?u:!1,r.privacyConfig&&(i.privacyConfig=r.privacyConfig),r.interactionConfig&&(i.interactionConfig=r.interactionConfig,i.interactionConfig.ugcFilterRules&&P0(i.interactionConfig.ugcFilterRules)),r.debugMode&&(i.debugMode=r.debugMode),r.experimental&&(i.experimental=r.experimental),r.omitElementTags&&(i.omitElementTags=r.omitElementTags),i}return e})(ti);P();Z();var bf=(n=>(n[n.DomContentLoaded=0]="DomContentLoaded",n[n.Load=1]="Load",n[n.FullSnapshot=2]="FullSnapshot",n[n.IncrementalSnapshot=3]="IncrementalSnapshot",n[n.Meta=4]="Meta",n[n.Custom=5]="Custom",n[n.Plugin=6]="Plugin",n))(bf||{});var wf=(n=>(n[n.MouseUp=0]="MouseUp",n[n.MouseDown=1]="MouseDown",n[n.Click=2]="Click",n[n.ContextMenu=3]="ContextMenu",n[n.DblClick=4]="DblClick",n[n.Focus=5]="Focus",n[n.Blur=6]="Blur",n[n.TouchStart=7]="TouchStart",n[n.TouchMove_Departed=8]="TouchMove_Departed",n[n.TouchEnd=9]="TouchEnd",n[n.TouchCancel=10]="TouchCancel",n))(wf||{});P();P();var wn;(function(n){n.US="US",n.EU="EU",n.STAGING="STAGING"})(wn||(wn={}));var et;(function(n){n.Unknown="unknown",n.Skipped="skipped",n.Success="success",n.RateLimit="rate_limit",n.PayloadTooLarge="payload_too_large",n.Invalid="invalid",n.Failed="failed",n.Timeout="Timeout",n.SystemError="SystemError"})(et||(et={}));var Sf=(function(){function n(){}return n.prototype.send=function(e,t){return Promise.resolve(null)},n.prototype.buildResponse=function(e){var t,r,i,o,s,l,a,u,c,f,d,h,p,v,m,y,g,b,w,x,_,A;if(typeof e!="object")return null;var C=e.code||0,T=this.buildStatus(C);switch(T){case et.Success:return{status:T,statusCode:C,body:{eventsIngested:(t=e.events_ingested)!==null&&t!==void 0?t:0,payloadSizeBytes:(r=e.payload_size_bytes)!==null&&r!==void 0?r:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case et.Invalid:return{status:T,statusCode:C,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(l=e.events_with_invalid_fields)!==null&&l!==void 0?l:{},eventsWithMissingFields:(a=e.events_with_missing_fields)!==null&&a!==void 0?a:{},eventsWithInvalidIdLengths:(u=e.events_with_invalid_id_lengths)!==null&&u!==void 0?u:{},epsThreshold:(c=e.eps_threshold)!==null&&c!==void 0?c:0,exceededDailyQuotaDevices:(f=e.exceeded_daily_quota_devices)!==null&&f!==void 0?f:{},silencedDevices:(d=e.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(h=e.silenced_events)!==null&&h!==void 0?h:[],throttledDevices:(p=e.throttled_devices)!==null&&p!==void 0?p:{},throttledEvents:(v=e.throttled_events)!==null&&v!==void 0?v:[]}};case et.PayloadTooLarge:return{status:T,statusCode:C,body:{error:(m=e.error)!==null&&m!==void 0?m:""}};case et.RateLimit:return{status:T,statusCode:C,body:{error:(y=e.error)!==null&&y!==void 0?y:"",epsThreshold:(g=e.eps_threshold)!==null&&g!==void 0?g:0,throttledDevices:(b=e.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(w=e.throttled_users)!==null&&w!==void 0?w:{},exceededDailyQuotaDevices:(x=e.exceeded_daily_quota_devices)!==null&&x!==void 0?x:{},exceededDailyQuotaUsers:(_=e.exceeded_daily_quota_users)!==null&&_!==void 0?_:{},throttledEvents:(A=e.throttled_events)!==null&&A!==void 0?A:[]}};case et.Timeout:default:return{status:T,statusCode:C}}},n.prototype.buildStatus=function(e){return e>=200&&e<300?et.Success:e===429?et.RateLimit:e===413?et.PayloadTooLarge:e===408?et.Timeout:e>=400&&e<500?et.Invalid:e>=500?et.Failed:et.Unknown},n})();var PT="Network error occurred, remote config fetch failed",NT="Remote config successfully fetched",kT="Remote config fetch rejected due to exceeded retry count",k0="Remote config fetch rejected due to timeout after 5 seconds",M0="Unexpected error occurred",MT="https://sr-client-cfg.amplitude.com/config",LT="https://sr-client-cfg.stag2.amplitude.com/config",DT="https://sr-client-cfg.eu.amplitude.com/config",UT=(function(){function n(e){var t=e.localConfig,r=e.configKeys,i=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteNamespaceConfig=function(o,s){return E(i,void 0,void 0,function(){var l,a,u;return S(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,this.fetchWithTimeout(s)];case 1:return a=c.sent(),a&&(u=a.configs&&a.configs[o],u)?(this.metrics.fetchTimeAPISuccess=Date.now()-l,[2,u]):(this.metrics.fetchTimeAPIFail=Date.now()-l,[2,void 0])}})})},this.getRemoteConfig=function(o,s,l){return E(i,void 0,void 0,function(){var a;return S(this,function(u){switch(u.label){case 0:return[4,this.getRemoteNamespaceConfig(o,l)];case 1:return a=u.sent(),[2,a?.[s]]}})})},this.fetchWithTimeout=function(o){return E(i,void 0,void 0,function(){var s,l,a;return S(this,function(u){switch(u.label){case 0:return s=new AbortController,l=setTimeout(function(){return s.abort()},5e3),[4,this.fetchRemoteConfig(s.signal,o)];case 1:return a=u.sent(),clearTimeout(l),[2,a]}})})},this.fetchRemoteConfig=function(o,s){return E(i,void 0,void 0,function(){var l,a,u,c,f,d,h,p,v,m,y,g,b;return S(this,function(w){switch(w.label){case 0:if(s===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:kT})];if(o.aborted)return[2,this.completeRequest({err:k0})];s!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=s,this.attempts=0),w.label=1;case 1:w.trys.push([1,3,,4]),l=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(a=L(this.configKeys),u=a.next();!u.done;u=a.next())c=u.value,l.append("config_keys",c)}catch(x){y={error:x}}finally{try{u&&!u.done&&(g=a.return)&&g.call(a)}finally{if(y)throw y.error}}return s&&l.set("session_id",String(s)),f={headers:{Accept:"*/*"},method:"GET"},d="".concat(this.getServerUrl(),"?").concat(l.toString()),this.attempts+=1,[4,fetch(d,I(I({},f),{signal:o}))];case 2:if(h=w.sent(),h===null)return[2,this.completeRequest({err:M0})];switch(p=new Sf().buildStatus(h.status),p){case et.Success:return this.attempts=0,[2,this.parseAndStoreConfig(h)];case et.Failed:return[2,this.retryFetch(o,s)];default:return[2,this.completeRequest({err:PT})]}return[3,4];case 3:return v=w.sent(),m=v,o.aborted?[2,this.completeRequest({err:k0})]:[2,this.completeRequest({err:(b=m.message)!==null&&b!==void 0?b:M0})];case 4:return[2]}})})},this.retryFetch=function(o,s){return E(i,void 0,void 0,function(){var l=this;return S(this,function(a){switch(a.label){case 0:return[4,new Promise(function(u){return setTimeout(u,l.attempts*l.retryTimeout)})];case 1:return a.sent(),[2,this.fetchRemoteConfig(o,s)]}})})},this.parseAndStoreConfig=function(o){return E(i,void 0,void 0,function(){var s;return S(this,function(l){switch(l.label){case 0:return[4,o.json()];case 1:return s=l.sent(),this.completeRequest({success:NT}),[2,s]}})})},this.localConfig=t,this.configKeys=r}return n.prototype.getServerUrl=function(){return this.localConfig.configServerUrl?this.localConfig.configServerUrl:this.localConfig.serverZone===wn.STAGING?LT:this.localConfig.serverZone===wn.EU?DT:MT},n.prototype.completeRequest=function(e){var t=e.err,r=e.success;if(t)throw new Error(t);r&&this.localConfig.loggerProvider.log(r)},n})();var L0=function(n){var e=n.localConfig,t=n.configKeys;return E(void 0,void 0,void 0,function(){return S(this,function(r){return[2,new UT({localConfig:e,configKeys:t})]})})};var D0=L0;var FT=function(n,e){var t=document.createDocumentFragment(),r=function(i){if(i===void 0&&(i=[]),typeof i=="string"&&(i=[i]),i=i.filter(function(o){try{t.querySelector(o)}catch{return e.warn('[session-replay-browser] omitting selector "'.concat(o,'" because it is invalid')),!1}return!0}),i.length!==0)return i};return n.blockSelector=r(n.blockSelector),n.maskSelector=r(n.maskSelector),n.unmaskSelector=r(n.unmaskSelector),n},BT=(function(){function n(e,t){this.localConfig=t,this.remoteConfigFetch=e}return n.prototype.generateJoinedConfig=function(e){var t,r,i,o;return E(this,void 0,void 0,function(){var s,l,a,u,c,f,d,h,p,v,m,y,g,b,w,x,_,A,C,T,R,M,$;return S(this,function(K){switch(K.label){case 0:s=I({},this.localConfig),s.optOut=this.localConfig.optOut,s.captureEnabled=!0,K.label=1;case 1:return K.trys.push([1,3,,4]),[4,this.remoteConfigFetch.getRemoteNamespaceConfig("sessionReplay",e)];case 2:return a=K.sent(),a&&(u=a.sr_sampling_config,c=a.sr_privacy_config,f=a.sr_targeting_config,d=(t=s.interactionConfig)===null||t===void 0?void 0:t.ugcFilterRules,s.interactionConfig=a.sr_interaction_config,s.interactionConfig&&d&&(s.interactionConfig.ugcFilterRules=d),s.loggingConfig=a.sr_logging_config,(u||c||f)&&(l={},u&&(l.sr_sampling_config=u),c&&(l.sr_privacy_config=c),f&&(l.sr_targeting_config=f))),[3,4];case 3:return h=K.sent(),p=h,this.localConfig.loggerProvider.warn(p.message),s.captureEnabled=!1,[3,4];case 4:if(!l)return[2,{localConfig:this.localConfig,joinedConfig:s,remoteConfig:l}];if(v=l.sr_sampling_config,m=l.sr_privacy_config,y=l.sr_targeting_config,v&&Object.keys(v).length>0?(Object.prototype.hasOwnProperty.call(v,"capture_enabled")?s.captureEnabled=v.capture_enabled:s.captureEnabled=!1,Object.prototype.hasOwnProperty.call(v,"sample_rate")&&(s.sampleRate=v.sample_rate)):(s.captureEnabled=!0,this.localConfig.loggerProvider.debug("Remote config successfully fetched, but no values set for project, Session Replay capture enabled.")),m){g=(r=s.privacyConfig)!==null&&r!==void 0?r:{},b={defaultMaskLevel:(o=(i=m.defaultMaskLevel)!==null&&i!==void 0?i:g.defaultMaskLevel)!==null&&o!==void 0?o:"medium",blockSelector:[],maskSelector:[],unmaskSelector:[]},w=function(N){var Y,le,G,X,oe,ue,D,me,Q,he={};typeof N.blockSelector=="string"&&(N.blockSelector=[N.blockSelector]);try{for(var ce=L((D=N.blockSelector)!==null&&D!==void 0?D:[]),je=ce.next();!je.done;je=ce.next()){var ft=je.value;he[ft]="block"}}catch(z){Y={error:z}}finally{try{je&&!je.done&&(le=ce.return)&&le.call(ce)}finally{if(Y)throw Y.error}}try{for(var Pe=L((me=N.maskSelector)!==null&&me!==void 0?me:[]),ze=Pe.next();!ze.done;ze=Pe.next()){var ft=ze.value;he[ft]="mask"}}catch(z){G={error:z}}finally{try{ze&&!ze.done&&(X=Pe.return)&&X.call(Pe)}finally{if(G)throw G.error}}try{for(var Ye=L((Q=N.unmaskSelector)!==null&&Q!==void 0?Q:[]),Je=Ye.next();!Je.done;Je=Ye.next()){var ft=Je.value;he[ft]="unmask"}}catch(z){oe={error:z}}finally{try{Je&&!Je.done&&(ue=Ye.return)&&ue.call(Ye)}finally{if(oe)throw oe.error}}return he},x=I(I({},w(g)),w(m));try{for(_=L(Object.entries(x)),A=_.next();!A.done;A=_.next())C=O(A.value,2),T=C[0],R=C[1],R==="mask"?b.maskSelector.push(T):R==="block"?b.blockSelector.push(T):R==="unmask"&&b.unmaskSelector.push(T)}catch(N){M={error:N}}finally{try{A&&!A.done&&($=_.return)&&$.call(_)}finally{if(M)throw M.error}}s.privacyConfig=FT(b,this.localConfig.loggerProvider)}return y&&Object.keys(y).length>0&&(s.targetingConfig=y),this.localConfig.loggerProvider.debug(JSON.stringify({name:"session replay joined config",config:$s(s)},null,2)),[2,{localConfig:this.localConfig,joinedConfig:s,remoteConfig:l}]}})})},n})();var U0=function(n,e){return E(void 0,void 0,void 0,function(){var t,r;return S(this,function(i){switch(i.label){case 0:return t=new N0(n,e),[4,D0({localConfig:t,configKeys:["sessionReplay"]})];case 1:return r=i.sent(),[2,new BT(r,t)]}})})};Z();var _t=Uint8Array,pt=Uint16Array,Ri=Uint32Array,Af=new _t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tf=new _t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$0=new _t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W0=function(n,e){for(var t=new pt(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Ri(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return[t,i]},V0=W0(Af,2),GT=V0[0],xf=V0[1];GT[28]=258,xf[258]=28;var j0=W0(Tf,0),vY=j0[0],F0=j0[1],_f=new pt(32768);for(pe=0;pe<32768;++pe)ar=(pe&43690)>>>1|(pe&21845)<<1,ar=(ar&52428)>>>2|(ar&13107)<<2,ar=(ar&61680)>>>4|(ar&3855)<<4,_f[pe]=((ar&65280)>>>8|(ar&255)<<8)>>>1;var ar,pe,Ti=function(n,e,t){for(var r=n.length,i=0,o=new pt(e);i<r;++i)++o[n[i]-1];var s=new pt(e);for(i=0;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var l;if(t){l=new pt(1<<e);var a=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],c=e-n[i],f=s[n[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)l[_f[f]>>>a]=u}else for(l=new pt(r),i=0;i<r;++i)l[i]=_f[s[n[i]-1]++]>>>15-n[i];return l},Vr=new _t(288);for(pe=0;pe<144;++pe)Vr[pe]=8;var pe;for(pe=144;pe<256;++pe)Vr[pe]=9;var pe;for(pe=256;pe<280;++pe)Vr[pe]=7;var pe;for(pe=280;pe<288;++pe)Vr[pe]=8;var pe,Fs=new _t(32);for(pe=0;pe<32;++pe)Fs[pe]=5;var pe,WT=Ti(Vr,9,0);var VT=Ti(Fs,5,0);var z0=function(n){return(n/8>>0)+(n&7&&1)},H0=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof pt?pt:n instanceof Ri?Ri:_t)(t-e);return r.set(n.subarray(e,t)),r};var lr=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8},Ii=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},Ef=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return[new _t(0),0];if(i==1){var s=new _t(t[0].s+1);return s[t[0].s]=1,[s,1]}t.sort(function(x,_){return x.f-_.f}),t.push({s:-1,f:25001});var l=t[0],a=t[1],u=0,c=1,f=2;for(t[0]={s:-1,f:l.f+a.f,l,r:a};c!=i-1;)l=t[t[u].f<t[f].f?u++:f++],a=t[u!=c&&t[u].f<t[f].f?u++:f++],t[c++]={s:-1,f:l.f+a.f,l,r:a};for(var d=o[0].s,r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var h=new pt(d+1),p=Cf(t[c-1],h,0);if(p>e){var r=0,v=0,m=p-e,y=1<<m;for(o.sort(function(_,A){return h[A.s]-h[_.s]||_.f-A.f});r<i;++r){var g=o[r].s;if(h[g]>e)v+=y-(1<<p-h[g]),h[g]=e;else break}for(v>>>=m;v>0;){var b=o[r].s;h[b]<e?v-=1<<e-h[b]++-1:++r}for(;r>=0&&v;--r){var w=o[r].s;h[w]==e&&(--h[w],++v)}p=e}return[new _t(h),p]},Cf=function(n,e,t){return n.s==-1?Math.max(Cf(n.l,e,t+1),Cf(n.r,e,t+1)):e[n.s]=t},B0=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new pt(++e),r=0,i=n[0],o=1,s=function(a){t[r++]=a},l=1;l<=e;++l)if(n[l]==i&&l!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[l]}return[t.subarray(0,r),e]},Ai=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},If=function(n,e,t){var r=t.length,i=z0(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},G0=function(n,e,t,r,i,o,s,l,a,u,c){lr(e,c++,t),++i[256];for(var f=Ef(i,15),d=f[0],h=f[1],p=Ef(o,15),v=p[0],m=p[1],y=B0(d),g=y[0],b=y[1],w=B0(v),x=w[0],_=w[1],A=new pt(19),C=0;C<g.length;++C)A[g[C]&31]++;for(var C=0;C<x.length;++C)A[x[C]&31]++;for(var T=Ef(A,7),R=T[0],M=T[1],$=19;$>4&&!R[$0[$-1]];--$);var K=u+5<<3,N=Ai(i,Vr)+Ai(o,Fs)+s,Y=Ai(i,d)+Ai(o,v)+s+14+3*$+Ai(A,R)+(2*A[16]+3*A[17]+7*A[18]);if(K<=N&&K<=Y)return If(e,c,n.subarray(a,a+u));var le,G,X,oe;if(lr(e,c,1+(Y<N)),c+=2,Y<N){le=Ti(d,h,0),G=d,X=Ti(v,m,0),oe=v;var ue=Ti(R,M,0);lr(e,c,b-257),lr(e,c+5,_-1),lr(e,c+10,$-4),c+=14;for(var C=0;C<$;++C)lr(e,c+3*C,R[$0[C]]);c+=3*$;for(var D=[g,x],me=0;me<2;++me)for(var Q=D[me],C=0;C<Q.length;++C){var he=Q[C]&31;lr(e,c,ue[he]),c+=R[he],he>15&&(lr(e,c,Q[C]>>>5&127),c+=Q[C]>>>12)}}else le=WT,G=Vr,X=VT,oe=Fs;for(var C=0;C<l;++C)if(r[C]>255){var he=r[C]>>>18&31;Ii(e,c,le[he+257]),c+=G[he+257],he>7&&(lr(e,c,r[C]>>>23&31),c+=Af[he]);var ce=r[C]&31;Ii(e,c,X[ce]),c+=oe[ce],ce>3&&(Ii(e,c,r[C]>>>5&8191),c+=Tf[ce])}else Ii(e,c,le[r[C]]),c+=G[r[C]];return Ii(e,c,le[256]),c+G[256]},jT=new Ri([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zT=function(n,e,t,r,i,o){var s=n.length,l=new _t(r+s+5*(1+Math.floor(s/7e3))+i),a=l.subarray(r,l.length-i),u=0;if(!e||s<8)for(var c=0;c<=s;c+=65535){var f=c+65535;f<s?u=If(a,u,n.subarray(c,f)):(a[c]=o,u=If(a,u,n.subarray(c,s)))}else{for(var d=jT[e-1],h=d>>>13,p=d&8191,v=(1<<t)-1,m=new pt(32768),y=new pt(v+1),g=Math.ceil(t/3),b=2*g,w=function(ve){return(n[ve]^n[ve+1]<<g^n[ve+2]<<b)&v},x=new Ri(25e3),_=new pt(288),A=new pt(32),C=0,T=0,c=0,R=0,M=0,$=0;c<s;++c){var K=w(c),N=c&32767,Y=y[K];if(m[N]=Y,y[K]=N,M<=c){var le=s-c;if((C>7e3||R>24576)&&le>423){u=G0(n,a,0,x,_,A,T,R,$,c-$,u),R=C=T=0,$=c;for(var G=0;G<286;++G)_[G]=0;for(var G=0;G<30;++G)A[G]=0}var X=2,oe=0,ue=p,D=N-Y&32767;if(le>2&&K==w(c-D))for(var me=Math.min(h,le)-1,Q=Math.min(32767,c),he=Math.min(258,le);D<=Q&&--ue&&N!=Y;){if(n[c+X]==n[c+X-D]){for(var ce=0;ce<he&&n[c+ce]==n[c+ce-D];++ce);if(ce>X){if(X=ce,oe=D,ce>me)break;for(var je=Math.min(D,ce-2),ft=0,G=0;G<je;++G){var Pe=c-D+G+32768&32767,ze=m[Pe],Ye=Pe-ze+32768&32767;Ye>ft&&(ft=Ye,Y=Pe)}}}N=Y,Y=m[N],D+=N-Y+32768&32767}if(oe){x[R++]=268435456|xf[X]<<18|F0[oe];var Je=xf[X]&31,z=F0[oe]&31;T+=Af[Je]+Tf[z],++_[257+Je],++A[z],M=c+X,++C}else x[R++]=n[c],++_[n[c]]}}u=G0(n,a,o,x,_,A,T,R,$,c-$,u)}return H0(l,0,r+z0(u)+i)},HT=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length,s=0;s!=o;){for(var l=Math.min(s+5552,o);s<l;++s)r+=t[s],i+=r;r%=65521,i%=65521}n=r,e=i},d:function(){return(n>>>8<<16|(e&255)<<8|e>>>8)+((n&255)<<23)*2}}},qT=function(n,e,t,r,i){return zT(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!i)},KT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},YT=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)};function q0(n,e){e===void 0&&(e={});var t=HT();t.p(n);var r=qT(n,e,2,4);return YT(r,e),KT(r,r.length-4,t.d()),r}function Rf(n,e){var t=n.length;if(!e&&typeof TextEncoder<"u")return new TextEncoder().encode(n);for(var r=new _t(n.length+(n.length>>>1)),i=0,o=function(u){r[i++]=u},s=0;s<t;++s){if(i+5>r.length){var l=new _t(i+8+(t-s<<1));l.set(r),r=l}var a=n.charCodeAt(s);a<128||e?o(a):a<2048?(o(192|a>>>6),o(128|a&63)):a>55295&&a<57344?(a=65536+(a&1047552)|n.charCodeAt(++s)&1023,o(240|a>>>18),o(128|a>>>12&63),o(128|a>>>6&63),o(128|a&63)):(o(224|a>>>12),o(128|a>>>6&63),o(128|a&63))}return H0(r,0,i)}function Of(n,e){var t="";if(!e&&typeof TextDecoder<"u")return new TextDecoder().decode(n);for(var r=0;r<n.length;){var i=n[r++];i<128||e?t+=String.fromCharCode(i):i<224?t+=String.fromCharCode((i&31)<<6|n[r++]&63):i<240?t+=String.fromCharCode((i&15)<<12|(n[r++]&63)<<6|n[r++]&63):(i=((i&15)<<18|(n[r++]&63)<<12|(n[r++]&63)<<6|n[r++]&63)-65536,t+=String.fromCharCode(55296|i>>10,56320|i&1023))}return t}var Pf="v1";var Nf=n=>{let e={...n,v:Pf};return Of(q0(Rf(JSON.stringify(e))),!0)};var XT=2e3,K0=(function(){function n(e,t,r,i){var o=this,s,l,a;this.taskQueue=[],this.isProcessing=!1,this.compressEvent=function(h){var p=Nf(h);return JSON.stringify(p)},this.addCompressedEventToManager=function(h,p){o.eventsManager&&o.deviceId&&o.eventsManager.addEvent({event:{type:"replay",data:h},sessionId:p,deviceId:o.deviceId})},this.addCompressedEvent=function(h,p){if(o.worker)o.worker.postMessage({event:h,sessionId:p});else{var v=o.compressEvent(h);o.addCompressedEventToManager(v,p)}},this.terminate=function(){var h;(h=o.worker)===null||h===void 0||h.terminate()};var u=j();this.canUseIdleCallback=u&&"requestIdleCallback"in u,this.eventsManager=e,this.config=t,this.deviceId=r,this.timeout=((s=t.performanceConfig)===null||s===void 0?void 0:s.timeout)||XT;var c={},f=(l=c.COMPRESSION_WEBWORKER_BODY)!==null&&l!==void 0?l:i;if(!((a=this.config.experimental)===null||a===void 0)&&a.useWebWorker&&u&&u.Worker&&f){t.loggerProvider.log("[Experimental] Enabling web worker for compression");var d=new Worker(URL.createObjectURL(new Blob([f],{type:"application/javascript"})));d.onerror=function(h){t.loggerProvider.error(h)},d.onmessage=function(h){var p=h.data,v=p.compressedEvent,m=p.sessionId;o.addCompressedEventToManager(v,m)},this.worker=d}}return n.prototype.scheduleIdleProcessing=function(){var e=this;this.isProcessing||(this.isProcessing=!0,requestIdleCallback(function(t){e.processQueue(t)},{timeout:this.timeout}))},n.prototype.enqueueEvent=function(e,t){var r;this.canUseIdleCallback&&(!((r=this.config.performanceConfig)===null||r===void 0)&&r.enabled)?(this.config.loggerProvider.debug("Enqueuing event for processing during idle time."),this.taskQueue.push({event:e,sessionId:t}),this.scheduleIdleProcessing()):(this.config.loggerProvider.debug("Processing event without idle callback."),this.addCompressedEvent(e,t))},n.prototype.processQueue=function(e){for(var t=this;this.taskQueue.length>0&&(e.timeRemaining()>0||e.didTimeout);){var r=this.taskQueue.shift();if(r){var i=r.event,o=r.sessionId;this.addCompressedEvent(i,o)}}this.taskQueue.length>0?requestIdleCallback(function(s){t.processQueue(s)},{timeout:this.timeout}):this.isProcessing=!1},n})();P();P();Z();var Y0="Unexpected error occurred",X0="Network error occurred, event batch rejected",Z0="Session replay event batch rejected due to exceeded retry count",jr="Failed to store session replay events in IndexedDB",J0="Session replay event batch not sent due to missing device ID",Q0="Session replay event batch not sent due to missing api key";var Oi="1.28.9";var eb=(function(){function n(e){var t=e.trackServerUrl,r=e.loggerProvider,i=e.payloadBatcher;this.storageKey="",this.retryTimeout=1e3,this.scheduled=null,this.queue=[],this.loggerProvider=r,this.payloadBatcher=i||function(o){return o},this.trackServerUrl=t}return n.prototype.sendEventsList=function(e){this.addToQueue(I(I({},e),{attempts:0,timeout:0}))},n.prototype.addToQueue=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t.filter(function(o){return o.attempts<(o.flushMaxRetries||0)?(o.attempts+=1,!0):(e.completeRequest({context:o,err:Z0}),!1)});i.forEach(function(o){if(e.queue=e.queue.concat(o),o.timeout===0){e.schedule(0);return}setTimeout(function(){o.timeout=0,e.schedule(0)},o.timeout)})},n.prototype.schedule=function(e){var t=this;this.scheduled||(this.scheduled=setTimeout(function(){t.flush(!0).then(function(){t.queue.length>0&&t.schedule(e)})},e))},n.prototype.flush=function(e){return e===void 0&&(e=!1),E(this,void 0,void 0,function(){var t,r,i=this;return S(this,function(o){switch(o.label){case 0:return t=[],r=[],this.queue.forEach(function(s){return s.timeout===0?t.push(s):r.push(s)}),this.queue=r,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),[4,Promise.all(t.map(function(s){return i.send(s,e)}))];case 1:return o.sent(),[2]}})})},n.prototype.send=function(e,t){var r,i;return t===void 0&&(t=!0),E(this,void 0,void 0,function(){var o,s,l,a,u,c,f,d,h,p,v,m,y;return S(this,function(g){switch(g.label){case 0:if(o=e.apiKey,!o)return[2,this.completeRequest({context:e,err:Q0})];if(s=e.deviceId,!s)return[2,this.completeRequest({context:e,err:J0})];if(l=R0(),a=Oi,u=e.sampleRate,c=new URLSearchParams({device_id:s,session_id:"".concat(e.sessionId),type:"".concat(e.type)}),f="".concat(((r=e.version)===null||r===void 0?void 0:r.type)||"standalone","/").concat(((i=e.version)===null||i===void 0?void 0:i.version)||a),d=this.payloadBatcher({version:1,events:e.events}),d.events.length===0)return this.completeRequest({context:e}),[2];g.label=1;case 1:return g.trys.push([1,3,,4]),h={headers:{"Content-Type":"application/json",Accept:"*/*",Authorization:"Bearer ".concat(o),"X-Client-Version":a,"X-Client-Library":f,"X-Client-Url":l.substring(0,C0),"X-Client-Sample-Rate":"".concat(u)},body:JSON.stringify(d),method:"POST"},p="".concat(Ds(e.serverZone,this.trackServerUrl),"?").concat(c.toString()),[4,fetch(p,h)];case 2:if(v=g.sent(),v===null)return this.completeRequest({context:e,err:Y0}),[2];if(t)this.handleReponse(v.status,e);else{m="";try{m=JSON.stringify(v.body,null,2)}catch{}this.completeRequest({context:e,success:"".concat(v.status,": ").concat(m)})}return[3,4];case 3:return y=g.sent(),this.completeRequest({context:e,err:y}),[3,4];case 4:return[2]}})})},n.prototype.handleReponse=function(e,t){var r=new nr().buildStatus(e);switch(r){case Te.Success:this.handleSuccessResponse(t);break;case Te.Failed:this.handleOtherResponse(t);break;default:this.completeRequest({context:t,err:X0})}},n.prototype.handleSuccessResponse=function(e){var t=Math.round(new Blob(e.events).size/ks);this.completeRequest({context:e,success:"Session replay event batch tracked successfully for session id ".concat(e.sessionId,", size of events: ").concat(t," KB")})},n.prototype.handleOtherResponse=function(e){this.addToQueue(I(I({},e),{timeout:e.attempts*this.retryTimeout}))},n.prototype.completeRequest=function(e){var t=e.context,r=e.err,i=e.success;t.onComplete(),r?this.loggerProvider.warn(r):i&&this.loggerProvider.log(i)},n})();P();Z();Gs();P();var Ws=(function(){function n(e){var t=this,r,i,o;this.minInterval=x0,this.maxInterval=_0,this.maxPersistedEventsSize=w0,this.interval=this.minInterval,this._timeAtLastSplit=Date.now(),this.shouldSplitEventsList=function(s,l){var a=t.getStringSize(l),u=t.getEventsArraySize(s);return u+a>=t.maxPersistedEventsSize?!0:Date.now()-t.timeAtLastSplit>t.interval&&s.length?(t.interval=Math.min(t.maxInterval,t.interval+t.minInterval),t._timeAtLastSplit=Date.now(),!0):!1},this.loggerProvider=e.loggerProvider,this.minInterval=(r=e.minInterval)!==null&&r!==void 0?r:this.minInterval,this.maxInterval=(i=e.maxInterval)!==null&&i!==void 0?i:this.maxInterval,this.maxPersistedEventsSize=(o=e.maxPersistedEventsSize)!==null&&o!==void 0?o:this.maxPersistedEventsSize}return Object.defineProperty(n.prototype,"timeAtLastSplit",{get:function(){return this._timeAtLastSplit},enumerable:!1,configurable:!0}),n.prototype.getStringSize=function(e){return e.length},n.prototype.getEventsArraySize=function(e){var t,r,i=0;try{for(var o=L(e),s=o.next();!s.done;s=o.next()){var l=s.value;i+=this.getStringSize(l)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}var a=2+Math.max(0,e.length-1)+e.length*2;return i+a},n})();var Pi;(function(n){n.RECORDING="recording",n.SENT="sent"})(Pi||(Pi={}));var Ni="sessionCurrentSequence",ki="sequencesToSend";var lR=function(){var n=j();return new Promise(function(e,t){if(!n)return t(new Error("Global scope not found"));if(!n.indexedDB)return t(new Error("Session Replay: cannot find indexedDB"));try{var r=n.indexedDB.open("keyval-store");r.onupgradeneeded=function(){r.result.version===1&&(r.result.close(),r.transaction&&r.transaction.abort(),n.indexedDB.deleteDatabase("keyval-store"),e())},r.onsuccess=function(){e(r.result)},r.onerror=function(){t(r.error)}}catch(i){t(i)}})},lb=function(n){return E(void 0,void 0,void 0,function(){var e,t;return S(this,function(r){switch(r.label){case 0:return n.length>0?(e=10,t=n.splice(0,e),[4,Promise.all(t)]):[3,2];case 1:return r.sent(),[3,0];case 2:return[2]}})})},uR=function(n){var e,t;return n.objectStoreNames.contains(Ni)||(t=n.createObjectStore(Ni,{keyPath:"sessionId"})),n.objectStoreNames.contains(ki)||(e=n.createObjectStore(ki,{keyPath:"sequenceId",autoIncrement:!0}),e.createIndex("sessionId","sessionId")),{sequencesStore:e,currentSequenceStore:t}},cR=function(n){return E(void 0,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,Sn(n,1,{upgrade:uR})];case 1:return[2,e.sent()]}})})},ub=(function(n){ee(e,n);function e(t){var r=n.call(this,t)||this;return r.getSequencesToSend=function(){return E(r,void 0,void 0,function(){var i,o,s,l,a,u;return S(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),i=[],[4,this.db.transaction("sequencesToSend").store.openCursor()];case 1:o=c.sent(),c.label=2;case 2:return o?(s=o.value,l=s.sessionId,a=s.events,i.push({events:a,sequenceId:o.key,sessionId:l}),[4,o.continue()]):[3,4];case 3:return o=c.sent(),[3,2];case 4:return[2,i];case 5:return u=c.sent(),this.loggerProvider.warn("".concat(jr,": ").concat(u)),[3,6];case 6:return[2,void 0]}})})},r.storeCurrentSequence=function(i){return E(r,void 0,void 0,function(){var o,s,l;return S(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,this.db.get(Ni,i)];case 1:return o=a.sent(),o?[4,this.db.put(ki,{sessionId:i,events:o.events})]:[2,void 0];case 2:return s=a.sent(),[4,this.db.put(Ni,{sessionId:i,events:[]})];case 3:return a.sent(),[2,I(I({},o),{sessionId:i,sequenceId:s})];case 4:return l=a.sent(),this.loggerProvider.warn("".concat(jr,": ").concat(l)),[3,5];case 5:return[2,void 0]}})})},r.addEventToCurrentSequence=function(i,o){return E(r,void 0,void 0,function(){var s,l,a,u,c,f;return S(this,function(d){switch(d.label){case 0:return d.trys.push([0,10,,11]),s=this.db.transaction(Ni,"readwrite"),[4,s.store.get(i)];case 1:return l=d.sent(),l?[3,3]:[4,s.store.put({sessionId:i,events:[o]})];case 2:return d.sent(),[2];case 3:return a=void 0,this.shouldSplitEventsList(l.events,o)?(a=l.events,[4,s.store.put({sessionId:i,events:[o]})]):[3,5];case 4:return d.sent(),[3,7];case 5:return u=l.events.concat(o),[4,s.store.put({sessionId:i,events:u})];case 6:d.sent(),d.label=7;case 7:return[4,s.done];case 8:return d.sent(),a?[4,this.storeSendingEvents(i,a)]:[2,void 0];case 9:return c=d.sent(),c?[2,{events:a,sessionId:i,sequenceId:c}]:[2,void 0];case 10:return f=d.sent(),this.loggerProvider.warn("".concat(jr,": ").concat(f)),[3,11];case 11:return[2,void 0]}})})},r.storeSendingEvents=function(i,o){return E(r,void 0,void 0,function(){var s,l;return S(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.db.put(ki,{sessionId:i,events:o})];case 1:return s=a.sent(),[2,s];case 2:return l=a.sent(),this.loggerProvider.warn("".concat(jr,": ").concat(l)),[3,3];case 3:return[2,void 0]}})})},r.cleanUpSessionEventsStore=function(i,o){return E(r,void 0,void 0,function(){var s;return S(this,function(l){switch(l.label){case 0:if(!o)return[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.db.delete(ki,o)];case 2:return l.sent(),[3,4];case 3:return s=l.sent(),this.loggerProvider.warn("".concat(jr,": ").concat(s)),[3,4];case 4:return[2]}})})},r.transitionFromKeyValStore=function(i){return E(r,void 0,void 0,function(){var o,s,l,a,u,c,f,d,h=this;return S(this,function(p){switch(p.label){case 0:return p.trys.push([0,6,,7]),[4,lR()];case 1:if(o=p.sent(),!o)return[2];s=function(v,m){return E(h,void 0,void 0,function(){var y,g,b=this;return S(this,function(w){switch(w.label){case 0:return y=m.sessionSequences,g=[],Object.keys(y).forEach(function(x){var _=parseInt(x,10),A=y[_];if(_===m.currentSequenceId){var C=A.events.map(function(T){return E(b,void 0,void 0,function(){return S(this,function(R){return[2,this.addEventToCurrentSequence(v,T)]})})});g.push.apply(g,U([],O(C),!1))}else A.status!==Pi.SENT&&g.push(b.storeSendingEvents(v,A.events))}),[4,lb(g)];case 1:return w.sent(),[2]}})})},l="".concat(Zn,"_").concat(this.apiKey.substring(0,10)),p.label=2;case 2:return p.trys.push([2,4,,5]),a=o.transaction("keyval").objectStore("keyval").getAll(l),u=new Promise(function(v){a.onsuccess=function(m){return E(h,void 0,void 0,function(){var y,g,b,w=this;return S(this,function(x){switch(x.label){case 0:return y=m&&m.target.result,g=y&&y[0],g?(b=[],Object.keys(g).forEach(function(_){var A=parseInt(_,10),C=g[A];if(i===A)b.push(s(A,C));else{var T=C.sessionSequences;Object.keys(T).forEach(function(R){var M=parseInt(R,10);T[M].status!==Pi.SENT&&b.push(w.storeSendingEvents(A,T[M].events))})}}),[4,lb(b)]):[3,2];case 1:x.sent(),x.label=2;case 2:return v(),[2]}})})}}),[4,u];case 3:return p.sent(),c=j(),c&&c.indexedDB.deleteDatabase("keyval-store"),[3,5];case 4:return f=p.sent(),this.loggerProvider.warn("Failed to transition session replay events from keyval to new store: ".concat(f)),[3,5];case 5:return[3,7];case 6:return d=p.sent(),this.loggerProvider.warn("Failed to access keyval store: ".concat(d,". For more information, visit: https://www.docs.developers.amplitude.com/session-replay/sdks/standalone/#indexeddb-best-practices")),[3,7];case 7:return[2]}})})},r.apiKey=t.apiKey,r.db=t.db,r}return e.new=function(t,r,i){return E(this,void 0,void 0,function(){var o,s,l,a,u;return S(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),o=t==="replay"?"":"_".concat(t),s="".concat(r.apiKey.substring(0,10),"_amp_session_replay_events").concat(o),[4,cR(s)];case 1:return l=c.sent(),a=new e(I(I({},r),{db:l})),[4,a.transitionFromKeyValStore(i)];case 2:return c.sent(),[2,a];case 3:return u=c.sent(),r.loggerProvider.warn("".concat(jr,": ").concat(u)),[3,4];case 4:return[2]}})})},e.prototype.getCurrentSequenceEvents=function(t){return E(this,void 0,void 0,function(){var s,r,i,o,s,l,a,u;return S(this,function(c){switch(c.label){case 0:return t?[4,this.db.get("sessionCurrentSequence",t)]:[3,2];case 1:return s=c.sent(),s?[2,[s]]:[2,void 0];case 2:r=[],c.label=3;case 3:return c.trys.push([3,8,9,10]),[4,this.db.getAll("sessionCurrentSequence")];case 4:i=L.apply(void 0,[c.sent()]),o=i.next(),c.label=5;case 5:if(o.done)return[3,7];s=o.value,r.push(s),c.label=6;case 6:return o=i.next(),[3,5];case 7:return[3,10];case 8:return l=c.sent(),a={error:l},[3,10];case 9:try{o&&!o.done&&(u=i.return)&&u.call(i)}finally{if(a)throw a.error}return[7];case 10:return[2,r]}})})},e})(Ws);P();var cb=(function(n){ee(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.finalizedSequences={},t.sequences={},t.sequenceId=0,t}return e.prototype.resetCurrentSequence=function(t){this.sequences[t]=[]},e.prototype.addSequence=function(t){var r=this.sequenceId++,i=U([],O(this.sequences[t]),!1);return this.finalizedSequences[r]={sessionId:t,events:i},this.resetCurrentSequence(t),{sequenceId:r,events:i,sessionId:t}},e.prototype.getSequencesToSend=function(){return E(this,void 0,void 0,function(){return S(this,function(t){return[2,Object.entries(this.finalizedSequences).map(function(r){var i=O(r,2),o=i[0],s=i[1],l=s.sessionId,a=s.events;return{sequenceId:Number(o),sessionId:l,events:a}})]})})},e.prototype.storeCurrentSequence=function(t){return E(this,void 0,void 0,function(){return S(this,function(r){return this.sequences[t]?[2,this.addSequence(t)]:[2,void 0]})})},e.prototype.addEventToCurrentSequence=function(t,r){return E(this,void 0,void 0,function(){var i;return S(this,function(o){return this.sequences[t]||this.resetCurrentSequence(t),this.shouldSplitEventsList(this.sequences[t],r)&&(i=this.addSequence(t)),this.sequences[t].push(r),[2,i]})})},e.prototype.storeSendingEvents=function(t,r){return E(this,void 0,void 0,function(){return S(this,function(i){return this.finalizedSequences[this.sequenceId]={sessionId:t,events:r},[2,this.sequenceId++]})})},e.prototype.cleanUpSessionEventsStore=function(t,r){return E(this,void 0,void 0,function(){return S(this,function(i){return r!==void 0&&delete this.finalizedSequences[r],[2]})})},e})(Ws);var Bf=function(n){var e=n.config,t=n.sessionId,r=n.minInterval,i=n.maxInterval,o=n.type,s=n.payloadBatcher,l=n.storeType;return E(void 0,void 0,void 0,function(){function a(g){return g===void 0&&(g=!1),E(this,void 0,void 0,function(){return S(this,function(b){return[2,u.flush(g)]})})}var u,c,f,d,h,p,v,m,y;return S(this,function(g){switch(g.label){case 0:return u=new eb(I(I({},e),{loggerProvider:e.loggerProvider,payloadBatcher:s})),c=function(){return new cb({loggerProvider:e.loggerProvider,maxInterval:i,minInterval:r})},f=function(){return E(void 0,void 0,void 0,function(){var b;return S(this,function(w){switch(w.label){case 0:return[4,ub.new(o,{loggerProvider:e.loggerProvider,minInterval:r,maxInterval:i,apiKey:e.apiKey},t)];case 1:return b=w.sent(),e.loggerProvider.log("Failed to initialize idb store, falling back to memory store."),[2,b??c()]}})})},l!=="idb"?[3,2]:[4,f()];case 1:return h=g.sent(),[3,3];case 2:h=c(),g.label=3;case 3:return d=h,p=function(b){var w=b.events,x=b.sessionId,_=b.deviceId,A=b.sequenceId;e.debugMode&&Us().then(function(C){var T=C.totalStorageSize,R=C.percentOfQuota,M=C.usageDetails;e.loggerProvider.debug("Total storage size: ".concat(T," KB, percentage of quota: ").concat(R,"%, usage details: ").concat(M))}).catch(function(){}),u.sendEventsList({events:w,sessionId:x,flushMaxRetries:e.flushMaxRetries,apiKey:e.apiKey,deviceId:_,sampleRate:e.sampleRate,serverZone:e.serverZone,version:e.version,type:o,onComplete:function(){return E(void 0,void 0,void 0,function(){return S(this,function(C){switch(C.label){case 0:return[4,d.cleanUpSessionEventsStore(x,A)];case 1:return C.sent(),[2]}})})}})},v=function(b){var w=b.sessionId,x=b.deviceId;d.storeCurrentSequence(w).then(function(_){_&&p({sequenceId:_.sequenceId,events:_.events,sessionId:_.sessionId,deviceId:x})}).catch(function(_){e.loggerProvider.warn("Failed to get current sequence of session replay events for session:",_)})},m=function(b){var w=b.deviceId;return E(void 0,void 0,void 0,function(){var x;return S(this,function(_){switch(_.label){case 0:return[4,d.getSequencesToSend()];case 1:return x=_.sent(),x&&x.forEach(function(A){p({sequenceId:A.sequenceId,events:A.events,sessionId:A.sessionId,deviceId:w})}),[2]}})})},y=function(b){var w=b.event,x=b.sessionId,_=b.deviceId;d.addEventToCurrentSequence(x,w.data).then(function(A){return A&&p({sequenceId:A.sequenceId,events:A.events,sessionId:A.sessionId,deviceId:_})}).catch(function(A){e.loggerProvider.warn("Failed to add event to session replay capture:",A)})},[2,{sendCurrentSequenceEvents:v,addEvent:y,sendStoredEvents:m,flush:a}]}})})};P();var Gf=(function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=new Map;e.forEach(function(i){r.set(i.name,i.manager)}),this.managers=r}return n.prototype.sendStoredEvents=function(e){return E(this,void 0,void 0,function(){var t;return S(this,function(r){switch(r.label){case 0:return t=[],this.managers.forEach(function(i){t.push(i.sendStoredEvents(e))}),[4,Promise.all(t)];case 1:return r.sent(),[2]}})})},n.prototype.addEvent=function(e){var t,r=e.sessionId,i=e.event,o=e.deviceId;(t=this.managers.get(i.type))===null||t===void 0||t.addEvent({sessionId:r,event:i,deviceId:o})},n.prototype.sendCurrentSequenceEvents=function(e){var t=e.sessionId,r=e.deviceId;this.managers.forEach(function(i){i.sendCurrentSequenceEvents({sessionId:t,deviceId:r})})},n.prototype.flush=function(e){return E(this,void 0,void 0,function(){var t;return S(this,function(r){switch(r.label){case 0:return t=[],this.managers.forEach(function(i){t.push(i.flush(e))}),[4,Promise.all(t)];case 1:return r.sent(),[2]}})})},n})();P();Z();var fb={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},db={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Vs={};function fR(n){var e,t;let r=(t=(e=globalThis?.Zone)==null?void 0:e.__symbol__)==null?void 0:t.call(e,n);if(r&&globalThis[r])return globalThis[r]}function jf(n){if(Vs[n])return Vs[n];let e=fR(n)||globalThis[n],t=e.prototype,r=n in fb?fb[n]:void 0,i=!!(r&&r.every(l=>{var a,u;return!!((u=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&u.toString().includes("[native code]"))})),o=n in db?db[n]:void 0,s=!!(o&&o.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(i&&s)return Vs[n]=e.prototype,e.prototype;try{let l=document.createElement("iframe");document.body.appendChild(l);let a=l.contentWindow;if(!a)return e.prototype;let u=a[n].prototype;return document.body.removeChild(l),u?Vs[n]=u:t}catch{return t}}var Wf={};function Er(n,e,t){var r;let i=`${n}.${String(t)}`;if(Wf[i])return Wf[i].call(e);let o=jf(n),s=(r=Object.getOwnPropertyDescriptor(o,t))==null?void 0:r.get;return s?(Wf[i]=s,s.call(e)):e[t]}var Vf={};function hb(n,e,t){let r=`${n}.${String(t)}`;if(Vf[r])return Vf[r].bind(e);let o=jf(n)[t];return typeof o!="function"?e[t]:(Vf[r]=o,o.bind(e))}function dR(n){return Er("Node",n,"childNodes")}function hR(n){return Er("Node",n,"parentNode")}function pR(n){return Er("Node",n,"parentElement")}function mR(n){return Er("Node",n,"textContent")}function vR(n,e){return hb("Node",n,"contains")(e)}function gR(n){return hb("Node",n,"getRootNode")()}function yR(n){return!n||!("host"in n)?null:Er("ShadowRoot",n,"host")}function bR(n){return n.styleSheets}function wR(n){return!n||!("shadowRoot"in n)?null:Er("Element",n,"shadowRoot")}function SR(n,e){return Er("Element",n,"querySelector")(e)}function ER(n,e){return Er("Element",n,"querySelectorAll")(e)}function xR(){return jf("MutationObserver").constructor}var zf={childNodes:dR,parentNode:hR,parentElement:pR,textContent:mR,contains:vR,getRootNode:gR,host:yR,styleSheets:bR,shadowRoot:wR,querySelector:SR,querySelectorAll:ER,mutationObserver:xR};function pb(n){var e,t,r,i,o=n.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:n.pageXOffset!==void 0?n.pageXOffset:o.documentElement.scrollLeft||o?.body&&((e=zf.parentElement(o.body))===null||e===void 0?void 0:e.scrollLeft)||((t=o?.body)===null||t===void 0?void 0:t.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:n.pageYOffset!==void 0?n.pageYOffset:o?.documentElement.scrollTop||o?.body&&((r=zf.parentElement(o.body))===null||r===void 0?void 0:r.scrollTop)||((i=o?.body)===null||i===void 0?void 0:i.scrollTop)||0}}function js(){var n=j();return n?.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}function zs(){var n=j();return n?.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}P();var Ct,qf,yb;function bb(n,e){if(yb=new Date,n.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(n.tagName.toLowerCase()==="html")return"html";var t={root:document.body,idName:function(o){return!0},className:function(o){return!0},tagName:function(o){return!0},attr:function(o,s){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4,timeoutMs:void 0};Ct=I(I({},t),e),qf=_R(Ct.root,t);var r=Hs(n,"all",function(){return Hs(n,"two",function(){return Hs(n,"one",function(){return Hs(n,"none")})})});if(r){var i=Eb(xb(r,n));return i.length>0&&(r=i[0]),Ys(r)}else throw new Error("Selector was not found.")}function _R(n,e){return n.nodeType===Node.DOCUMENT_NODE?n:n===e.root?n.ownerDocument:n}function Hs(n,e,t){for(var r=null,i=[],o=n,s=0,l=function(){var u,c,f=new Date().getTime()-yb.getTime();if(Ct.timeoutMs!==void 0&&f>Ct.timeoutMs)throw new Error("Timeout: Can't find a unique selector after ".concat(f,"ms"));var d=Ks(CR(o))||Ks.apply(void 0,U([],O(IR(o)),!1))||Ks.apply(void 0,U([],O(AR(o)),!1))||Ks(TR(o))||[gb()],h=RR(o);if(e=="all")h&&(d=d.concat(d.filter(Hf).map(function(g){return qs(g,h)})));else if(e=="two")d=d.slice(0,1),h&&(d=d.concat(d.filter(Hf).map(function(g){return qs(g,h)})));else if(e=="one"){var p=O(d=d.slice(0,1),1),v=p[0];h&&Hf(v)&&(d=[qs(v,h)])}else e=="none"&&(d=[gb()],h&&(d=[qs(d[0],h)]));try{for(var m=(u=void 0,L(d)),y=m.next();!y.done;y=m.next()){var v=y.value;v.level=s}}catch(g){u={error:g}}finally{try{y&&!y.done&&(c=m.return)&&c.call(m)}finally{if(u)throw u.error}}if(i.push(d),i.length>=Ct.seedMinLength&&(r=mb(i,t),r))return"break";o=o.parentElement,s++};o;){var a=l();if(a==="break")break}return r||(r=mb(i,t)),!r&&t?t():r}function mb(n,e){var t,r,i=Eb(Sb(n));if(i.length>Ct.threshold)return e?e():null;try{for(var o=L(i),s=o.next();!s.done;s=o.next()){var l=s.value;if(wb(l))return l}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return null}function Ys(n){for(var e=n[0],t=e.name,r=1;r<n.length;r++){var i=n[r].level||0;e.level===i-1?t="".concat(n[r].name," > ").concat(t):t="".concat(n[r].name," ").concat(t),e=n[r]}return t}function vb(n){return n.map(function(e){return e.penalty}).reduce(function(e,t){return e+t},0)}function wb(n){var e=Ys(n);switch(qf.querySelectorAll(e).length){case 0:throw new Error("Can't select any node with this selector: ".concat(e));case 1:return!0;default:return!1}}function CR(n){var e=n.getAttribute("id");return e&&Ct.idName(e)?{name:"#"+CSS.escape(e),penalty:0}:null}function IR(n){var e=Array.from(n.attributes).filter(function(t){return Ct.attr(t.name,t.value)});return e.map(function(t){return{name:"[".concat(CSS.escape(t.name),'="').concat(CSS.escape(t.value),'"]'),penalty:.5}})}function AR(n){var e=Array.from(n.classList).filter(Ct.className);return e.map(function(t){return{name:"."+CSS.escape(t),penalty:1}})}function TR(n){var e=n.tagName.toLowerCase();return Ct.tagName(e)?{name:e,penalty:2}:null}function gb(){return{name:"*",penalty:3}}function RR(n){var e=n.parentNode;if(!e)return null;var t=e.firstChild;if(!t)return null;for(var r=0;t&&(t.nodeType===Node.ELEMENT_NODE&&r++,t!==n);)t=t.nextSibling;return r}function qs(n,e){return{name:n.name+":nth-child(".concat(e,")"),penalty:n.penalty+1}}function Hf(n){return n.name!=="html"&&!n.name.startsWith("#")}function Ks(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(OR);return t.length>0?t:null}function OR(n){return n!=null}function Sb(n,e){var t,r,i,o,s,l;return e===void 0&&(e=[]),S(this,function(a){switch(a.label){case 0:if(!(n.length>0))return[3,9];a.label=1;case 1:a.trys.push([1,6,7,8]),t=L(n[0]),r=t.next(),a.label=2;case 2:return r.done?[3,5]:(i=r.value,[5,L(Sb(n.slice(1,n.length),e.concat(i)))]);case 3:a.sent(),a.label=4;case 4:return r=t.next(),[3,2];case 5:return[3,8];case 6:return o=a.sent(),s={error:o},[3,8];case 7:try{r&&!r.done&&(l=t.return)&&l.call(t)}finally{if(s)throw s.error}return[7];case 8:return[3,11];case 9:return[4,e];case 10:a.sent(),a.label=11;case 11:return[2]}})}function Eb(n){return U([],O(n),!1).sort(function(e,t){return vb(e)-vb(t)})}function xb(n,e,t){var r,i,o;return t===void 0&&(t={counter:0,visited:new Map}),S(this,function(s){switch(s.label){case 0:if(!(n.length>2&&n.length>Ct.optimizedMinLength))return[3,5];r=1,s.label=1;case 1:return r<n.length-1?t.counter>Ct.maxNumberOfTries?[2]:(t.counter+=1,i=U([],O(n),!1),i.splice(r,1),o=Ys(i),t.visited.has(o)?[2]:wb(i)&&PR(i,e)?[4,i]:[3,4]):[3,5];case 2:return s.sent(),t.visited.set(o,!0),[5,L(xb(i,e,t))];case 3:s.sent(),s.label=4;case 4:return r++,[3,1];case 5:return[2]}})}function PR(n,e){return qf.querySelector(Ys(n))===e}Z();var NR=36e5,_b=function(n){var e=n.version,t=n.events,r=[];return t.forEach(function(i){var o=JSON.parse(i);o.count=1,o.type==="click"&&r.push(o)}),{version:e,events:r}},Cb=function(n){var e=n.version,t=n.events,r=[];t.forEach(function(o){var s=JSON.parse(o);s.type==="click"&&r.push(s)});var i=r.reduce(function(o,s){var l=s.x,a=s.y,u=s.selector,c=s.timestamp,f=c-c%NR,d="".concat(l,":").concat(a,":").concat(u??"",":").concat(f);return o[d]?o[d].count+=1:o[d]=I(I({},s),{timestamp:f,count:1}),o},{});return{version:e,events:Object.values(i)}},Ib=function(n,e){var t=e.eventsManager,r=e.sessionId,i=e.deviceIdFn,o=e.mirror,s=e.ugcFilterRules;return function(l){if(l.type===wf.Click){var a=j();if(a){var u=a.location,c=a.innerHeight,f=a.innerWidth;if(u){var d=l.x,h=l.y;if(!(d===void 0||h===void 0)){var p=o.getNode(l.id),v;if(p)try{v=bb(p)}catch{n.debug("error resolving selector from finder")}var m=pb(a),y=m.left,g=m.top,b=Sr(u.href,s),w={x:d+y,y:h+g,selector:v,viewportHeight:c,viewportWidth:f,pageUrl:b,timestamp:Date.now(),type:"click"},x=i();x&&t.addEvent({sessionId:r,event:{type:"interaction",data:JSON.stringify(w)},deviceId:x})}}}}}};Z();var Ab=(function(){function n(e,t){var r=j();r&&r.navigator&&typeof r.navigator.sendBeacon=="function"?this.sendBeacon=function(i,o){try{if(r.navigator.sendBeacon(i,JSON.stringify(o)))return!0}catch{}return!1}:this.sendBeacon=function(){return!1},this.sendXhr=function(i,o){var s=new XMLHttpRequest;return s.open("POST",i,!0),s.setRequestHeader("Accept","*/*"),s.send(JSON.stringify(o)),!0},this.basePageUrl=Ds(t.serverZone,t.trackServerUrl),this.apiKey=t.apiKey,this.context=e}return n.prototype.send=function(e,t){var r=this.context,i=r.sessionId,o=r.type,s=new URLSearchParams({device_id:e,session_id:String(i),type:String(o),api_key:this.apiKey}),l="".concat(this.basePageUrl,"?").concat(s.toString());this.sendBeacon(l,t)||this.sendXhr(l,t)},n})();Z();var Tb=(function(){function n(e,t){var r=this;this.timestamp=Date.now(),this.hook=function(i){r.update(i)},this.send=function(i){return function(o){var s,l,a=i(),u=j();u&&a&&r.transport.send(a,{version:1,events:[{maxScrollX:r._maxScrollX,maxScrollY:r._maxScrollY,maxScrollWidth:r._maxScrollWidth,maxScrollHeight:r._maxScrollHeight,viewportHeight:js(),viewportWidth:zs(),pageUrl:Sr(u.location.href,(l=(s=r.config.interactionConfig)===null||s===void 0?void 0:s.ugcFilterRules)!==null&&l!==void 0?l:[]),timestamp:r.timestamp,type:"scroll"}]})}},this._maxScrollX=0,this._maxScrollY=0,this._maxScrollWidth=zs(),this._maxScrollHeight=js(),this.config=t,this.transport=e}return n.default=function(e,t){return new n(new Ab(e,t),t)},Object.defineProperty(n.prototype,"maxScrollX",{get:function(){return this._maxScrollX},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxScrollY",{get:function(){return this._maxScrollY},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxScrollWidth",{get:function(){return this._maxScrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxScrollHeight",{get:function(){return this._maxScrollHeight},enumerable:!1,configurable:!0}),n.prototype.update=function(e){var t=Date.now();if(e.x>this._maxScrollX){var r=zs();this._maxScrollX=e.x;var i=e.x+r;i>this._maxScrollWidth&&(this._maxScrollWidth=i),this.timestamp=t}if(e.y>this._maxScrollY){var o=js();this._maxScrollY=e.y;var s=e.y+o;s>this._maxScrollHeight&&(this._maxScrollHeight=s),this.timestamp=t}},n})();var Kf=(function(){function n(e){var t=e.sessionId,r=e.deviceId;this.deviceId=r,this.sessionId=t,t&&r&&(this.sessionReplayId=O0(t,r))}return n})();P();P();Gs();var kR=1e3*60*60*24*2,MR=(function(){function n(){var e=this;this.dbs={},this.createStore=function(t){return E(e,void 0,void 0,function(){return S(this,function(r){switch(r.label){case 0:return[4,Sn(t,1,{upgrade:function(i){i.objectStoreNames.contains("sessionTargetingMatch")||i.createObjectStore("sessionTargetingMatch",{keyPath:"sessionId"})}})];case 1:return[2,r.sent()]}})})},this.openOrCreateDB=function(t){return E(e,void 0,void 0,function(){var r,i;return S(this,function(o){switch(o.label){case 0:return this.dbs&&this.dbs[t]?[2,this.dbs[t]]:(r="".concat(t.substring(0,10),"_amp_session_replay_targeting"),[4,this.createStore(r)]);case 1:return i=o.sent(),this.dbs[t]=i,[2,i]}})})},this.getTargetingMatchForSession=function(t){var r=t.loggerProvider,i=t.apiKey,o=t.sessionId;return E(e,void 0,void 0,function(){var s,l,a,u;return S(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,this.openOrCreateDB(i)];case 1:return s=c.sent(),l=String(o),[4,s.get("sessionTargetingMatch",l)];case 2:return a=c.sent(),[2,a?.targetingMatch];case 3:return u=c.sent(),r.warn("Failed to get targeting match for session id ".concat(o,": ").concat(u)),[3,4];case 4:return[2,void 0]}})})},this.storeTargetingMatchForSession=function(t){var r=t.loggerProvider,i=t.apiKey,o=t.sessionId,s=t.targetingMatch;return E(e,void 0,void 0,function(){var l,a,u,c;return S(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,this.openOrCreateDB(i)];case 1:return l=f.sent(),a=String(o),[4,l.put("sessionTargetingMatch",{targetingMatch:s,sessionId:a,lastUpdated:Date.now()})];case 2:return u=f.sent(),[2,u];case 3:return c=f.sent(),r.warn("Failed to store targeting match for session id ".concat(o,": ").concat(c)),[3,4];case 4:return[2,void 0]}})})},this.clearStoreOfOldSessions=function(t){var r=t.loggerProvider,i=t.apiKey,o=t.currentSessionId;return E(e,void 0,void 0,function(){var s,l,a,u,c,f,d,h;return S(this,function(p){switch(p.label){case 0:return p.trys.push([0,8,,9]),[4,this.openOrCreateDB(i)];case 1:return s=p.sent(),l=String(o),a=s.transaction("sessionTargetingMatch","readwrite"),[4,a.store.getAll()];case 2:u=p.sent(),c=0,p.label=3;case 3:return c<u.length?(f=u[c],d=Date.now()-f.lastUpdated,f.sessionId!==l&&d>kR?[4,a.store.delete(f.sessionId)]:[3,5]):[3,6];case 4:p.sent(),p.label=5;case 5:return c++,[3,3];case 6:return[4,a.done];case 7:return p.sent(),[3,9];case 8:return h=p.sent(),r.warn("Failed to clear old targeting matches for sessions: ".concat(h)),[3,9];case 9:return[2]}})})}}return n})();var Xs=new MR;var lw=function(n){var e=n.sessionId,t=n.targetingConfig,r=n.loggerProvider,i=n.apiKey,o=n.targetingParams;return E(void 0,void 0,void 0,function(){var s,l,a,u,c,f;return S(this,function(d){switch(d.label){case 0:return[4,Xs.clearStoreOfOldSessions({loggerProvider:r,apiKey:i,currentSessionId:e})];case 1:return d.sent(),[4,Xs.getTargetingMatchForSession({loggerProvider:r,apiKey:i,sessionId:e})];case 2:if(s=d.sent(),s===!0)return[2,!0];l=!0,d.label=3;case 3:return d.trys.push([3,6,,7]),[4,Promise.resolve().then(()=>(aw(),sw))];case 4:return a=d.sent().evaluateTargeting,[4,a(I(I({},o),{flag:t,sessionId:e,apiKey:i,loggerProvider:r}))];case 5:return u=d.sent(),u&&u.sr_targeting_config&&(l=u.sr_targeting_config.key==="on"),Xs.storeTargetingMatchForSession({loggerProvider:r,apiKey:i,sessionId:e,targetingMatch:l}),[3,7];case 6:return c=d.sent(),f=c,r.warn(f.message),[3,7];case 7:return[2,l]}})})};P();function ed(n){return n===void 0&&(n={}),{name:"amplitude/url-tracking@1",observer:function(e,t,r){var i,o,s,l=I(I({},n),r),a=l.ugcFilterRules||[],u=(i=l.enablePolling)!==null&&i!==void 0?i:!1,c=(o=l.pollingInterval)!==null&&o!==void 0?o:Ps,f=(s=l.captureDocumentTitle)!==null&&s!==void 0?s:!1;if(!t)return function(){};var d=void 0,h=function(){return t.location&&t.location.href||""},p=function(){var _=t.innerHeight,A=t.innerWidth,C=t.document,T=h(),R="";f&&(R=C?.title||"");var M=a.length>0?Sr(T,a):T;return{href:M,title:R,viewportHeight:_,viewportWidth:A,type:"url-change-event"}},v=function(){var _=h();if(d===void 0||_!==d){d=_;var A=p();e(A)}},m=function(_){return function(){for(var A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var T=_.apply(this,A);return v(),T}},y=function(){v()};if(u){var g=t.setInterval(function(){v()},c);return v(),function(){g&&t.clearInterval(g)}}if(t.history){var b=t.history.pushState.bind(t.history),w=t.history.replaceState.bind(t.history),x=function(){t.history.pushState=m(b),t.history.replaceState=m(w)};return x(),t.addEventListener("popstate",v),t.addEventListener("hashchange",y),v(),function(){t.history.pushState=b,t.history.replaceState=w,t.removeEventListener("popstate",v),t.removeEventListener("hashchange",y)}}return t.addEventListener("hashchange",y),v(),function(){t.removeEventListener("hashchange",y)}},options:n}}var e8=ed();var IC=(function(){function n(){var e=this;this.name="@amplitude/session-replay-browser",this.recordCancelCallback=null,this.eventCount=0,this.sessionTargetingMatch=!1,this.pageLeaveFns=[],this.recordFunction=null,this.teardownEventListeners=function(t){var r=j();r&&(r.removeEventListener("blur",e.blurListener),r.removeEventListener("focus",e.focusListener),!t&&r.addEventListener("blur",e.blurListener),!t&&r.addEventListener("focus",e.focusListener),r.self&&"onpagehide"in r.self?(r.removeEventListener("pagehide",e.pageLeaveListener),!t&&r.addEventListener("pagehide",e.pageLeaveListener)):(r.removeEventListener("beforeunload",e.pageLeaveListener),!t&&r.addEventListener("beforeunload",e.pageLeaveListener)))},this.blurListener=function(){e.sendEvents()},this.focusListener=function(){e.recordEvents(!1)},this.pageLeaveListener=function(t){e.pageLeaveFns.forEach(function(r){r(t)})},this.evaluateTargetingAndCapture=function(t,r){return r===void 0&&(r=!1),E(e,void 0,void 0,function(){var i,o;return S(this,function(s){switch(s.label){case 0:return!this.identifiers||!this.identifiers.sessionId||!this.config?(this.identifiers&&!this.identifiers.sessionId?this.loggerProvider.log("Session ID has not been set yet, cannot evaluate targeting for Session Replay."):this.loggerProvider.warn("Session replay init has not been called, cannot evaluate targeting."),[2]):(this.lastTargetingParams=t,this.config.targetingConfig&&!this.sessionTargetingMatch?(i=t.event,i&&Object.values(it).includes(i.event_type)&&(i=void 0),o=this,[4,lw({sessionId:this.identifiers.sessionId,targetingConfig:this.config.targetingConfig,loggerProvider:this.loggerProvider,apiKey:this.config.apiKey,targetingParams:{userProperties:t.userProperties,event:i}})]):[3,2]);case 1:o.sessionTargetingMatch=s.sent(),this.loggerProvider.debug(JSON.stringify({name:"targeted replay capture config",sessionTargetingMatch:this.sessionTargetingMatch,event:i,targetingParams:t},null,2)),s.label=2;case 2:return r?(this.initialize(!0),[3,5]):[3,3];case 3:return[4,this.recordEvents()];case 4:s.sent(),s.label=5;case 5:return[2]}})})},this.addCustomRRWebEvent=function(t,r,i){return r===void 0&&(r={}),i===void 0&&(i=!0),E(e,void 0,void 0,function(){var o,s,l,a;return S(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o=void 0,s=this.config,s&&t!==sr.METADATA?(o={config:$s(s),version:Oi},i?[4,Us()]:[3,2]):[3,2];case 1:l=u.sent(),o=I(I({},l),o),u.label=2;case 2:return this.recordCancelCallback&&this.recordFunction?this.recordFunction.addCustomEvent(t,I(I({},r),o)):this.loggerProvider.debug("Not able to add custom replay capture event ".concat(t," due to no ongoing recording.")),[3,4];case 3:return a=u.sent(),this.loggerProvider.debug("Error while adding custom replay capture event: ",a),[3,4];case 4:return[2]}})})},this.stopRecordingEvents=function(){var t;try{e.loggerProvider.log("Session Replay capture stopping."),e.recordCancelCallback&&e.recordCancelCallback(),e.recordCancelCallback=null,(t=e.networkObservers)===null||t===void 0||t.stop()}catch(i){var r=i;e.loggerProvider.warn("Error occurred while stopping replay capture: ".concat(r.toString()))}},this.loggerProvider=new Ci(new Gt)}return n.prototype.init=function(e,t){return Ze(this._init(e,t))},n.prototype._init=function(e,t){var r,i,o,s,l,a;return E(this,void 0,void 0,function(){var u,c,f,d,h,p,v,m,y,g,_,b,w,x,_;return S(this,function(A){switch(A.label){case 0:return this.loggerProvider=new Ci(t.loggerProvider||new Gt),Object.prototype.hasOwnProperty.call(t,"logLevel")&&this.loggerProvider.enable(t.logLevel),this.identifiers=new Kf({sessionId:t.sessionId,deviceId:t.deviceId}),u=this,[4,U0(e,t)];case 1:return u.joinedConfigGenerator=A.sent(),[4,this.joinedConfigGenerator.generateJoinedConfig(this.identifiers.sessionId)];case 2:c=A.sent(),f=c.joinedConfig,d=c.localConfig,h=c.remoteConfig,this.config=f,this.setMetadata(t.sessionId,f,d,h,(r=t.version)===null||r===void 0?void 0:r.version,Oi,(i=t.version)===null||i===void 0?void 0:i.type),t.sessionId&&(!((o=this.config.interactionConfig)===null||o===void 0)&&o.enabled)&&(p=Tb.default({sessionId:t.sessionId,type:"interaction"},this.config),this.pageLeaveFns=[p.send(this.getDeviceId.bind(this)).bind(p)],this.scrollHook=p.hook.bind(p)),v=[],m=this.config.storeType,m==="idb"&&!(!((s=j())===null||s===void 0)&&s.indexedDB)&&(m="memory",this.loggerProvider.warn("Could not use preferred indexedDB storage, reverting to in memory option.")),this.loggerProvider.log("Using ".concat(m," for event storage.")),A.label=3;case 3:return A.trys.push([3,5,,6]),[4,Bf({config:this.config,sessionId:this.identifiers.sessionId,type:"replay",storeType:m})];case 4:return y=A.sent(),v.push({name:"replay",manager:y}),[3,6];case 5:return g=A.sent(),_=g,this.loggerProvider.warn("Error occurred while creating replay events manager: ".concat(_.toString())),[3,6];case 6:if(!(!((l=this.config.interactionConfig)===null||l===void 0)&&l.enabled))return[3,10];b=this.config.interactionConfig.batch?Cb:_b,A.label=7;case 7:return A.trys.push([7,9,,10]),[4,Bf({config:this.config,sessionId:this.identifiers.sessionId,type:"interaction",minInterval:(a=this.config.interactionConfig.trackEveryNms)!==null&&a!==void 0?a:S0,maxInterval:E0,payloadBatcher:b,storeType:m})];case 8:return w=A.sent(),v.push({name:"interaction",manager:w}),[3,10];case 9:return x=A.sent(),_=x,this.loggerProvider.warn("Error occurred while creating interaction events manager: ".concat(_.toString())),[3,10];case 10:return this.eventsManager=new(Gf.bind.apply(Gf,U([void 0],O(v),!1))),this.eventCompressor&&this.eventCompressor.terminate(),this.eventCompressor=new K0(this.eventsManager,this.config,this.getDeviceId()),[4,this.initializeNetworkObservers()];case 11:return A.sent(),this.loggerProvider.log("Installing @amplitude/session-replay-browser."),this.teardownEventListeners(!1),[4,this.evaluateTargetingAndCapture({userProperties:t.userProperties},!0)];case 12:return A.sent(),[2]}})})},n.prototype.setSessionId=function(e,t){return Ze(this.asyncSetSessionId(e,t))},n.prototype.asyncSetSessionId=function(e,t,r){return E(this,void 0,void 0,function(){var i,o,s;return S(this,function(l){switch(l.label){case 0:return this.sessionTargetingMatch=!1,this.lastShouldRecordDecision=void 0,i=this.identifiers&&this.identifiers.sessionId,i&&this.sendEvents(i),o=t||this.getDeviceId(),this.identifiers=new Kf({sessionId:e,deviceId:o}),this.joinedConfigGenerator&&i?[4,this.joinedConfigGenerator.generateJoinedConfig(this.identifiers.sessionId)]:[3,2];case 1:s=l.sent().joinedConfig,this.config=s,l.label=2;case 2:return[4,this.evaluateTargetingAndCapture({userProperties:r?.userProperties})];case 3:return l.sent(),[2]}})})},n.prototype.getSessionReplayProperties=function(){var e,t=this.config,r=this.identifiers;if(!t||!r)return this.loggerProvider.warn("Session replay init has not been called, cannot get session replay properties."),{};var i=this.getShouldRecord(),o={};return i&&(o=(e={},e[c0]=r.sessionReplayId?r.sessionReplayId:null,e),t.debugMode&&(o[p0]=JSON.stringify({appHash:Ls(t.apiKey).toString()}))),this.addCustomRRWebEvent(sr.GET_SR_PROPS,{shouldRecord:i,eventProperties:o},this.eventCount===10),this.eventCount===10&&(this.eventCount=0),this.eventCount++,o},n.prototype.sendEvents=function(e){var t,r=e||((t=this.identifiers)===null||t===void 0?void 0:t.sessionId),i=this.getDeviceId();this.eventsManager&&r&&i&&this.eventsManager.sendCurrentSequenceEvents({sessionId:r,deviceId:i})},n.prototype.initialize=function(e){var t;return e===void 0&&(e=!1),E(this,void 0,void 0,function(){var r;return S(this,function(i){return!((t=this.identifiers)===null||t===void 0)&&t.sessionId?(r=this.getDeviceId(),r?(this.eventsManager&&e&&this.eventsManager.sendStoredEvents({deviceId:r}),[2,this.recordEvents()]):(this.loggerProvider.log("Session is not being recorded due to lack of device id."),[2,Promise.resolve()])):(this.loggerProvider.log("Session is not being recorded due to lack of session id."),[2,Promise.resolve()])})})},n.prototype.shouldOptOut=function(){var e,t,r;if(!((e=this.config)===null||e===void 0)&&e.instanceName){var i=Wt(this.config.instanceName).identityStore;r=i.getIdentity().optOut}return r!==void 0?r:(t=this.config)===null||t===void 0?void 0:t.optOut},n.prototype.getShouldRecord=function(){if(!this.identifiers||!this.config||!this.identifiers.sessionId)return this.loggerProvider.warn("Session is not being recorded due to lack of config, please call sessionReplay.init."),!1;if(!this.config.captureEnabled)return this.loggerProvider.log("Session ".concat(this.identifiers.sessionId," not being captured due to capture being disabled for project or because the remote config could not be fetched.")),!1;if(this.shouldOptOut())return this.loggerProvider.log("Opting session ".concat(this.identifiers.sessionId," out of recording due to optOut config.")),!1;var e=!1,t="",r=!1;if(this.config.targetingConfig)this.sessionTargetingMatch?(t="Capturing replays for session ".concat(this.identifiers.sessionId," due to matching targeting conditions."),this.loggerProvider.log(t),e=!0,r=!0):(t="Not capturing replays for session ".concat(this.identifiers.sessionId," due to not matching targeting conditions."),this.loggerProvider.log(t),e=!1,r=!1);else{var i=T0(this.identifiers.sessionId,this.config.sampleRate);i?(e=!0,r=!0):(t="Opting session ".concat(this.identifiers.sessionId," out of recording due to sample rate."),this.loggerProvider.log(t),e=!1,r=!1)}return this.lastShouldRecordDecision!==e&&this.config.targetingConfig&&(this.addCustomRRWebEvent(sr.TARGETING_DECISION,{message:t,sessionId:this.identifiers.sessionId,matched:r,targetingParams:this.lastTargetingParams}),this.lastShouldRecordDecision=e),e},n.prototype.getBlockSelectors=function(){var e,t,r,i=(r=(t=(e=this.config)===null||e===void 0?void 0:e.privacyConfig)===null||t===void 0?void 0:t.blockSelector)!==null&&r!==void 0?r:[];if(i.length!==0)return i},n.prototype.getMaskTextSelectors=function(){var e,t,r,i;if(((t=(e=this.config)===null||e===void 0?void 0:e.privacyConfig)===null||t===void 0?void 0:t.defaultMaskLevel)==="conservative")return"*";var o=(i=(r=this.config)===null||r===void 0?void 0:r.privacyConfig)===null||i===void 0?void 0:i.maskSelector;if(o)return o},n.prototype.getRecordingPlugins=function(e){var t,r,i,o,s,l;return E(this,void 0,void 0,function(){var a,u,c,f;return S(this,function(d){switch(d.label){case 0:a=[];try{u=ed({ugcFilterRules:((r=(t=this.config)===null||t===void 0?void 0:t.interactionConfig)===null||r===void 0?void 0:r.ugcFilterRules)||[],enablePolling:((i=this.config)===null||i===void 0?void 0:i.enableUrlChangePolling)||!1,pollingInterval:(o=this.config)===null||o===void 0?void 0:o.urlChangePollingInterval,captureDocumentTitle:(s=this.config)===null||s===void 0?void 0:s.captureDocumentTitle}),a.push(u)}catch(h){this.loggerProvider.warn("Failed to create URL tracking plugin:",h)}if(!(!((l=e?.console)===null||l===void 0)&&l.enabled))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.resolve().then(()=>(OE(),RE))];case 2:return c=d.sent().getRecordConsolePlugin,a.push(c({level:e.console.levels})),[3,4];case 3:return f=d.sent(),this.loggerProvider.warn("Failed to load console plugin:",f),[3,4];case 4:return[2,a.length>0?a:void 0]}})})},n.prototype.getRecordFunction=function(){return E(this,void 0,void 0,function(){var e,t;return S(this,function(r){switch(r.label){case 0:if(this.recordFunction)return[2,this.recordFunction];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Promise.resolve().then(()=>(xC(),EC))];case 2:return e=r.sent().record,this.recordFunction=e,[2,e];case 3:return t=r.sent(),this.loggerProvider.warn("Failed to load rrweb-record module:",t),[2,null];case 4:return[2]}})})},n.prototype.recordEvents=function(e){var t,r,i,o,s;return e===void 0&&(e=!0),E(this,void 0,void 0,function(){var l,a,u,c,f,d,h,p,v,m,y,g,b,w=this;return S(this,function(x){switch(x.label){case 0:return l=this.config,a=this.getShouldRecord(),u=(t=this.identifiers)===null||t===void 0?void 0:t.sessionId,!a||!u||!l?[2]:(this.stopRecordingEvents(),[4,this.getRecordFunction()]);case 1:return c=x.sent(),c?[4,this.initializeNetworkObservers()]:[2];case 2:x.sent(),(r=this.networkObservers)===null||r===void 0||r.start(function(_){w.addCustomRRWebEvent(sr.FETCH_REQUEST,_)}),f=l.privacyConfig,d=l.interactionConfig,h=l.loggingConfig,p=d?.enabled?{mouseInteraction:this.eventsManager&&Ib(this.loggerProvider,{eventsManager:this.eventsManager,sessionId:u,deviceIdFn:this.getDeviceId.bind(this),mirror:c.mirror,ugcFilterRules:(i=d.ugcFilterRules)!==null&&i!==void 0?i:[]}),scroll:this.scrollHook}:{},v=d?.enabled&&d.ugcFilterRules?d.ugcFilterRules:[],this.loggerProvider.log("Session Replay capture beginning for ".concat(u,".")),x.label=3;case 3:return x.trys.push([3,5,,6]),m=this,y=c,b={emit:function(_){if(w.shouldOptOut()){w.loggerProvider.log("Opting session ".concat(u," out of recording due to optOut config.")),w.stopRecordingEvents(),w.sendEvents();return}_.type===bf.Meta&&(_.data.href=Sr(_.data.href,v)),w.eventCompressor&&w.eventCompressor.enqueueEvent(_,u)},inlineStylesheet:l.shouldInlineStylesheet,hooks:p,maskAllInputs:!0,maskTextClass:Ns,blockClass:m0,blockSelector:this.getBlockSelectors(),applyBackgroundColorToBlockedElements:l.applyBackgroundColorToBlockedElements,maskInputFn:gf("input",f),maskTextFn:gf("text",f),maskTextSelector:this.getMaskTextSelectors(),recordCanvas:!1,slimDOMOptions:{script:(o=l.omitElementTags)===null||o===void 0?void 0:o.script,comment:(s=l.omitElementTags)===null||s===void 0?void 0:s.comment},errorHandler:function(_){var A=_;if(A.message.includes("insertRule")&&A.message.includes("CSSStyleSheet")||A._external_)throw A;return w.loggerProvider.warn("Error while capturing replay: ",A.toString()),!0}},[4,this.getRecordingPlugins(h)];case 4:return m.recordCancelCallback=y.apply(void 0,[(b.plugins=x.sent(),b)]),this.addCustomRRWebEvent(sr.DEBUG_INFO),e&&this.addCustomRRWebEvent(sr.METADATA,this.metadata),[3,6];case 5:return g=x.sent(),this.loggerProvider.warn("Failed to initialize session replay:",g),[3,6];case 6:return[2]}})})},n.prototype.getDeviceId=function(){var e;return(e=this.identifiers)===null||e===void 0?void 0:e.deviceId},n.prototype.getSessionId=function(){var e;return(e=this.identifiers)===null||e===void 0?void 0:e.sessionId},n.prototype.flush=function(e){var t;return e===void 0&&(e=!1),E(this,void 0,void 0,function(){return S(this,function(r){return[2,(t=this.eventsManager)===null||t===void 0?void 0:t.flush(e)]})})},n.prototype.shutdown=function(){this.teardownEventListeners(!0),this.stopRecordingEvents(),this.sendEvents()},n.prototype.mapSDKType=function(e){return e==="plugin"?"@amplitude/plugin-session-replay-browser":e==="segment"?"@amplitude/segment-session-replay-plugin":null},n.prototype.setMetadata=function(e,t,r,i,o,s,l){var a=e?.toString()?Ls(e.toString()):void 0;this.metadata={joinedConfig:t,localConfig:r,remoteConfig:i,sessionId:e,hashValue:a,sampleRate:t.sampleRate,replaySDKType:this.mapSDKType(l),replaySDKVersion:o,standaloneSDKType:"@amplitude/session-replay-browser",standaloneSDKVersion:s}},n.prototype.initializeNetworkObservers=function(){var e,t,r;return E(this,void 0,void 0,function(){var i,o;return S(this,function(s){switch(s.label){case 0:if(!(!((r=(t=(e=this.config)===null||e===void 0?void 0:e.loggingConfig)===null||t===void 0?void 0:t.network)===null||r===void 0)&&r.enabled&&!this.networkObservers))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.resolve().then(()=>(CC(),_C))];case 2:return i=s.sent().NetworkObservers,this.networkObservers=new i,[3,4];case 3:return o=s.sent(),this.loggerProvider.warn("Failed to import or instantiate NetworkObservers:",o),[3,4];case 4:return[2]}})})},n})();var Qr=function(n){return function(){var e=n.config,t=e||yf(),r=t.loggerProvider,i=t.logLevel;return{logger:r,logLevel:i}}},bF=function(){var n=new IC;return{init:V(n.init.bind(n),"init",Qr(n)),evaluateTargetingAndCapture:V(n.evaluateTargetingAndCapture.bind(n),"evaluateTargetingAndRecord",Qr(n)),setSessionId:V(n.setSessionId.bind(n),"setSessionId",Qr(n)),getSessionId:V(n.getSessionId.bind(n),"getSessionId",Qr(n)),getSessionReplayProperties:V(n.getSessionReplayProperties.bind(n),"getSessionReplayProperties",Qr(n)),flush:V(n.flush.bind(n),"flush",Qr(n)),shutdown:V(n.shutdown.bind(n),"shutdown",Qr(n))}},Rr=bF();var AC=Rr.init,TC=Rr.setSessionId,RC=Rr.getSessionId,OC=Rr.getSessionReplayProperties,PC=Rr.flush,NC=Rr.shutdown,kC=Rr.evaluateTargetingAndCapture;P();var MC=[Et.SET,Et.SET_ONCE,Et.ADD,Et.APPEND,Et.PREPEND,Et.POSTINSERT];var LC=function(n){if(n.user_properties){var e={},t=Object.keys(n.user_properties);return t.forEach(function(r){if(MC.includes(r)){var i=n.user_properties&&n.user_properties[r];e=I(I({},e),i)}}),e}};var zp="1.22.12";var _o=(function(){function n(e){this.name=n.pluginName,this.type="enrichment",this.sessionReplay={flush:PC,getSessionId:RC,getSessionReplayProperties:OC,init:AC,setSessionId:TC,shutdown:NC,evaluateTargetingAndCapture:kC},this.options=I({forceSessionTracking:!1},e),this.srInitOptions=this.options}return n.prototype.setup=function(e,t){var r,i,o,s,l;return E(this,void 0,void 0,function(){var a,u,c;return S(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),e?.loggerProvider.log("Installing @amplitude/plugin-session-replay, version ".concat(zp,".")),this.config=e,this.options.forceSessionTracking&&(typeof e.defaultTracking=="boolean"?e.defaultTracking===!1&&(e.defaultTracking={pageViews:!1,formInteractions:!1,fileDownloads:!1,sessions:!0}):e.defaultTracking=I(I({},e.defaultTracking),{sessions:!0})),a=Sc(this.config.instanceName).identityStore,u=a.getIdentity().userProperties,this.srInitOptions={instanceName:this.config.instanceName,deviceId:(r=this.options.deviceId)!==null&&r!==void 0?r:this.config.deviceId,optOut:this.config.optOut,sessionId:this.options.customSessionId?void 0:this.config.sessionId,loggerProvider:this.config.loggerProvider,logLevel:this.config.logLevel,flushMaxRetries:this.config.flushMaxRetries,serverZone:this.config.serverZone,configServerUrl:this.options.configServerUrl,trackServerUrl:this.options.trackServerUrl,sampleRate:this.options.sampleRate,privacyConfig:{blockSelector:(i=this.options.privacyConfig)===null||i===void 0?void 0:i.blockSelector,maskSelector:(o=this.options.privacyConfig)===null||o===void 0?void 0:o.maskSelector,unmaskSelector:(s=this.options.privacyConfig)===null||s===void 0?void 0:s.unmaskSelector,defaultMaskLevel:(l=this.options.privacyConfig)===null||l===void 0?void 0:l.defaultMaskLevel},debugMode:this.options.debugMode,shouldInlineStylesheet:this.options.shouldInlineStylesheet,version:{type:"plugin",version:zp},performanceConfig:this.options.performanceConfig,storeType:this.options.storeType,experimental:this.options.experimental,userProperties:u,omitElementTags:this.options.omitElementTags,applyBackgroundColorToBlockedElements:this.options.applyBackgroundColorToBlockedElements,interactionConfig:this.options.interactionConfig,captureDocumentTitle:this.options.captureDocumentTitle,enableUrlChangePolling:this.options.enableUrlChangePolling,urlChangePollingInterval:this.options.urlChangePollingInterval},[4,this.sessionReplay.init(e.apiKey,this.srInitOptions).promise];case 1:return f.sent(),[3,3];case 2:return c=f.sent(),e?.loggerProvider.error("Session Replay: Failed to initialize due to ".concat(c.message)),[3,3];case 3:return[2]}})})},n.prototype.onSessionIdChanged=function(e){return E(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return this.config.loggerProvider.debug("Analytics session id is changed to ".concat(e,", SR session id is ").concat(String(this.sessionReplay.getSessionId()),".")),[4,this.sessionReplay.setSessionId(e).promise];case 1:return t.sent(),[2]}})})},n.prototype.onOptOutChanged=function(e){return E(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return this.config.loggerProvider.debug("optOut is changed to ".concat(String(e),", calling ").concat(e?"sessionReplay.shutdown()":"sessionReplay.init()",".")),e?(this.sessionReplay.shutdown(),[3,3]):[3,1];case 1:return[4,this.sessionReplay.init(this.config.apiKey,this.srInitOptions).promise];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.execute=function(e){var t;return E(this,void 0,void 0,function(){var r,o,r,i,o,s;return S(this,function(l){switch(l.label){case 0:return l.trys.push([0,9,,10]),this.options.customSessionId?(r=this.options.customSessionId(e),r?r===this.sessionReplay.getSessionId()?[3,2]:[4,this.sessionReplay.setSessionId(r).promise]:[3,3]):[3,4];case 1:l.sent(),l.label=2;case 2:o=this.sessionReplay.getSessionReplayProperties(),e.event_properties=I(I({},e.event_properties),o),l.label=3;case 3:return[3,8];case 4:return r=this.config.sessionId,r&&r!==this.sessionReplay.getSessionId()?[4,this.sessionReplay.setSessionId(r).promise]:[3,6];case 5:l.sent(),l.label=6;case 6:return r&&r===e.session_id?(i=void 0,e.event_type===it.IDENTIFY&&(i=LC(e)),[4,this.sessionReplay.evaluateTargetingAndCapture({event:e,userProperties:i})]):[3,8];case 7:l.sent(),o=this.sessionReplay.getSessionReplayProperties(),e.event_properties=I(I({},e.event_properties),o),l.label=8;case 8:return[2,Promise.resolve(e)];case 9:return s=l.sent(),(t=this.config)===null||t===void 0||t.loggerProvider.error("Session Replay: Failed to enrich event due to ".concat(s.message)),[2,Promise.resolve(e)];case 10:return[2]}})})},n.prototype.teardown=function(){var e;return E(this,void 0,void 0,function(){return S(this,function(t){try{this.sessionReplay.shutdown(),this.config=null}catch(r){(e=this.config)===null||e===void 0||e.loggerProvider.error("Session Replay: teardown failed due to ".concat(r.message))}return[2]})})},n.prototype.getSessionReplayProperties=function(){return this.sessionReplay.getSessionReplayProperties()},n.pluginName="@amplitude/plugin-session-replay-browser",n})();var Yl=function(n){return new _o(n)};P();var Hp=function(n,e){return Hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Hp(n,e)};function WC(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hp(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Or=function(){return Or=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Or.apply(this,arguments)};function VC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(n,e||[])).next())})}function jC(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Rt(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xp(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function Zp(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var B={IS:"is",IS_NOT:"is not",CONTAINS:"contains",DOES_NOT_CONTAIN:"does not contain",LESS_THAN:"less",LESS_THAN_EQUALS:"less or equal",GREATER_THAN:"greater",GREATER_THAN_EQUALS:"greater or equal",VERSION_LESS_THAN:"version less",VERSION_LESS_THAN_EQUALS:"version less or equal",VERSION_GREATER_THAN:"version greater",VERSION_GREATER_THAN_EQUALS:"version greater or equal",SET_IS:"set is",SET_IS_NOT:"set is not",SET_CONTAINS:"set contains",SET_DOES_NOT_CONTAIN:"set does not contain",SET_CONTAINS_ANY:"set contains any",SET_DOES_NOT_CONTAIN_ANY:"set does not contain any",REGEX_MATCH:"regex match",REGEX_DOES_NOT_MATCH:"regex does not match"},wF=function(n){for(var e=[],t=0,r=0;r<n.length;r++){var i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)==55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return Uint8Array.from(e)},Zl=-862048943,Jl=461845907,Ql=15,SF=13,EF=5,xF=-430675100,_F=function(n,e){e===void 0&&(e=0);for(var t=wF(n),r=t.length,i=r>>2,o=e,s=0;s<i;s++){var l=s<<2,a=AF(t,l);o=CF(a,o)}var u=i<<2,c=0;switch(r-u){case 3:c^=t[u+2]<<16,c^=t[u+1]<<8,c^=t[u],c=Math.imul(c,Zl),c=Io(c,Ql),c=Math.imul(c,Jl),o^=c;break;case 2:c^=t[u+1]<<8,c^=t[u],c=Math.imul(c,Zl),c=Io(c,Ql),c=Math.imul(c,Jl),o^=c;break;case 1:c^=t[u],c=Math.imul(c,Zl),c=Io(c,Ql),c=Math.imul(c,Jl),o^=c;break}return o^=r,IF(o)>>>0},CF=function(n,e){var t=n,r=e;return t=Math.imul(t,Zl),t=Io(t,Ql),t=Math.imul(t,Jl),r^=t,r=Io(r,SF),r=Math.imul(r,EF),r+xF|0},IF=function(n){var e=n;return e^=e>>>16,e=Math.imul(e,-2048144789),e^=e>>>13,e=Math.imul(e,-1028477387),e^=e>>>16,e},Io=function(n,e,t){t===void 0&&(t=32),e>t&&(e=e%t);var r=4294967295<<t-e>>>0,i=(n&r)>>>0>>>t-e>>>0;return(n<<e|i)>>>0},AF=function(n,e){e===void 0&&(e=0);var t=n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3];return TF(t)},TF=function(n){return(n&-16777216)>>>24|(n&16711680)>>>8|(n&65280)<<8|(n&255)<<24},DC=function(n,e){var t,r;if(!(!e||e.length===0)){try{for(var i=Rt(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(!s||!n||typeof n!="object")return;n=n[s]}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}if(n)return n}},RF="(\\d+)\\.(\\d+)",OF="(\\d+)",PF="(-(([-\\w]+\\.?)*))?",NF="^".concat(RF,"(\\.").concat(OF).concat(PF,")?$"),kF=(function(){function n(e,t,r,i){i===void 0&&(i=void 0),this.major=e,this.minor=t,this.patch=r,this.preRelease=i}return n.parse=function(e){if(e){var t=new RegExp(NF).exec(e);if(t){var r=Number(t[1]),i=Number(t[2]);if(!(isNaN(r)||isNaN(i))){var o=Number(t[4])||0,s=t[5]||void 0;return new n(r,i,o,s)}}}},n.prototype.compareTo=function(e){return this.major>e.major?1:this.major<e.major?-1:this.minor>e.minor?1:this.minor<e.minor?-1:this.patch>e.patch?1:this.patch<e.patch||this.preRelease&&!e.preRelease?-1:!this.preRelease&&e.preRelease?1:this.preRelease&&e.preRelease?this.preRelease>e.preRelease?1:this.preRelease<e.preRelease?-1:0:0},n})(),zC=(function(){function n(){}return n.prototype.evaluate=function(e,t){var r,i,o={},s={context:e,result:o};try{for(var l=Rt(t),a=l.next();!a.done;a=l.next()){var u=a.value,c=this.evaluateFlag(s,u);c&&(o[u.key]=c)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return o},n.prototype.evaluateFlag=function(e,t){var r,i,o;try{for(var s=Rt(t.segments),l=s.next();!l.done;l=s.next()){var a=l.value;if(o=this.evaluateSegment(e,t,a),o){var u=Or(Or(Or({},t.metadata),a.metadata),o.metadata);o=Or(Or({},o),{metadata:u});break}}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},n.prototype.evaluateSegment=function(e,t,r){if(!r.conditions){var i=this.bucket(e,r);return i!==void 0?t.variants[i]:void 0}var o=this.evaluateConditions(e,r.conditions);if(o){var i=this.bucket(e,r);return i!==void 0?t.variants[i]:void 0}},n.prototype.evaluateConditions=function(e,t){var r,i,o,s;try{for(var l=Rt(t),a=l.next();!a.done;a=l.next()){var u=a.value,c=!0;try{for(var f=(o=void 0,Rt(u)),d=f.next();!d.done;d=f.next()){var h=d.value;if(c=this.matchCondition(e,h),!c)break}}catch(p){o={error:p}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}if(c)return!0}}catch(p){r={error:p}}finally{try{a&&!a.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1},n.prototype.matchCondition=function(e,t){var r=DC(e,t.selector);if(r)if(this.isSetOperator(t.op)){var i=this.coerceStringArray(r);return i?this.matchSet(i,t.op,t.values):!1}else{var o=this.coerceString(r);return o!==void 0?this.matchString(o,t.op,t.values):!1}else return this.matchNull(t.op,t.values)},n.prototype.getHash=function(e){return _F(e)},n.prototype.bucket=function(e,t){var r,i,o,s;if(!t.bucket)return t.variant;var l=this.coerceString(DC(e,t.bucket.selector));if(!l||l.length===0)return t.variant;var a="".concat(t.bucket.salt,"/").concat(l),u=this.getHash(a),c=u%100,f=Math.floor(u/100);try{for(var d=Rt(t.bucket.allocations),h=d.next();!h.done;h=d.next()){var p=h.value,v=p.range[0],m=p.range[1];if(c>=v&&c<m)try{for(var y=(o=void 0,Rt(p.distributions)),g=y.next();!g.done;g=y.next()){var b=g.value,w=b.range[0],x=b.range[1];if(f>=w&&f<x)return b.variant}}catch(_){o={error:_}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}}}catch(_){r={error:_}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return t.variant},n.prototype.matchNull=function(e,t){var r=this.containsNone(t);switch(e){case B.IS:case B.CONTAINS:case B.LESS_THAN:case B.LESS_THAN_EQUALS:case B.GREATER_THAN:case B.GREATER_THAN_EQUALS:case B.VERSION_LESS_THAN:case B.VERSION_LESS_THAN_EQUALS:case B.VERSION_GREATER_THAN:case B.VERSION_GREATER_THAN_EQUALS:case B.SET_IS:case B.SET_CONTAINS:case B.SET_CONTAINS_ANY:return r;case B.IS_NOT:case B.DOES_NOT_CONTAIN:case B.SET_DOES_NOT_CONTAIN:case B.SET_DOES_NOT_CONTAIN_ANY:return!r;default:return!1}},n.prototype.matchSet=function(e,t,r){switch(t){case B.SET_IS:return this.setEquals(e,r);case B.SET_IS_NOT:return!this.setEquals(e,r);case B.SET_CONTAINS:return this.matchesSetContainsAll(e,r);case B.SET_DOES_NOT_CONTAIN:return!this.matchesSetContainsAll(e,r);case B.SET_CONTAINS_ANY:return this.matchesSetContainsAny(e,r);case B.SET_DOES_NOT_CONTAIN_ANY:return!this.matchesSetContainsAny(e,r);default:return!1}},n.prototype.matchString=function(e,t,r){var i=this;switch(t){case B.IS:return this.matchesIs(e,r);case B.IS_NOT:return!this.matchesIs(e,r);case B.CONTAINS:return this.matchesContains(e,r);case B.DOES_NOT_CONTAIN:return!this.matchesContains(e,r);case B.LESS_THAN:case B.LESS_THAN_EQUALS:case B.GREATER_THAN:case B.GREATER_THAN_EQUALS:return this.matchesComparable(e,t,r,function(o){return i.parseNumber(o)},this.comparator);case B.VERSION_LESS_THAN:case B.VERSION_LESS_THAN_EQUALS:case B.VERSION_GREATER_THAN:case B.VERSION_GREATER_THAN_EQUALS:return this.matchesComparable(e,t,r,function(o){return kF.parse(o)},this.versionComparator);case B.REGEX_MATCH:return this.matchesRegex(e,r);case B.REGEX_DOES_NOT_MATCH:return!this.matchesRegex(e,r);default:return!1}},n.prototype.matchesIs=function(e,t){if(this.containsBooleans(t)){var r=e.toLowerCase();if(r==="true"||r==="false")return t.some(function(i){return i.toLowerCase()===r})}return t.some(function(i){return e===i})},n.prototype.matchesContains=function(e,t){var r,i;try{for(var o=Rt(t),s=o.next();!s.done;s=o.next()){var l=s.value;if(e.toLowerCase().includes(l.toLowerCase()))return!0}}catch(a){r={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},n.prototype.matchesComparable=function(e,t,r,i,o){var s=this,l=i(e),a=r.map(function(u){return i(u)}).filter(function(u){return u!==void 0});return l===void 0||a.length===0?r.some(function(u){return s.comparator(e,t,u)}):a.some(function(u){return o(l,t,u)})},n.prototype.comparator=function(e,t,r){switch(t){case B.LESS_THAN:case B.VERSION_LESS_THAN:return e<r;case B.LESS_THAN_EQUALS:case B.VERSION_LESS_THAN_EQUALS:return e<=r;case B.GREATER_THAN:case B.VERSION_GREATER_THAN:return e>r;case B.GREATER_THAN_EQUALS:case B.VERSION_GREATER_THAN_EQUALS:return e>=r;default:return!1}},n.prototype.versionComparator=function(e,t,r){var i=e.compareTo(r);switch(t){case B.LESS_THAN:case B.VERSION_LESS_THAN:return i<0;case B.LESS_THAN_EQUALS:case B.VERSION_LESS_THAN_EQUALS:return i<=0;case B.GREATER_THAN:case B.VERSION_GREATER_THAN:return i>0;case B.GREATER_THAN_EQUALS:case B.VERSION_GREATER_THAN_EQUALS:return i>=0;default:return!1}},n.prototype.matchesRegex=function(e,t){return t.some(function(r){return!!new RegExp(r).exec(e)})},n.prototype.containsNone=function(e){return e.some(function(t){return t==="(none)"})},n.prototype.containsBooleans=function(e){return e.some(function(t){switch(t.toLowerCase()){case"true":case"false":return!0;default:return!1}})},n.prototype.parseNumber=function(e){var t;return(t=Number(e))!==null&&t!==void 0?t:void 0},n.prototype.coerceString=function(e){if(e!=null)return typeof e=="object"?JSON.stringify(e):String(e)},n.prototype.coerceStringArray=function(e){var t=this;if(Array.isArray(e)){var r=e;return r.map(function(l){return t.coerceString(l)}).filter(Boolean)}var i=String(e);try{var o=JSON.parse(i);if(Array.isArray(o)){var r=e;return r.map(function(a){return t.coerceString(a)}).filter(Boolean)}else{var s=this.coerceString(i);return s?[s]:void 0}}catch{var s=this.coerceString(i);return s?[s]:void 0}},n.prototype.isSetOperator=function(e){switch(e){case B.SET_IS:case B.SET_IS_NOT:case B.SET_CONTAINS:case B.SET_DOES_NOT_CONTAIN:case B.SET_CONTAINS_ANY:case B.SET_DOES_NOT_CONTAIN_ANY:return!0;default:return!1}},n.prototype.setEquals=function(e,t){var r=new Set(e),i=new Set(t);return r.size===i.size&&Zp([],Xp(i),!1).every(function(o){return r.has(o)})},n.prototype.matchesSetContainsAll=function(e,t){var r,i;if(e.length<t.length)return!1;try{for(var o=Rt(t),s=o.next();!s.done;s=o.next()){var l=s.value;if(!this.matchesIs(l,e))return!1}}catch(a){r={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!0},n.prototype.matchesSetContainsAny=function(e,t){var r,i;try{for(var o=Rt(t),s=o.next();!s.done;s=o.next()){var l=s.value;if(this.matchesIs(l,e))return!0}}catch(a){r={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},n})(),HC=function(n,e){var t,r,i=Or({},n),o=[],s=e||Object.keys(i);try{for(var l=Rt(s),a=l.next();!a.done;a=l.next()){var u=a.value,c=qC(u,i);c&&o.push.apply(o,Zp([],Xp(c),!1))}}catch(f){t={error:f}}finally{try{a&&!a.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return o},qC=function(n,e,t){var r,i;t===void 0&&(t=[]);var o=e[n];if(o){if(!o.dependencies||o.dependencies.length===0)return delete e[o.key],[o]}else return;t.push(o.key);var s=[],l=function(f){if(t.some(function(h){return h===f}))throw Error("Detected a cycle between flags ".concat(t));var d=qC(f,e,t);d&&s.push.apply(s,Zp([],Xp(d),!1))};try{for(var a=Rt(o.dependencies),u=a.next();!u.done;u=a.next()){var c=u.value;l(c)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s.push(o),t.pop(),delete e[o.key],s},KC="3.7.5",MF=KC,LF=typeof atob=="function",DF=typeof btoa=="function",qn=typeof Buffer=="function",UC=typeof TextDecoder=="function"?new TextDecoder:void 0,$C=typeof TextEncoder=="function"?new TextEncoder:void 0,UF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Co=Array.prototype.slice.call(UF),Xl=(n=>{let e={};return n.forEach((t,r)=>e[t]=r),e})(Co),$F=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ct=String.fromCharCode.bind(String),FC=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):n=>new Uint8Array(Array.prototype.slice.call(n,0)),YC=n=>n.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),XC=n=>n.replace(/[^A-Za-z0-9\+\/]/g,""),ZC=n=>{let e,t,r,i,o="",s=n.length%3;for(let l=0;l<n.length;){if((t=n.charCodeAt(l++))>255||(r=n.charCodeAt(l++))>255||(i=n.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=t<<16|r<<8|i,o+=Co[e>>18&63]+Co[e>>12&63]+Co[e>>6&63]+Co[e&63]}return s?o.slice(0,s-3)+"===".substring(s):o},Jp=DF?n=>btoa(n):qn?n=>Buffer.from(n,"binary").toString("base64"):ZC,qp=qn?n=>Buffer.from(n).toString("base64"):n=>{let t=[];for(let r=0,i=n.length;r<i;r+=4096)t.push(ct.apply(null,n.subarray(r,r+4096)));return Jp(t.join(""))},eu=(n,e=!1)=>e?YC(qp(n)):qp(n),FF=n=>{if(n.length<2){var e=n.charCodeAt(0);return e<128?n:e<2048?ct(192|e>>>6)+ct(128|e&63):ct(224|e>>>12&15)+ct(128|e>>>6&63)+ct(128|e&63)}else{var e=65536+(n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320);return ct(240|e>>>18&7)+ct(128|e>>>12&63)+ct(128|e>>>6&63)+ct(128|e&63)}},BF=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,JC=n=>n.replace(BF,FF),BC=qn?n=>Buffer.from(n,"utf8").toString("base64"):$C?n=>qp($C.encode(n)):n=>Jp(JC(n)),Hn=(n,e=!1)=>e?YC(BC(n)):BC(n),GC=n=>Hn(n,!0),GF=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,WF=n=>{switch(n.length){case 4:var e=(7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3),t=e-65536;return ct((t>>>10)+55296)+ct((t&1023)+56320);case 3:return ct((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return ct((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},QC=n=>n.replace(GF,WF),eI=n=>{if(n=n.replace(/\s+/g,""),!$F.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(n.length&3));let e,t="",r,i;for(let o=0;o<n.length;)e=Xl[n.charAt(o++)]<<18|Xl[n.charAt(o++)]<<12|(r=Xl[n.charAt(o++)])<<6|(i=Xl[n.charAt(o++)]),t+=r===64?ct(e>>16&255):i===64?ct(e>>16&255,e>>8&255):ct(e>>16&255,e>>8&255,e&255);return t},Qp=LF?n=>atob(XC(n)):qn?n=>Buffer.from(n,"base64").toString("binary"):eI,tI=qn?n=>FC(Buffer.from(n,"base64")):n=>FC(Qp(n).split("").map(e=>e.charCodeAt(0))),rI=n=>tI(nI(n)),VF=qn?n=>Buffer.from(n,"base64").toString("utf8"):UC?n=>UC.decode(tI(n)):n=>QC(Qp(n)),nI=n=>XC(n.replace(/[-_]/g,e=>e=="-"?"+":"/")),Kp=n=>VF(nI(n)),jF=n=>{if(typeof n!="string")return!1;let e=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},iI=n=>({value:n,enumerable:!1,writable:!0,configurable:!0}),oI=function(){let n=(e,t)=>Object.defineProperty(String.prototype,e,iI(t));n("fromBase64",function(){return Kp(this)}),n("toBase64",function(e){return Hn(this,e)}),n("toBase64URI",function(){return Hn(this,!0)}),n("toBase64URL",function(){return Hn(this,!0)}),n("toUint8Array",function(){return rI(this)})},sI=function(){let n=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,iI(t));n("toBase64",function(e){return eu(this,e)}),n("toBase64URI",function(){return eu(this,!0)}),n("toBase64URL",function(){return eu(this,!0)})},zF=()=>{oI(),sI()},Yp={version:KC,VERSION:MF,atob:Qp,atobPolyfill:eI,btoa:Jp,btoaPolyfill:ZC,fromBase64:Kp,toBase64:Hn,encode:Hn,encodeURI:GC,encodeURL:GC,utob:JC,btou:QC,decode:Kp,isValid:jF,fromUint8Array:eu,toUint8Array:rI,extendString:oI,extendUint8Array:sI,extendBuiltins:zF},em=(function(n){WC(e,n);function e(t,r){var i=n.call(this,r)||this;return i.statusCode=t,Object.setPrototypeOf(i,e.prototype),i}return e})(Error),tu=(function(n){WC(e,n);function e(t){var r=n.call(this,t)||this;return Object.setPrototypeOf(r,e.prototype),r}return e})(Error),aI=(function(){function n(e,t,r){this.deploymentKey=e,this.serverUrl=t,this.httpClient=r}return n.prototype.getVariants=function(e,t){return VC(this,void 0,void 0,function(){var r,i,o,s;return jC(this,function(l){switch(l.label){case 0:return r=Yp.encodeURL(JSON.stringify(e)),i={Authorization:"Api-Key ".concat(this.deploymentKey),"X-Amp-Exp-User":r},t?.flagKeys&&(i["X-Amp-Exp-Flag-Keys"]=Yp.encodeURL(JSON.stringify(t.flagKeys))),t?.trackingOption&&(i["X-Amp-Exp-Track"]=t.trackingOption),o=new URL("".concat(this.serverUrl,"/sdk/v2/vardata?v=0")),t?.evaluationMode&&o.searchParams.append("eval_mode",t?.evaluationMode),t?.deliveryMethod&&o.searchParams.append("delivery_method",t?.deliveryMethod),[4,this.httpClient.request({requestUrl:o.toString(),method:"GET",headers:i,timeoutMillis:t?.timeoutMillis})];case 1:if(s=l.sent(),s.status!=200)throw new em(s.status,"Fetch error response: status=".concat(s.status));return[2,JSON.parse(s.body)]}})})},n})(),lI=(function(){function n(e,t,r){this.deploymentKey=e,this.serverUrl=t,this.httpClient=r}return n.prototype.getFlags=function(e){return VC(this,void 0,void 0,function(){var t,r,i;return jC(this,function(o){switch(o.label){case 0:return t={Authorization:"Api-Key ".concat(this.deploymentKey)},e?.libraryName&&e?.libraryVersion&&(t["X-Amp-Exp-Library"]="".concat(e.libraryName,"/").concat(e.libraryVersion)),e?.user&&(t["X-Amp-Exp-User"]=Yp.encodeURL(JSON.stringify(e.user))),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/flags")+(e?.deliveryMethod?"?delivery_method=".concat(e.deliveryMethod):""),method:"GET",headers:t,timeoutMillis:e?.timeoutMillis})];case 1:if(r=o.sent(),r.status!=200)throw Error("Flags error response: status=".concat(r.status));return i=JSON.parse(r.body),[2,i.reduce(function(s,l){return s[l.key]=l,s},{})]}})})},n})(),rt=typeof globalThis<"u"?globalThis:global||self,Pr=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},uI=function(){var n=Pr();if(n)try{var e="EXP_test";return n.localStorage.setItem(e,e),n.localStorage.removeItem(e),!0}catch{return!1}return!1},cI=(function(){function n(e,t){this.poller=void 0,this.action=e,this.ms=t}return n.prototype.start=function(){this.poller||(this.poller=rt.setInterval(this.action,this.ms),this.action())},n.prototype.stop=function(){this.poller&&(rt.clearInterval(this.poller),this.poller=void 0)},n})();Bo();var bI=DI(fI()),t9=(function(){function n(e){this.amplitudeInstance=e}return n.prototype.getUser=function(){var e,t,r,i,o,s,l,a,u,c;return{device_id:(t=(e=this.amplitudeInstance)===null||e===void 0?void 0:e.options)===null||t===void 0?void 0:t.deviceId,user_id:(i=(r=this.amplitudeInstance)===null||r===void 0?void 0:r.options)===null||i===void 0?void 0:i.userId,version:(s=(o=this.amplitudeInstance)===null||o===void 0?void 0:o.options)===null||s===void 0?void 0:s.versionName,language:(a=(l=this.amplitudeInstance)===null||l===void 0?void 0:l.options)===null||a===void 0?void 0:a.language,platform:(c=(u=this.amplitudeInstance)===null||u===void 0?void 0:u.options)===null||c===void 0?void 0:c.platform,os:this.getOs(),device_model:this.getDeviceModel()}},n.prototype.getOs=function(){var e,t,r,i,o,s;return[(r=(t=(e=this.amplitudeInstance)===null||e===void 0?void 0:e._ua)===null||t===void 0?void 0:t.browser)===null||r===void 0?void 0:r.name,(s=(o=(i=this.amplitudeInstance)===null||i===void 0?void 0:i._ua)===null||o===void 0?void 0:o.browser)===null||s===void 0?void 0:s.major].filter(function(l){return l!=null}).join(" ")},n.prototype.getDeviceModel=function(){var e,t,r;return(r=(t=(e=this.amplitudeInstance)===null||e===void 0?void 0:e._ua)===null||t===void 0?void 0:t.os)===null||r===void 0?void 0:r.name},n})(),r9=(function(){function n(e){this.amplitudeInstance=e}return n.prototype.track=function(e){this.amplitudeInstance.logEvent(e.name,e.properties)},n.prototype.setUserProperty=function(e){var t,r;this.amplitudeInstance.setUserProperties((t={},t[e.userProperty]=(r=e.variant)===null||r===void 0?void 0:r.value,t))},n.prototype.unsetUserProperty=function(e){var t;this.amplitudeInstance._logEvent("$identify",null,null,{$unset:(t={},t[e.userProperty]="-",t)})},n})(),Ce=function(){return Ce=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ce.apply(this,arguments)};function ot(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(n,e||[])).next())})}function st(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function mr(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function en(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function rm(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var dI=function(n,e){var t,r;e===void 0&&(e=!1);var i=nm(n,e),o=void 0,s=rt.document.cookie.split("; ");try{for(var l=mr(s),a=l.next();!a.done;a=l.next()){var u=a.value,c=en(u.split("=",2),2),f=c[0],d=c[1];f===i&&(o=decodeURIComponent(d))}}catch(m){t={error:m}}finally{try{a&&!a.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}if(o)try{if(e){var h=atob(o);return JSON.parse(decodeURIComponent(h))}var p=o.split("."),v=void 0;return p.length>=2&&p[1]&&(v=atob(p[1])),{deviceId:p[0],userId:v}}catch{return}},HF=function(n){var e=nm(n,!0);try{var t=rt.localStorage.getItem(e);if(!t)return;var r=JSON.parse(t);return typeof r!="object"?void 0:r}catch{return}},qF=function(n){var e=nm(n,!0);try{var t=rt.sessionStorage.getItem(e);if(!t)return;var r=JSON.parse(t);return typeof r!="object"?void 0:r}catch{return}},nm=function(n,e){if(e)return n?.length<10?void 0:"AMP_".concat(n.substring(0,10));if(!(n?.length<6))return"amp_".concat(n.substring(0,6))},KF=(function(){function n(e,t,r){this.type="integration",this.apiKey=e,this.identityStore=t.identityStore,this.eventBridge=t.eventBridge,this.contextProvider=t.applicationContextProvider,this.timeoutMillis=r,this.loadPersistedState(),r<=0&&(this.setup=void 0)}return n.prototype.setup=function(e,t){return ot(this,void 0,void 0,function(){return st(this,function(r){return e?.automaticFetchOnAmplitudeIdentityChange&&this.identityStore.addIdentityListener(function(){t?.fetch()}),[2,this.waitForConnectorIdentity(this.timeoutMillis)]})})},n.prototype.getUser=function(){var e=this.identityStore.getIdentity();return{user_id:e.userId,device_id:e.deviceId,user_properties:e.userProperties,version:this.contextProvider.versionName}},n.prototype.track=function(e){return this.eventBridge.receiver?(this.eventBridge.logEvent({eventType:e.eventType,eventProperties:e.eventProperties}),!0):!1},n.prototype.loadPersistedState=function(){if(!this.apiKey||this.apiKey.startsWith("client-"))return!1;var e=dI(this.apiKey,!0);return e?(this.commitIdentityToConnector(e),!0):(e=dI(this.apiKey,!1),e?(this.commitIdentityToConnector(e),!0):(e=HF(this.apiKey),e?(this.commitIdentityToConnector(e),!0):(e=qF(this.apiKey),e?(this.commitIdentityToConnector(e),!0):!1)))},n.prototype.commitIdentityToConnector=function(e){var t=this.identityStore.editIdentity();t.setDeviceId(e.deviceId),e.userId&&t.setUserId(e.userId),t.commit()},n.prototype.waitForConnectorIdentity=function(e){return ot(this,void 0,void 0,function(){var t,r=this;return st(this,function(i){return t=this.identityStore.getIdentity(),!t.userId&&!t.deviceId?[2,Promise.race([new Promise(function(o){var s=function(){o(),r.identityStore.removeIdentityListener(s)};r.identityStore.addIdentityListener(s)}),new Promise(function(o,s){rt.setTimeout(s,e,"Timed out waiting for Amplitude Analytics SDK to initialize.")})])]:[2]})})},n})();function YF(n,e){return e=e||{},new Promise(function(t,r){var i=new XMLHttpRequest,o=[],s=[],l={},a=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return s},get:function(c){return l[c.toLowerCase()]},has:function(c){return c.toLowerCase()in l}}}};for(var u in i.open(e.method||"get",n,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(c,f,d){o.push(f=f.toLowerCase()),s.push([f,d]),l[f]=l[f]?l[f]+","+d:d}),t(a())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(u,e.headers[u]);i.send(e.body||null)})}var XF=rt.fetch||YF,ZF=function(n,e){return e==null||e<=0?n:new Promise(function(t,r){rt.setTimeout(function(){r(new tu("Request timeout after "+e+" milliseconds"))},e),n.then(t,r)})},JF=function(n,e,t,r,i){var o=function(){return ot(void 0,void 0,void 0,function(){var s,l,a;return st(this,function(u){switch(u.label){case 0:return[4,XF(n,{method:e,headers:t,body:r})];case 1:return s=u.sent(),a={status:s.status},[4,s.text()];case 2:return l=(a.body=u.sent(),a),[2,l]}})})};return ZF(o(),i)},QF=(function(){function n(e){this.client=e}return n.prototype.request=function(e){return ot(this,void 0,void 0,function(){return st(this,function(t){switch(t.label){case 0:return[4,this.client.request(e.requestUrl,e.method,e.headers,null,e.timeoutMillis)];case 1:return[2,t.sent()]}})})},n})(),wI={request:JF},pr;(function(n){n.LocalStorage="localStorage",n.InitialVariants="initialVariants"})(pr||(pr={}));var nt;(function(n){n.LocalStorage="storage",n.InitialVariants="initial",n.SecondaryLocalStorage="secondary-storage",n.SecondaryInitialVariants="secondary-initial",n.FallbackInline="fallback-inline",n.FallbackConfig="fallback-config",n.LocalEvaluation="local-evaluation"})(nt||(nt={}));var hI=function(n){return!n||n===nt.FallbackInline||n===nt.FallbackConfig||n===nt.SecondaryInitialVariants},tn={debug:!1,instanceName:"$default_instance",fallbackVariant:{},initialVariants:{},initialFlags:void 0,source:pr.LocalStorage,serverUrl:"https://api.lab.amplitude.com",flagsServerUrl:"https://flag.lab.amplitude.com",serverZone:"US",fetchTimeoutMillis:1e4,retryFetchOnFailure:!0,throwOnError:!1,automaticExposureTracking:!0,pollOnStart:!0,flagConfigPollingIntervalMillis:3e5,fetchOnStart:!0,automaticFetchOnAmplitudeIdentityChange:!1,userProvider:null,analyticsProvider:null,exposureTrackingProvider:null,httpClient:wI},pI="1.16.2",e3=512,t3=(function(){function n(e,t){var r=this,i;this.isReady=new Promise(function(s){r.resolve=s}),this.config=e,this.client=t;var o=(i=e.instanceName)!==null&&i!==void 0?i:tn.instanceName;this.queue=new n3(o),this.cache=new r3(o)}return n.prototype.ready=function(){return this.integration?this.isReady:Promise.resolve()},n.prototype.setIntegration=function(e){var t=this;this.integration&&this.integration.teardown&&this.integration.teardown(),this.integration=e,e.setup?this.integration.setup(this.config,this.client).then(function(){t.queue.setTracker(t.integration.track.bind(e)),t.resolve()},function(){t.queue.setTracker(t.integration.track.bind(e)),t.resolve()}):(this.queue.setTracker(this.integration.track.bind(e)),this.resolve())},n.prototype.getUser=function(){return this.integration?this.integration.getUser():{}},n.prototype.track=function(e){if(this.cache.shouldTrack(e)){var t=this.getExposureEvent(e);this.queue.push(t)}},n.prototype.getExposureEvent=function(e){var t,r,i,o={eventType:"$exposure",eventProperties:e};return!((t=e.metadata)===null||t===void 0)&&t.exposureEvent?o={eventType:(r=e.metadata)===null||r===void 0?void 0:r.exposureEvent,eventProperties:e}:((i=e.metadata)===null||i===void 0?void 0:i.deliveryMethod)==="web"&&(o={eventType:"$impression",eventProperties:e}),o},n})(),r3=(function(){function n(e){this.isSessionStorageAvailable=i3(),this.inMemoryCache={},this.storageKey="EXP_sent_v2_".concat(e),this.isSessionStorageAvailable&&rt.sessionStorage.removeItem("EXP_sent_".concat(e))}return n.prototype.shouldTrack=function(e){var t;if(((t=e.metadata)===null||t===void 0?void 0:t.deliveryMethod)==="web")return!0;this.loadCache();var r=this.inMemoryCache[e.flag_key],i=!1;return(!r||r.variant!==e.variant)&&(i=!0,this.inMemoryCache[e.flag_key]=e),this.storeCache(),i},n.prototype.loadCache=function(){if(this.isSessionStorageAvailable){var e=rt.sessionStorage.getItem(this.storageKey);this.inMemoryCache=e?JSON.parse(e):{}}},n.prototype.storeCache=function(){this.isSessionStorageAvailable&&rt.sessionStorage.setItem(this.storageKey,JSON.stringify(this.inMemoryCache))},n})(),n3=(function(){function n(e,t){t===void 0&&(t=e3),this.isLocalStorageAvailable=uI(),this.inMemoryQueue=[],this.storageKey="EXP_unsent_".concat(e),this.maxQueueSize=t}return n.prototype.push=function(e){this.loadQueue(),this.inMemoryQueue.push(e),this.flush(),this.storeQueue()},n.prototype.setTracker=function(e){var t=this;this.tracker=e,this.poller=rt.setInterval(function(){t.loadFlushStore()},1e3),this.loadFlushStore()},n.prototype.flush=function(){var e,t;if(this.tracker&&this.inMemoryQueue.length!==0){try{for(var r=mr(this.inMemoryQueue),i=r.next();!i.done;i=r.next()){var o=i.value;try{if(!this.tracker(o))return}catch{return}}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.inMemoryQueue=[],this.poller&&(rt.clearInterval(this.poller),this.poller=void 0)}},n.prototype.loadQueue=function(){if(this.isLocalStorageAvailable){var e=rt.localStorage.getItem(this.storageKey);this.inMemoryQueue=e?JSON.parse(e):[]}},n.prototype.storeQueue=function(){this.isLocalStorageAvailable&&(this.inMemoryQueue.length>this.maxQueueSize&&(this.inMemoryQueue=this.inMemoryQueue.slice(this.inMemoryQueue.length-this.maxQueueSize)),rt.localStorage.setItem(this.storageKey,JSON.stringify(this.inMemoryQueue)))},n.prototype.loadFlushStore=function(){this.loadQueue(),this.flush(),this.storeQueue()},n})(),i3=function(){var n=Pr();if(n)try{var e="EXP_test";return n.sessionStorage.setItem(e,e),n.sessionStorage.removeItem(e),!0}catch{return!1}return!1},im=(function(){function n(){this.globalScope=Pr()}return n.prototype.get=function(e){var t;return(t=this.globalScope)===null||t===void 0?void 0:t.localStorage.getItem(e)},n.prototype.put=function(e,t){var r;(r=this.globalScope)===null||r===void 0||r.localStorage.setItem(e,t)},n.prototype.delete=function(e){var t;(t=this.globalScope)===null||t===void 0||t.localStorage.removeItem(e)},n})(),o3=function(n,e,t){var r=n.substring(n.length-6),i="amp-exp-".concat(e,"-").concat(r);return new SI(i,t,EI)},s3=function(n,e,t){t===void 0&&(t=new im);var r=n.substring(n.length-6),i="amp-exp-".concat(e,"-").concat(r,"-flags");return new SI(i,t)},SI=(function(){function n(e,t,r){this.cache={},this.namespace=e,this.storage=t,this.transformer=r}return n.prototype.get=function(e){return this.cache[e]},n.prototype.getAll=function(){return Ce({},this.cache)},n.prototype.put=function(e,t){this.cache[e]=t},n.prototype.putAll=function(e){var t,r;try{for(var i=mr(Object.keys(e)),o=i.next();!o.done;o=i.next()){var s=o.value;this.cache[s]=e[s]}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.remove=function(e){delete this.cache[e]},n.prototype.clear=function(){this.cache={}},n.prototype.load=function(){var e,t,r=this.storage.get(this.namespace),i;try{i=JSON.parse(r)||{}}catch{return}var o={};try{for(var s=mr(Object.keys(i)),l=s.next();!l.done;l=s.next()){var a=l.value;try{var u=void 0;this.transformer?u=this.transformer(i[a]):u=i[a],u&&(o[a]=u)}catch{}}}catch(c){e={error:c}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}this.clear(),this.putAll(o)},n.prototype.store=function(e){e===void 0&&(e=this.cache),this.storage.put(this.namespace,JSON.stringify(e))},n})(),EI=function(n){if(typeof n=="string")return{key:n,value:n};if(typeof n=="object"){var e=n.key,t=n.value,r=n.payload,i=n.metadata,o=n.expKey;i&&i.experimentKey?o=i.experimentKey:o&&(i=i||{},i.experimentKey=o);var s={};return e?s.key=e:t&&(s.key=t),t&&(s.value=t),i&&(s.metadata=i),r&&(s.payload=r),o&&(s.expKey=o),s}},xI=(function(){function n(){this.globalScope=Pr()}return n.prototype.get=function(e){var t;return(t=this.globalScope)===null||t===void 0?void 0:t.sessionStorage.getItem(e)},n.prototype.put=function(e,t){var r;(r=this.globalScope)===null||r===void 0||r.sessionStorage.setItem(e,t)},n.prototype.delete=function(e){var t;(t=this.globalScope)===null||t===void 0||t.sessionStorage.removeItem(e)},n})(),a3=function(n,e,t,r){var i,o="[Experiment] Exposure",s=t?.value,l="[Experiment] ".concat(e);return{name:o,user:n,key:e,variant:t,userProperty:l,properties:{key:e,variant:s,source:r},userProperties:(i={},i[l]=s,i)}},$t=function(n){return n==null},tm=function(n){return $t(n)?!0:n&&Object.keys(n).length===0},l3=function(n){var e,t;if(!n||typeof n!="object")return{};var r={};try{for(var i=mr(Object.entries(n)),o=i.next();!o.done;o=i.next()){var s=en(o.value,2),l=s[0],a=s[1];$t(a)||(r[l]=a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},mI=function(n){var e;return((e=n?.metadata)===null||e===void 0?void 0:e.evaluationMode)==="local"},u3=(function(){function n(e,t,r,i){this.started=!1,this.done=!1,this.attempts=e,this.min=t,this.max=r,this.scalar=i}return n.prototype.start=function(e){return ot(this,void 0,void 0,function(){return st(this,function(t){switch(t.label){case 0:if(!this.started)this.started=!0;else throw Error("Backoff already started");return[4,this.backoff(e,0,this.min)];case 1:return t.sent(),[2]}})})},n.prototype.cancel=function(){this.done=!0,clearTimeout(this.timeoutHandle)},n.prototype.backoff=function(e,t,r){return ot(this,void 0,void 0,function(){var i=this;return st(this,function(o){return this.done?[2]:(this.timeoutHandle=rt.setTimeout(function(){return ot(i,void 0,void 0,function(){var s,l;return st(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,e()];case 1:return a.sent(),[3,3];case 2:return a.sent(),s=t+1,s<this.attempts&&(l=Math.min(r*this.scalar,this.max),this.backoff(e,s,l)),[3,3];case 3:return[2]}})})},r),[2])})})},n})(),c3=function(n){var e,t,r,i;if(!n)return{};var o={user:n},s=Pr();s&&(o.page={url:s.location.href});var l={};if(!n.groups)return o;try{for(var a=mr(Object.keys(n.groups)),u=a.next();!u.done;u=a.next()){var c=u.value,f=n.groups[c];if(f.length>0&&f[0]){var d=f[0],h={group_name:d},p=(i=(r=n.group_properties)===null||r===void 0?void 0:r[c])===null||i===void 0?void 0:i[d];p&&Object.keys(p).length>0&&(h.group_properties=p),l[c]=h}}}catch(v){e={error:v}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return Object.keys(l).length>0&&(o.groups=l),delete o.user.groups,delete o.user.group_properties,o},gt=function(n){return n==null?{}:typeof n=="string"?{key:n,value:n}:n},vI=function(n){if(!n)return{};var e=void 0;n.metadata&&(e=n.metadata.experimentKey);var t={};return n.key&&(t.key=n.key),n.value&&(t.value=n.value),n.payload&&(t.payload=n.payload),e&&(t.expKey=e),n.metadata&&(t.metadata=n.metadata),t},f3=(function(){function n(e){this.setProperties={},this.unsetProperties={},this.analyticsProvider=e}return n.prototype.track=function(e){this.setProperties[e.key]!=e.variant.value&&(this.setProperties[e.key]=e.variant.value,delete this.unsetProperties[e.key],this.analyticsProvider.track(e))},n.prototype.setUserProperty=function(e){this.setProperties[e.key]!=e.variant.value&&this.analyticsProvider.setUserProperty(e)},n.prototype.unsetUserProperty=function(e){this.unsetProperties[e.key]||(this.unsetProperties[e.key]="unset",delete this.setProperties[e.key],this.analyticsProvider.unsetUserProperty(e))},n})(),d3=(function(){function n(e){this.tracked={},this.exposureTrackingProvider=e}return n.prototype.track=function(e){var t=this.tracked[e.flag_key];t&&t.variant===e.variant||(this.tracked[e.flag_key]=e,this.exposureTrackingProvider.track(e))},n})(),h3=1e4,p3=8,m3=500,v3=1e4,g3=1.5,gI=6e4,y3="https://api.lab.eu.amplitude.com",b3="https://flag.lab.eu.amplitude.com",w3=(function(){function n(e,t){var r=this,i,o,s,l;this.engine=new zC,this.isRunning=!1,this.apiKey=e,t=l3(t),this.config=Ce(Ce(Ce({},tn),t),{serverUrl:t?.serverUrl||(((i=t?.serverZone)===null||i===void 0?void 0:i.toLowerCase())==="eu"?y3:tn.serverUrl),flagsServerUrl:t?.flagsServerUrl||(((o=t?.serverZone)===null||o===void 0?void 0:o.toLowerCase())==="eu"?b3:tn.flagsServerUrl),flagConfigPollingIntervalMillis:t.flagConfigPollingIntervalMillis<gI?gI:(s=t.flagConfigPollingIntervalMillis)!==null&&s!==void 0?s:tn.flagConfigPollingIntervalMillis});var a=(l=this.config)===null||l===void 0?void 0:l.internalInstanceNameSuffix;if(this.isWebExperiment=a==="web",this.poller=new cI(function(){return r.doFlags()},this.config.flagConfigPollingIntervalMillis),this.config.initialVariants)for(var u in this.config.initialVariants)this.config.initialVariants[u]=EI(this.config.initialVariants[u]);this.config.userProvider&&(this.userProvider=this.config.userProvider),this.config.analyticsProvider&&(this.analyticsProvider=new f3(this.config.analyticsProvider)),this.config.exposureTrackingProvider&&(this.exposureTrackingProvider=new d3(this.config.exposureTrackingProvider)),this.integrationManager=new t3(this.config,this);var c=new QF(this.config.httpClient||wI);this.flagApi=new lI(this.apiKey,this.config.flagsServerUrl,c),this.evaluationApi=new aI(this.apiKey,this.config.serverUrl,c);var f,d=a?"".concat(this.config.instanceName,"-").concat(a):this.config.instanceName;this.isWebExperiment?f=new xI:f=new im,this.variants=o3(this.apiKey,d,f),this.flags=s3(this.apiKey,d,f);try{this.flags.load(),this.variants.load()}catch{}this.mergeInitialFlagsWithStorage()}return n.prototype.start=function(e){return ot(this,void 0,void 0,function(){var t,r,i,o;return st(this,function(s){switch(s.label){case 0:if(this.isRunning)return[2];this.isRunning=!0,this.setUser(e),s.label=1;case 1:return s.trys.push([1,6,,7]),t=this.doFlags(),r=(o=this.config.fetchOnStart)!==null&&o!==void 0?o:!0,r?[4,Promise.all([this.fetch(e),t])]:[3,3];case 2:return s.sent(),[3,5];case 3:return[4,t];case 4:s.sent(),s.label=5;case 5:return[3,7];case 6:if(i=s.sent(),this.config.throwOnError)throw i;return[3,7];case 7:return this.config.pollOnStart&&this.poller.start(),[2]}})})},n.prototype.stop=function(){this.isRunning&&(this.poller.stop(),this.isRunning=!1)},n.prototype.fetch=function(){return ot(this,arguments,void 0,function(e,t){var r;return e===void 0&&(e=this.user),st(this,function(i){switch(i.label){case 0:this.setUser(e||{}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchInternal(e,this.config.fetchTimeoutMillis,this.config.retryFetchOnFailure,t)];case 2:return i.sent(),[3,4];case 3:if(r=i.sent(),this.config.throwOnError)throw r;return this.config.debug&&(r instanceof tu?console.debug(r):console.error(r)),[3,4];case 4:return[2,this]}})})},n.prototype.variant=function(e,t){var r,i;if(!this.apiKey)return{value:void 0};var o=this.variantAndSource(e,t);return this.config.automaticExposureTracking&&this.exposureInternal(e,o),this.debug("[Experiment] variant for ".concat(e," is ").concat(((r=o.variant)===null||r===void 0?void 0:r.key)||((i=o.variant)===null||i===void 0?void 0:i.value))),o.variant||{}},n.prototype.exposure=function(e){var t=this.variantAndSource(e);this.exposureInternal(e,t)},n.prototype.all=function(){if(!this.apiKey)return{};var e=this.evaluate();for(var t in e){var r=this.flags.get(t);mI(r)||delete e[t]}return Ce(Ce(Ce({},this.secondaryVariants()),this.sourceVariants()),e)},n.prototype.clear=function(){this.variants.clear();try{this.variants.store()}catch{}},n.prototype.getUser=function(){var e;if(!this.user)return this.user;if(!((e=this.user)===null||e===void 0)&&e.user_properties){var t=Ce({},this.user.user_properties);return Ce(Ce({},this.user),{user_properties:t})}else return Ce({},this.user)},n.prototype.setUser=function(e){var t;if(!e){this.user=null;return}if(!((t=this.user)===null||t===void 0)&&t.user_properties){var r=Ce({},e.user_properties);this.user=Ce(Ce({},e),{user_properties:r})}else this.user=Ce({},e)},n.prototype.getUserProvider=function(){return this.userProvider},n.prototype.setUserProvider=function(e){return this.userProvider=e,this},n.prototype.mergeInitialFlagsWithStorage=function(){var e=this;if(this.config.initialFlags){var t=JSON.parse(this.config.initialFlags);t.forEach(function(r){e.flags.get(r.key)||e.flags.put(r.key,r)})}},n.prototype.evaluate=function(e){var t,r,i=this.addContext(this.user),o=HC(this.flags.getAll(),e),s=c3(i),l=this.engine.evaluate(s,o),a={};try{for(var u=mr(Object.keys(l)),c=u.next();!c.done;c=u.next()){var f=c.value;a[f]=vI(l[f])}}catch(d){t={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return a},n.prototype.variantAndSource=function(e,t){var r={};this.config.source===pr.LocalStorage?r=this.localStorageVariantAndSource(e,t):this.config.source===pr.InitialVariants&&(r=this.initialVariantsVariantAndSource(e,t));var i=this.flags.get(e);return(mI(i)||!r.variant&&i)&&(r=this.localEvaluationVariantAndSource(e,i,t)),r},n.prototype.localEvaluationVariantAndSource=function(e,t,r){var i,o={},s=this.evaluate([t.key])[e],l=nt.LocalEvaluation,a=(i=s?.metadata)===null||i===void 0?void 0:i.default;if(!$t(s)&&!a)return{variant:gt(s),source:l,hasDefaultVariant:!1};if(a&&(o={variant:gt(s),source:l,hasDefaultVariant:!0}),!$t(r))return{variant:gt(r),source:nt.FallbackInline,hasDefaultVariant:o.hasDefaultVariant};var u=this.config.initialVariants[e];if(!$t(u))return{variant:gt(u),source:nt.SecondaryInitialVariants,hasDefaultVariant:o.hasDefaultVariant};var c=gt(this.config.fallbackVariant),f={variant:c,source:nt.FallbackConfig,hasDefaultVariant:o.hasDefaultVariant};return tm(c)?o:f},n.prototype.localStorageVariantAndSource=function(e,t){var r,i={},o=this.variants.get(e),s=(r=o?.metadata)===null||r===void 0?void 0:r.default;if(!$t(o)&&!s)return{variant:gt(o),source:nt.LocalStorage,hasDefaultVariant:!1};if(s&&(i={variant:gt(o),source:nt.LocalStorage,hasDefaultVariant:!0}),!$t(t))return{variant:gt(t),source:nt.FallbackInline,hasDefaultVariant:i.hasDefaultVariant};var l=this.config.initialVariants[e];if(!$t(l))return{variant:gt(l),source:nt.SecondaryInitialVariants,hasDefaultVariant:i.hasDefaultVariant};var a=gt(this.config.fallbackVariant),u={variant:a,source:nt.FallbackConfig,hasDefaultVariant:i.hasDefaultVariant};return tm(a)?i:u},n.prototype.initialVariantsVariantAndSource=function(e,t){var r,i={},o=this.config.initialVariants[e];if(!$t(o))return{variant:gt(o),source:nt.InitialVariants,hasDefaultVariant:!1};var s=this.variants.get(e),l=(r=s?.metadata)===null||r===void 0?void 0:r.default;if(!$t(s)&&!l)return{variant:gt(s),source:nt.LocalStorage,hasDefaultVariant:!1};if(l&&(i={variant:gt(s),source:nt.LocalStorage,hasDefaultVariant:!0}),!$t(t))return{variant:gt(t),source:nt.FallbackInline,hasDefaultVariant:i.hasDefaultVariant};var a=gt(this.config.fallbackVariant),u={variant:a,source:nt.FallbackConfig,hasDefaultVariant:i.hasDefaultVariant};return tm(a)?i:u},n.prototype.fetchInternal=function(e,t,r,i){return ot(this,void 0,void 0,function(){var o,s;return st(this,function(l){switch(l.label){case 0:if(!this.apiKey)throw Error("Experiment API key is empty");this.debug("[Experiment] Fetch all: retry=".concat(r)),r&&this.stopRetries(),l.label=1;case 1:return l.trys.push([1,4,,5]),[4,this.doFetch(e,t,i)];case 2:return o=l.sent(),[4,this.storeVariants(o,i)];case 3:return l.sent(),[2,o];case 4:throw s=l.sent(),r&&this.shouldRetryFetch(s)&&this.startRetries(e,i),s;case 5:return[2]}})})},n.prototype.cleanUserPropsForFetch=function(e){var t=Ce({},e);return delete t.cookie,t},n.prototype.doFetch=function(e,t,r){return ot(this,void 0,void 0,function(){var i,o,s,l,a,u,c;return st(this,function(f){switch(f.label){case 0:return[4,this.addContextOrWait(e)];case 1:return e=f.sent(),e=this.cleanUserPropsForFetch(e),this.debug("[Experiment] Fetch variants for user: ",e),[4,this.evaluationApi.getVariants(e,Ce({timeoutMillis:t},r))];case 2:i=f.sent(),o={};try{for(s=mr(Object.keys(i)),l=s.next();!l.done;l=s.next())a=l.value,o[a]=vI(i[a])}catch(d){u={error:d}}finally{try{l&&!l.done&&(c=s.return)&&c.call(s)}finally{if(u)throw u.error}}return this.debug("[Experiment] Received variants: ",o),[2,o]}})})},n.prototype.doFlags=function(){return ot(this,void 0,void 0,function(){var e,t,r;return st(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),e=void 0,this.isWebExperiment?[4,this.addContextOrWait(this.getUser())]:[3,2];case 1:e=i.sent(),i.label=2;case 2:return[4,this.flagApi.getFlags({libraryName:"experiment-js-client",libraryVersion:pI,timeoutMillis:this.config.fetchTimeoutMillis,deliveryMethod:this.isWebExperiment?"web":void 0,user:e?.user_id||e?.device_id?{user_id:e?.user_id,device_id:e?.device_id}:void 0})];case 3:return t=i.sent(),this.flags.clear(),this.flags.putAll(t),[3,5];case 4:if(r=i.sent(),r instanceof tu){if(this.config.debug&&console.debug(r),this.config.throwOnError)throw r}else throw r;return[3,5];case 5:try{this.flags.store()}catch{}return this.mergeInitialFlagsWithStorage(),[2]}})})},n.prototype.storeVariants=function(e,t){return ot(this,void 0,void 0,function(){var r,i,o,s,s;return st(this,function(l){r=t&&t.flagKeys?t.flagKeys:[],r.length===0&&this.variants.clear(),i=function(a){r=r.filter(function(u){return u!==a}),o.variants.put(a,e[a])},o=this;for(s in e)i(s);for(s in r)this.variants.remove(s);try{this.variants.store()}catch{}return this.debug("[Experiment] Stored variants: ",e),[2]})})},n.prototype.startRetries=function(e,t){return ot(this,void 0,void 0,function(){var r=this;return st(this,function(i){return this.debug("[Experiment] Retry fetch"),this.retriesBackoff=new u3(p3,m3,v3,g3),this.retriesBackoff.start(function(){return ot(r,void 0,void 0,function(){return st(this,function(o){switch(o.label){case 0:return[4,this.fetchInternal(e,h3,!1,t)];case 1:return o.sent(),[2]}})})}),[2]})})},n.prototype.stopRetries=function(){this.retriesBackoff&&this.retriesBackoff.cancel()},n.prototype.addContext=function(e){var t,r=(t=this.userProvider)===null||t===void 0?void 0:t.getUser(),i=this.integrationManager.getUser(),o=Ce(Ce(Ce({},r?.user_properties),i.user_properties),e?.user_properties);return Ce(Ce(Ce(Ce({library:"experiment-js-client/".concat(pI)},r),i),e),{user_properties:o})},n.prototype.addContextOrWait=function(e){return ot(this,void 0,void 0,function(){return st(this,function(t){switch(t.label){case 0:return[4,this.integrationManager.ready()];case 1:return t.sent(),[2,this.addContext(e)]}})})},n.prototype.sourceVariants=function(){if(this.config.source==pr.LocalStorage)return this.variants.getAll();if(this.config.source==pr.InitialVariants)return this.config.initialVariants},n.prototype.secondaryVariants=function(){if(this.config.source==pr.LocalStorage)return this.config.initialVariants;if(this.config.source==pr.InitialVariants)return this.variants.getAll()},n.prototype.exposureInternal=function(e,t){var r,i,o,s,l,a,u,c,f,d=(o=(i=(r=t.variant)===null||r===void 0?void 0:r.metadata)===null||i===void 0?void 0:i.trackExposure)!==null&&o!==void 0?o:!0;if(d){this.legacyExposureInternal(e,t.variant,t.source);var h={flag_key:e},p=hI(t.source);if(!(p&&!t.hasDefaultVariant)){!((s=t.variant)===null||s===void 0)&&s.expKey&&(h.experiment_key=(l=t.variant)===null||l===void 0?void 0:l.expKey);var v=(a=t.variant)===null||a===void 0?void 0:a.metadata;if(!p&&!v?.default&&(!((u=t.variant)===null||u===void 0)&&u.key?h.variant=t.variant.key:!((c=t.variant)===null||c===void 0)&&c.value&&(h.variant=t.variant.value)),v&&(h.metadata=v),this.isWebExperiment){var m=Pr();if(m?.location)try{var y=m.location.href;h.metadata.url=y.split("?")[0]||""}catch{}}(f=this.exposureTrackingProvider)===null||f===void 0||f.track(h),this.integrationManager.track(h)}}},n.prototype.legacyExposureInternal=function(e,t,r){var i,o,s,l,a;if(this.analyticsProvider){var u=this.addContext(this.getUser()),c=a3(u,e,t,r);hI(r)||!t?.value?(o=(i=this.analyticsProvider)===null||i===void 0?void 0:i.unsetUserProperty)===null||o===void 0||o.call(i,c):t?.value&&((l=(s=this.analyticsProvider)===null||s===void 0?void 0:s.setUserProperty)===null||l===void 0||l.call(s,c),(a=this.analyticsProvider)===null||a===void 0||a.track(c))}},n.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.config.debug&&console.debug.apply(console,rm([e],en(t),!1))},n.prototype.shouldRetryFetch=function(e){return e instanceof em?e.statusCode<400||e.statusCode>=500||e.statusCode===429:!0},n.prototype.addPlugin=function(e){e.type==="integration"&&this.integrationManager.setIntegration(e)},n})(),S3=(function(){function n(e,t){var r,i,o;this.globalScope=Pr(),this.userAgent=typeof((r=this.globalScope)===null||r===void 0?void 0:r.navigator)<"u"?(i=this.globalScope)===null||i===void 0?void 0:i.navigator.userAgent:void 0,this.ua=new bI.UAParser(this.userAgent).getResult(),this.localStorage=new im,this.sessionStorage=new xI,this.userProvider=e,this.apiKey=t,this.storageKey="EXP_".concat((o=this.apiKey)===null||o===void 0?void 0:o.slice(0,10),"_DEFAULT_USER_PROVIDER")}return n.prototype.getUser=function(){var e,t,r,i,o,s=((e=this.userProvider)===null||e===void 0?void 0:e.getUser())||{};return Ce({language:this.getLanguage(),platform:"Web",os:this.getOs(this.ua),device_model:this.getDeviceModel(this.ua),device_category:(r=(t=this.ua.device)===null||t===void 0?void 0:t.type)!==null&&r!==void 0?r:"desktop",referring_url:(o=(i=this.globalScope)===null||i===void 0?void 0:i.document)===null||o===void 0?void 0:o.referrer.replace(/\/$/,""),cookie:this.getCookie(),browser:this.getBrowser(this.ua),landing_url:this.getLandingUrl(),first_seen:this.getFirstSeen(),url_param:this.getUrlParam(),user_agent:this.userAgent},s)},n.prototype.getLanguage=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},n.prototype.getOs=function(e){var t,r;return[(t=e.browser)===null||t===void 0?void 0:t.name,(r=e.browser)===null||r===void 0?void 0:r.major].filter(function(i){return i!=null}).join(" ")},n.prototype.getDeviceModel=function(e){var t;return(t=e.os)===null||t===void 0?void 0:t.name},n.prototype.getBrowser=function(e){var t,r=(t=e.browser)===null||t===void 0?void 0:t.name;return r?.includes("Chrom")&&(r="Chrome"),r?.includes("Firefox")&&(r="Firefox"),r?.includes("Safari")&&(r="Safari"),r?.includes("Edge")&&(r="Edge"),r?.includes("Opera")&&(r="Opera"),r},n.prototype.getCookie=function(){var e,t,r,i,o;if(!((t=(e=this.globalScope)===null||e===void 0?void 0:e.document)===null||t===void 0)&&t.cookie)return Object.fromEntries((o=(i=(r=this.globalScope)===null||r===void 0?void 0:r.document)===null||i===void 0?void 0:i.cookie)===null||o===void 0?void 0:o.split("; ").map(function(s){return s.split("=")}))},n.prototype.getLandingUrl=function(){var e,t;try{var r=JSON.parse(this.sessionStorage.get(this.storageKey)||"{}");return r.landing_url||(r.landing_url=(t=(e=this.globalScope)===null||e===void 0?void 0:e.location)===null||t===void 0?void 0:t.href.replace(/\/$/,""),this.sessionStorage.put(this.storageKey,JSON.stringify(r))),r.landing_url}catch{return}},n.prototype.getFirstSeen=function(){try{var e=JSON.parse(this.localStorage.get(this.storageKey)||"{}");return e.first_seen||(e.first_seen=(Date.now()/1e3).toString(),this.localStorage.put(this.storageKey,JSON.stringify(e))),e.first_seen}catch{return}},n.prototype.getUrlParam=function(){var e,t,r;if(this.globalScope){var i={};try{var o=new URL(this.globalScope.location.href);try{for(var s=mr(o.searchParams),l=s.next();!l.done;l=s.next()){var a=en(l.value,2),u=a[0],c=a[1];i[u]=rm(rm([],en((r=i[u])!==null&&r!==void 0?r:[]),!1),en(c.split(",")),!1)}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}}catch{return}return Object.entries(i).reduce(function(f,d){var h=en(d,2),p=h[0],v=h[1];return f[p]=v.length==1?v[0]:v,f},{})}},n})();rt.experimentInstances={};var yI=rt.experimentInstances;var _I=function(n,e){var t=function(){return new KF(n,an.getInstance(CI(e)),1e4)};return _3(n,e,t)},CI=function(n){return n?.instanceName||tn.instanceName},E3=function(n,e){var t=CI(e),r=e?.internalInstanceNameSuffix;return r?"".concat(t,".").concat(n,".").concat(r):"".concat(t,".").concat(n)},x3=function(n,e){return new w3(n,Ce(Ce({},e),{userProvider:new S3(e?.userProvider,n)}))},_3=function(n,e,t){var r=E3(n,e),i=yI[r];return i||(i=x3(n,e),t&&i.addPlugin(t()),yI[r]=i,i)};var n9=(function(){function n(){}return n.prototype.getUser=function(){return{}},n.prototype.start=function(e){return ot(this,void 0,void 0,function(){return st(this,function(t){return[2]})})},n.prototype.stop=function(){},n.prototype.setUser=function(e){},n.prototype.fetch=function(e,t){return ot(this,void 0,void 0,function(){return st(this,function(r){return[2,this]})})},n.prototype.getUserProvider=function(){return null},n.prototype.setUserProvider=function(e){return this},n.prototype.variant=function(e,t){return tn.fallbackVariant},n.prototype.all=function(){return{}},n.prototype.clear=function(){},n.prototype.exposure=function(e){},n})();var Kn=(function(){function n(e){this.name=n.pluginName,this.config=e}return n.prototype.setup=function(e,t){return E(this,void 0,void 0,function(){return S(this,function(r){return this.experiment=_I(e.apiKey,this.config),[2]})})},n.pluginName="@amplitude/experiment-analytics-plugin",n})();var om=function(n){return new Kn(n)};P();var II="1.0.0-beta.2";var C3="amplitude-ts-unified",AI=function(){return{type:"enrichment",name:"@amplitude/unified-library-plugin",execute:function(n){var e;return E(this,void 0,void 0,function(){return S(this,function(t){return n.library="".concat(C3,"/").concat(II,"-").concat((e=n.library)!==null&&e!==void 0?e:""),[2,n]})})}}};var TI=(function(n){ee(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"experiment",{get:function(){if(this.config!==void 0){var t=this.plugins(Kn);if(t.length===0){this.config.loggerProvider.debug("".concat(Kn.pluginName," plugin is not found."));return}else{if(t.length===1)return t[0].experiment;this.config.loggerProvider.debug("Multiple instances of ".concat(Kn.pluginName," are found."));return}}},enumerable:!1,configurable:!0}),e.prototype.initAll=function(t,r){return E(this,void 0,void 0,function(){var i,o;return S(this,function(s){switch(s.label){case 0:return i={serverZone:r?.serverZone,instanceName:r?.instanceName},n.prototype.add.call(this,AI()),[4,n.prototype.init.call(this,t,I(I({},r?.analytics),i)).promise];case 1:return s.sent(),[4,n.prototype.add.call(this,Yl(I(I({},r?.sr),i))).promise];case 2:return s.sent(),[4,n.prototype.add.call(this,om(I(I({},r?.experiment),i))).promise];case 3:return s.sent(),o=this.plugin(_o.pluginName),o===void 0?this.config.loggerProvider.debug("".concat(_o.pluginName," plugin is not found.")):this.sr=o.sr,[2]}})})},e.prototype.init=function(t,r,i){t===void 0&&(t="");var o=n.prototype.init.call(this,t,r,i);return o},e})(_i);Z();var sm=function(){var n=new TI;return{experiment:n.experiment,sr:n.sr,initAll:V(n.initAll.bind(n),"initAll",H(n),q(n,["config"])),init:V(n.init.bind(n),"init",H(n),q(n,["config"])),add:V(n.add.bind(n),"add",H(n),q(n,["config.apiKey","timeline.plugins"])),remove:V(n.remove.bind(n),"remove",H(n),q(n,["config.apiKey","timeline.plugins"])),track:V(n.track.bind(n),"track",H(n),q(n,["config.apiKey","timeline.queue.length"])),logEvent:V(n.logEvent.bind(n),"logEvent",H(n),q(n,["config.apiKey","timeline.queue.length"])),identify:V(n.identify.bind(n),"identify",H(n),q(n,["config.apiKey","timeline.queue.length"])),groupIdentify:V(n.groupIdentify.bind(n),"groupIdentify",H(n),q(n,["config.apiKey","timeline.queue.length"])),setGroup:V(n.setGroup.bind(n),"setGroup",H(n),q(n,["config.apiKey","timeline.queue.length"])),revenue:V(n.revenue.bind(n),"revenue",H(n),q(n,["config.apiKey","timeline.queue.length"])),flush:V(n.flush.bind(n),"flush",H(n),q(n,["config.apiKey","timeline.queue.length"])),getUserId:V(n.getUserId.bind(n),"getUserId",H(n),q(n,["config","config.userId"])),setUserId:V(n.setUserId.bind(n),"setUserId",H(n),q(n,["config","config.userId"])),getDeviceId:V(n.getDeviceId.bind(n),"getDeviceId",H(n),q(n,["config","config.deviceId"])),setDeviceId:V(n.setDeviceId.bind(n),"setDeviceId",H(n),q(n,["config","config.deviceId"])),reset:V(n.reset.bind(n),"reset",H(n),q(n,["config","config.userId","config.deviceId"])),getSessionId:V(n.getSessionId.bind(n),"getSessionId",H(n),q(n,["config"])),setSessionId:V(n.setSessionId.bind(n),"setSessionId",H(n),q(n,["config"])),extendSession:V(n.extendSession.bind(n),"extendSession",H(n),q(n,["config"])),setOptOut:V(n.setOptOut.bind(n),"setOptOut",H(n),q(n,["config"])),setTransport:V(n.setTransport.bind(n),"setTransport",H(n),q(n,["config"]))}},Ve=sm();var I3=Ve.initAll,A3=Ve.experiment,T3=Ve.sr,R3=Ve.add,O3=Ve.extendSession,P3=Ve.flush,N3=Ve.getDeviceId,k3=Ve.getSessionId,M3=Ve.getUserId,L3=Ve.groupIdentify,D3=Ve.identify,U3=Ve.logEvent,$3=Ve.remove,F3=Ve.reset,B3=Ve.revenue,G3=Ve.setDeviceId,W3=Ve.setGroup,V3=Ve.setOptOut,j3=Ve.setSessionId,z3=Ve.setTransport,H3=Ve.setUserId,q3=Ve.track;window.AmplitudeUnified=am;})();
