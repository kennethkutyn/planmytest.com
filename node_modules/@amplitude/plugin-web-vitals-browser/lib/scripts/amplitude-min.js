var amplitudeWebVitalsPlugin=function(e){"use strict";function t(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function n(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}"function"==typeof SuppressedError&&SuppressedError;let i=-1;const r=e=>{addEventListener("pageshow",(t=>{t.persisted&&(i=t.timeStamp,e(t))}),!0)},o=(e,t,n,i)=>{let r,o;return a=>{t.value>=0&&(a||i)&&(o=t.value-(r??0),(o||void 0===r)&&(r=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},a=e=>{requestAnimationFrame((()=>requestAnimationFrame((()=>e()))))},s=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},l=()=>{const e=s();return e?.activationStart??0},u=(e,t=-1)=>{const n=s();let r="navigate";return i>=0?r="back-forward-cache":n&&(document.prerendering||l()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},c=new WeakMap;function d(e,t){return c.get(e)||c.set(e,new t),c.get(e)}class f{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const t=this.o[0],n=this.o.at(-1);this.i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const p=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return i.observe({type:e,buffered:!0,...n}),i}}catch{}},h=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let v=-1;const m=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,g=e=>{"hidden"===document.visibilityState&&v>-1&&(v="visibilitychange"===e.type?e.timeStamp:0,b())},y=()=>{addEventListener("visibilitychange",g,!0),addEventListener("prerenderingchange",g,!0)},b=()=>{removeEventListener("visibilitychange",g,!0),removeEventListener("prerenderingchange",g,!0)},T=()=>{if(v<0){const e=l(),t=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter((t=>"hidden"===t.name&&t.startTime>e))[0]?.startTime;v=t??m(),y(),r((()=>{setTimeout((()=>{v=m(),y()}))}))}return{get firstHiddenTime(){return v}}},w=e=>{document.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()},P=[1800,3e3],A=(e,t={})=>{w((()=>{const n=T();let i,s=u("FCP");const c=p("paint",(e=>{for(const t of e)"first-contentful-paint"===t.name&&(c.disconnect(),t.startTime<n.firstHiddenTime&&(s.value=Math.max(t.startTime-l(),0),s.entries.push(t),i(!0)))}));c&&(i=o(e,s,P,t.reportAllChanges),r((n=>{s=u("FCP"),i=o(e,s,P,t.reportAllChanges),a((()=>{s.value=performance.now()-n.timeStamp,i(!0)}))})))}))},C=[.1,.25];let E=0,S=1/0,L=0;const I=e=>{for(const t of e)t.interactionId&&(S=Math.min(S,t.interactionId),L=Math.max(L,t.interactionId),E=L?(L-S)/7+1:0)};let M;const k=()=>M?E:performance.interactionCount??0;let x=0;class F{u=[];l=new Map;m;p;v(){x=k(),this.u.length=0,this.l.clear()}P(){const e=Math.min(this.u.length-1,Math.floor((k()-x)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this.u.at(-1);let n=this.l.get(e.interactionId);if(n||this.u.length<10||e.duration>t.T){if(n?e.duration>n.T?(n.entries=[e],n.T=e.duration):e.duration===n.T&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],T:e.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort(((e,t)=>t.T-e.T)),this.u.length>10){const e=this.u.splice(10);for(const t of e)this.l.delete(t.id)}this.p?.(n)}}}const O=e=>{const t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(t(e=h(e)),document.addEventListener("visibilitychange",e,{once:!0}))},R=[200,500],B=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&w((()=>{"interactionCount"in performance||M||(M=p("event",I,{type:"event",buffered:!0,durationThreshold:0}));let n,i=u("INP");const a=d(t,F),s=e=>{O((()=>{for(const t of e)a.h(t);const t=a.P();t&&t.T!==i.value&&(i.value=t.T,i.entries=t.entries,n())}))},l=p("event",s,{durationThreshold:t.durationThreshold??40});n=o(e,i,R,t.reportAllChanges),l&&(l.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&(s(l.takeRecords()),n(!0))})),r((()=>{a.v(),i=u("INP"),n=o(e,i,R,t.reportAllChanges)})))}))};class q{m;h(e){this.m?.(e)}}const N=[2500,4e3],V=[800,1800],j=e=>{document.prerendering?w((()=>j(e))):"complete"!==document.readyState?addEventListener("load",(()=>j(e)),!0):setTimeout(e)};function D(e){var t,n=(null===(t=e.entries[0])||void 0===t?void 0:t.startTime)||0;return performance.timeOrigin+n}function H(e){return{value:e.value,rating:e.rating,delta:e.delta,navigationType:e.navigationType,id:e.id,timestamp:Math.floor(D(e)),navigationStart:Math.floor(performance.timeOrigin)}}var U=function(){var e,i=null,c=(e="ampIntegrationContext","undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:void 0),v=null==c?void 0:c.document,m=null==c?void 0:c.location;return{name:"web-vitals-browser",type:"enrichment",setup:function(e,c){return t(void 0,void 0,void 0,(function(){var t,g,y;return n(this,(function(n){return t=function(t){var n;if(!t)return"";var i=t;try{i=decodeURI(t)}catch(t){null===(n=e.loggerProvider)||void 0===n||n.error("Malformed URI sequence: ",t)}return i},void 0===v||(g=t(null==m?void 0:m.href),y={"[Amplitude] Page Domain":(null==m?void 0:m.hostname)||"","[Amplitude] Page Location":g,"[Amplitude] Page Path":t(null==m?void 0:m.pathname),"[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":g.split("?")[0]},((e,t={})=>{w((()=>{const n=T();let i,s=u("LCP");const c=d(t,q),f=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)c.h(t),t.startTime<n.firstHiddenTime&&(s.value=Math.max(t.startTime-l(),0),s.entries=[t],i())},v=p("largest-contentful-paint",f);if(v){i=o(e,s,N,t.reportAllChanges);const n=h((()=>{f(v.takeRecords()),v.disconnect(),i(!0)}));for(const e of["keydown","click","visibilitychange"])addEventListener(e,(()=>O(n)),{capture:!0,once:!0});r((n=>{s=u("LCP"),i=o(e,s,N,t.reportAllChanges),a((()=>{s.value=performance.now()-n.timeStamp,i(!0)}))}))}}))})((function(e){y["[Amplitude] LCP"]=H(e)})),A((function(e){y["[Amplitude] FCP"]=H(e)})),B((function(e){y["[Amplitude] INP"]=H(e)})),((e,t={})=>{A(h((()=>{let n,i=u("CLS",0);const s=d(t,f),l=e=>{for(const t of e)s.h(t);s.i>i.value&&(i.value=s.i,i.entries=s.o,n())},c=p("layout-shift",l);c&&(n=o(e,i,C,t.reportAllChanges),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&(l(c.takeRecords()),n(!0))})),r((()=>{s.i=0,i=u("CLS",0),n=o(e,i,C,t.reportAllChanges),a((()=>n()))})),setTimeout(n))})))})((function(e){y["[Amplitude] CLS"]=H(e)})),((e,t={})=>{let n=u("TTFB"),i=o(e,n,V,t.reportAllChanges);j((()=>{const a=s();a&&(n.value=Math.max(a.responseStart-l(),0),n.entries=[a],i(!0),r((()=>{n=u("TTFB",0),i=o(e,n,V,t.reportAllChanges),i(!0)})))}))})((function(e){y["[Amplitude] TTFB"]=H(e)})),i=function(){"hidden"===v.visibilityState&&i&&(c.track("[Amplitude] Web Vitals",y),v.removeEventListener("visibilitychange",i),i=null)},v.addEventListener("visibilitychange",i)),[2]}))}))},execute:function(e){return t(void 0,void 0,void 0,(function(){return n(this,(function(t){return[2,e]}))}))},teardown:function(){return t(void 0,void 0,void 0,(function(){return n(this,(function(e){return i&&(null==v||v.removeEventListener("visibilitychange",i)),[2]}))}))}}};return e.VERSION="0.1.0-frustrationanalytics.0",e.plugin=U,e.webVitalsPlugin=U,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=amplitude-min.js.map
