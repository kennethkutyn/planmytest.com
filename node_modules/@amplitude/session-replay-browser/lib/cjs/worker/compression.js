"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.compressionOnMessage = void 0;
/* eslint-disable @typescript-eslint/no-unsafe-member-access */
/* eslint-disable @typescript-eslint/no-unsafe-assignment */
var rrweb_packer_1 = require("@amplitude/rrweb-packer");
onmessage = function (e) {
    var _a = e.data, event = _a.event, sessionId = _a.sessionId;
    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
    var compressedEvent = JSON.stringify((0, rrweb_packer_1.pack)(event));
    postMessage({ compressedEvent: compressedEvent, sessionId: sessionId });
};
// added for testing
exports.compressionOnMessage = onmessage;
//# sourceMappingURL=compression.js.map