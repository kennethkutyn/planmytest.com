{"version":3,"file":"experiment.js","sourceRoot":"","sources":["../../src/experiment.ts"],"names":[],"mappings":";AAEA,OAAO,EAGL,gCAAgC,GACjC,MAAM,iCAAiC,CAAC;AAEzC;IAQE,0BAAY,MAAyB;QANrC,SAAI,GAAG,gBAAgB,CAAC,UAAU,CAAC;QAOjC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAEK,gCAAK,GAAX,UAAY,MAAqB,EAAE,OAAsB;;;gBACvD,IAAI,CAAC,UAAU,GAAG,gCAAgC,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;;;;KAChF;IAbM,2BAAU,GAAG,wCAAwC,CAAC;IAc/D,uBAAC;CAAA,AAfD,IAeC;SAfY,gBAAgB;AAiB7B,MAAM,CAAC,IAAM,gBAAgB,GAAkF,UAC7G,MAAyB;IAEzB,OAAO,IAAI,gBAAgB,CAAC,MAAM,CAAC,CAAC;AACtC,CAAC,CAAC","sourcesContent":["import { EnrichmentPlugin, BrowserClient, BrowserConfig } from '@amplitude/analytics-core';\n\nimport {\n  ExperimentConfig,\n  Client as IExperimentClient,\n  initializeWithAmplitudeAnalytics,\n} from '@amplitude/experiment-js-client';\n\nexport class ExperimentPlugin implements EnrichmentPlugin<BrowserClient, BrowserConfig> {\n  static pluginName = '@amplitude/experiment-analytics-plugin';\n  name = ExperimentPlugin.pluginName;\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  experiment: IExperimentClient;\n  config?: ExperimentConfig;\n\n  constructor(config?: ExperimentConfig) {\n    this.config = config;\n  }\n\n  async setup(config: BrowserConfig, _client: BrowserClient) {\n    this.experiment = initializeWithAmplitudeAnalytics(config.apiKey, this.config);\n  }\n}\n\nexport const experimentPlugin: (config?: ExperimentConfig) => EnrichmentPlugin<BrowserClient, BrowserConfig> = (\n  config?: ExperimentConfig,\n) => {\n  return new ExperimentPlugin(config);\n};\n"]}